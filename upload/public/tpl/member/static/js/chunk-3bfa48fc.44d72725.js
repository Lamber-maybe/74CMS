(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bfa48fc"],{"17b89":function(t,e,i){t.exports=i.p+"static/img/payment_icon_3.5c3f6c6d.png"},"27fb":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payment-box"},[n("div",{staticClass:"item",class:["alipay"==t.payment?"border":""],on:{click:function(e){return t.choosePayment("alipay")}}},[n("img",{attrs:{src:i("a0f1")}}),t._v("支付宝支付"),"alipay"==t.payment?n("i",{staticClass:"el-icon-check"}):t._e()]),n("div",{staticClass:"item",class:["wxpay"==t.payment?"border":""],on:{click:function(e){return t.choosePayment("wxpay")}}},[n("img",{attrs:{src:i("f479")}}),t._v("微信支付 "),"wxpay"==t.payment?n("i",{staticClass:"el-icon-check"}):t._e()])])},a=[],s={name:"Payment",data:function(){return{payment:"wxpay"}},created:function(){},methods:{choosePayment:function(t){this.payment=t,this.$emit("choosePayment",this.payment)}}},c=s,o=(i("fda7"),i("2877")),r=Object(o["a"])(c,n,a,!1,null,"1f18e00e",null);e["a"]=r.exports},"311f":function(t,e,i){t.exports=i.p+"static/img/payment_icon_1.63ee9a7e.png"},"3e9f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("OrderDetail")},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",[n("div",{staticClass:"payment_wrapper"},[n("div",{staticClass:"payment_title"},[n("h3",[t._v(t._s(t.info.service_name))]),n("span",[t._v(t._s(t.shortDesc))])]),n("div",{staticClass:"payment_img"},[0==t.info.status?n("img",{attrs:{src:i("311f")}}):t._e(),1==t.info.status?n("img",{attrs:{src:i("5105")}}):t._e(),2==t.info.status?n("img",{attrs:{src:i("17b89")}}):t._e()])])]),n("el-card",[n("div",[n("div",{staticClass:"payment_con"},[n("div",{staticClass:"con_title"},[t._v("订单内容")]),n("ul",{staticClass:"con_list"},[void 0!==t.info.extra.jobname?n("li",{staticClass:"con_width"},[n("span",[t._v("推广职位：")]),t._v(t._s(t.info.extra.jobname)+" ")]):t._e(),void 0!==t.info.extra.tag_text?n("li",{staticClass:"con_width"},[n("span",[t._v("使用标签：")]),t._v(t._s(t.info.extra.tag_text)+" ")]):t._e(),n("li",[n("span",[t._v("服务内容：")]),t._v(t._s(t.info.service_type_text))]),n("li",[n("span",[t._v("服务金额：")]),t._v(t._s(t.info.service_amount)+" 元")]),void 0!==t.info.extra.preferential_info?n("li",[n("span",[t._v("限时特惠：")]),t._v(t._s(t.info.extra.preferential_info.amount)+" 元 "),n("span",[t._v("("+t._s(t._f("dateFilter")(t.info.extra.preferential_info.starttime))+"至"+t._s(t._f("dateFilter")(t.info.extra.preferential_info.endtime))+")")])]):t._e(),void 0!==t.info.extra.coupon_info?n("li",[n("span",[t._v("优惠券：")]),t._v(t._s(t.info.extra.coupon_info.name)+" ")]):t._e(),void 0!==t.info.extra.coupon_info?n("li",[n("span",[t._v("优惠券折扣：")]),t._v("-"+t._s(t.info.extra.coupon_info.face_value)+" 元 ")]):t._e(),void 0!==t.info.extra.service_added_discount&&t.info.extra.service_added_discount>0?n("li",[n("span",[t._v("专享折扣：")]),t._v("增值服务"+t._s(t.info.extra.service_added_discount)+" 折 ")]):t._e(),void 0!==t.info.extra.service_added_discount&&t.info.extra.service_added_discount>0?n("li",[n("span",[t._v("折扣金额：")]),t._v("-"+t._s(t.info.service_amount_after_discount)+" 元 ")]):t._e(),t.info.deduct_points>0?n("li",[n("span",[t._v(t._s(t.$store.state.config.points_byname)+"抵扣：")]),t._v("-"+t._s(t.info.deduct_amount)+" 元 ")]):t._e(),"points"==t.info.service_type?n("li",[n("span",[t._v("充值"+t._s(t.$store.state.config.points_byname)+"：")]),t._v(t._s(t.info.extra.add_points)+" "+t._s(t.$store.state.config.points_byname)+" ")]):t._e(),n("li",[n("span",[t._v("应付金额：")]),n("span",{staticClass:"con_font_color"},[t._v(t._s(t.info.amount))]),t._v(" 元 ")])]),n("div",{staticClass:"con_title"},[t._v("订单信息")]),n("ul",{staticClass:"con_list"},[n("li",[n("span",[t._v("订单编号：")]),t._v(t._s(t.info.oid))]),n("li",[n("span",[t._v("创建时间：")]),t._v(t._s(t._f("timeFilter")(t.info.addtime)))]),0==t.info.status?n("li",[n("span",[t._v("付款时间：")]),t._v("待付款")]):t._e(),1==t.info.status?n("li",[n("span",[t._v("付款时间：")]),t._v(t._s(t._f("timeFilter")(t.info.paytime))+" ")]):t._e(),n("li",[n("span",[t._v("支付渠道：")]),n("span",[t._v(t._s(""==t.info.payment_text?"无":t.info.payment_text))])]),0==t.info.status?n("li",{staticClass:"payment_type"},[n("span",[t._v("支付方式：")]),n("Payment",{on:{choosePayment:t.choosePayment}})],1):t._e(),n("li",{staticClass:"payment_btn"},[0==t.info.status?n("el-button",{attrs:{type:"primary"},on:{click:t.handlerSubmit}},[t._v("继续支付")]):t._e(),0==t.info.status?n("el-button",{on:{click:t.handlerCancel}},[t._v("取消订单")]):t._e(),2==t.info.status?n("el-button",{staticClass:"single",on:{click:t.handlerDel}},[t._v("删除订单")]):t._e()],1)])])])]),n("PaySubmit",{ref:"paySubmit",attrs:{showWaiting:!0,payment:t.payment,successUrl:"/company/service/order",failUrl:"/company/service/order"}})],1)},c=[],o=i("5530"),r=i("a445"),l=i("27fb"),p=i("ed08"),m=i("751a"),u=i("d722"),d={name:"CompanyOrderDetail",components:{PaySubmit:r["a"],Payment:l["a"]},filters:{timeFilter:function(t){return Object(p["g"])(t,"{y}-{m}-{d} {h}:{i}:{s}")},dateFilter:function(t){return Object(p["g"])(t,"{m}月{d}日")}},data:function(){return{order_id:0,info:{extra:{}},payment:"wxpay",shortDesc:"",showWaitingPay:!1}},created:function(){this.order_id=this.$route.params.id,this.fetchData()},methods:{choosePayment:function(t){this.payment=t},fetchData:function(){var t=this;m["a"].get(u["a"].company_orderdetail,{id:this.order_id}).then((function(e){t.info=Object(o["a"])({},e.data),t.shortDesc=t.filterDesc(t.info)})).catch((function(){}))},filterDesc:function(t){var e="";switch(t.service_type){case"points":e="做任务免费得"+this.$store.state.config.points_byname+"，小"+this.$store.state.config.points_byname+"大用处";break;case"setmeal":e="套餐服务期："+t.extra.days+"天";break;case"jobstick":e="锁定好位，提高职位曝光量";break;case"emergency":e="急聘职位优先推荐，专属标识";break;case"im":e="超值职聊叠加包";break;case"resume_package":e="超值简历下载叠加包";break;case"refresh_job_package":e="自动抢占招聘先机";break;case"single_job_refresh":e="单次刷新职位-快捷支付";break;case"single_resume_down":e="单次下载简历-快捷支付";break}return e},handlerSubmit:function(){this.$refs.paySubmit.handlerSubmit(u["a"].company_repay,{id:this.order_id,payment:this.payment})},handlerCancel:function(){var t=this;this.$confirm("确定取消该订单吗？","系统提示",{type:"warning"}).then((function(){m["a"].post(u["a"].company_order_cancel,{id:t.order_id}).then((function(e){t.$message({type:"success",message:e.message}),t.$router.push("/company/service/order")})).catch((function(){}))})).catch((function(){}))},handlerDel:function(){var t=this;this.$confirm("确定删除该订单吗？","系统提示",{type:"warning"}).then((function(){m["a"].post(u["a"].company_order_del,{id:t.order_id}).then((function(e){t.$message({type:"success",message:e.message}),t.$router.push("/company/service/order")})).catch((function(){}))})).catch((function(){}))}}},f=d,h=(i("c6d4"),i("2877")),_=Object(h["a"])(f,s,c,!1,null,null,null),y=_.exports,v={name:"CompanyOrderView",components:{OrderDetail:y}},A=v,b=Object(h["a"])(A,n,a,!1,null,null,null);e["default"]=b.exports},5105:function(t,e,i){t.exports=i.p+"static/img/payment_icon_2.b5d21e95.png"},"8c50":function(t,e,i){},a0f1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAIAAAAS8MqlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiZDFkODdlYS0wOWRmLTk0NGItYmY4ZS03OTVlMTcwMmM4NmEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY5RTdFNzhFNjdDMTFFQUJENUNCMEMzNjJERDU3NkMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY5RTdFNzdFNjdDMTFFQUJENUNCMEMzNjJERDU3NkMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZWFkOTZhMGMtMTkxMi1hNDQ1LThhMjMtMDU5OTkxNTk3MmVhIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OTljN2ZlMzYtNzg4NC1iOTQxLThiZjMtZDcyOTU0MjE1NjcyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2xlCFwAAAk9JREFUeNpi/P//PwMSOPr696bHP4+8/v30218gV5qL2UaU1V+W3UqUFVkZI1zbnc9/K85/Of76NwM2YCnK2mHIo8LLjKINqDrh2Kcvf/4z4AY8LIwLrPgswdaCtAHt8dn/4fNvFD3iHExA8uWPf8iCvKyMWxwFgHYyAdUWn/2CpgcINjkKzDDnRRMEKgMqBiplOfLq95m3UP/IcjHHKnFA2PysjMzczFU63BDuxic/r374A2QAFQO1sGx+8hNu2ONvf9uufIWwA2TZnyJxkQFQC6PVjncPvvyFC0UqcBgIsQAZfKyM//4zcLMwmgmzzr7zvf/6N7gaeW5mFkj8wMHKhz82PGb8/hfq1SJNLldJtmOosfL8+z8WdibG3/9AiqQ4mer0uIEByMfGxMvCeOH9770vfofKs9/49PfUG/TIZJHgZAJGAJAVocCRd/rLL7ARQBcCuTU6XELsTBfe/3GUYDv48hfMBQxSXExM5iLQVMPKxADRAwSffv+/+ekPLyvT9me/RNmZFlvznfYSAoYqJJWYCLEwHnr5K+LwRyCnRpf73pe/u579EmRjTFTmDFdg7732bdqt70DjwhU4ctQ5gdEDVHb27R8uFgZgcP0POPARGBvMjAxxShxe0uyMDAxAhy27/+MeUgizMDGEynHkaXDKcTNDE9ftz399MRIXVgB0yCE3QaCHQQlPlZd5viUfMKXi1wNMkHMt+YB6SMg4psKsvcY8ymgZBw4Ov/oNTDvAVPf0+18mBkZJTiYzEZZAWQ47cVZGrNmUJAAQYAC19gZNyJyvPAAAAABJRU5ErkJggg=="},a445:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"支付提醒",visible:t.showWaitingPay,width:"400px","append-to-body":!0,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.showWaitingPay=e}}},[i("span",{staticClass:"payment_text"},[t._v("请在新打开的页面上完成支付。支付完成后，请根据您支付的情况点击下面按钮。")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handlerPaySuccess}},[t._v("支付成功")]),i("el-button",{on:{click:t.handlerPayFail}},[t._v("支付失败")])],1)])],1)},a=[],s=i("751a"),c={name:"PaySubmit",props:["payment","showWaiting","successUrl","failUrl","customLocation"],data:function(){return{showWaitingPay:!1}},created:function(){},methods:{handlerSubmit:function(t,e,i){var n=this;if("alipay"==e.payment&&!this.$store.state.config.account_alipay_appid)return this.$alert("暂不支持支付宝付款，请选择其他付款方式","提示",{confirmButtonText:"确定",type:"warning",callback:function(){}}),!1;if("wxpay"==e.payment&&!this.$store.state.config.payment_wechat_appid)return this.$alert("暂不支持微信付款，请选择其他付款方式","提示",{confirmButtonText:"确定",type:"warning",callback:function(){}}),!1;var a=this;s["a"].post(t,e).then((function(t){if(1==t.data.pay_status)return n.$message({type:"success",message:"支付成功"}),"function"===typeof i?(i(),!1):(setTimeout((function(){a.$route.path===a.successUrl?location.reload():a.$router.push(a.successUrl)}),1500),!1);n.handlerPay(t.data,i)})).catch((function(){setTimeout((function(){a.$route.path===a.successUrl?location.reload():a.$router.push(a.successUrl)}),1500)}))},handlerPay:function(t,e){if(!0===this.showWaiting&&(this.showWaitingPay=!0),"wxpay"==this.payment){var i=this.$router.resolve({path:"/wxpay",query:{parameter:t.parameter,oid:t.order_oid,amount:t.order_amount,custom_location:void 0===this.customLocation?0:1,success_url:this.successUrl}}),n=i.href;window.open(n)}else window.open(t.parameter);if("function"===typeof e)return e(),!1},handlerPaySuccess:function(){var t=this;t.showWaitingPay=!1,t.$route.path===t.successUrl?location.reload():t.$router.push(t.successUrl)},handlerPayFail:function(){var t=this;t.showWaitingPay=!1,t.$route.path===t.failUrl?location.reload():t.$router.push(t.failUrl)}}},o=c,r=i("2877"),l=Object(r["a"])(o,n,a,!1,null,"27bef27a",null);e["a"]=l.exports},ae36:function(t,e,i){},c6d4:function(t,e,i){"use strict";i("8c50")},f479:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAIAAAAS8MqlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiZDFkODdlYS0wOWRmLTk0NGItYmY4ZS03OTVlMTcwMmM4NmEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTIzMDRDRTNFNjdDMTFFQUJENUNCMEMzNjJERDU3NkMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTIzMDRDRTJFNjdDMTFFQUJENUNCMEMzNjJERDU3NkMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZWFkOTZhMGMtMTkxMi1hNDQ1LThhMjMtMDU5OTkxNTk3MmVhIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OTljN2ZlMzYtNzg4NC1iOTQxLThiZjMtZDcyOTU0MjE1NjcyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Ox4V7AAAAhpJREFUeNpi/P//PwMSOP/mzP6nu8+/PvPy+wtmRiZhDlEdIT0XGU9jMTNGBka4Mka4tkdfHky42HnhzVkGbEBbSK/UsEaORwFF28U356pPFn37840BN+Bi4W6z6NMTNoRqA9qTfSjp6+8vDIQANyvPHIel4lySLP8Z/nedbyZGjwq/WrJmJlAPkM1y7vXpa+8u49cgwy2bqJnhIO3y/c+37vMtQAbLgad7EOHDyPT//z9kDaKcYrFqyZ7yfsyMzMBABrrr5bfn//7/ZUEOuhaznsW35t54fxXI5mcTiFSN81cMZWdm//n3x7Rr/RvurQb6CCh16d0FFmD8wLU9+Hx3os3MVXeWsjCx+MgHAgMAKHj9/ZX2cw1PvjyCK3vz/TWj2ybr3/9+QfiyPPILnVfDpf/8+73w5pwVtxf9/f8X2eUsTKxMIhwicP7jLw+vvb8CYd/9eDvzUMLSW/PR9EA8zKQrbIAstOPR5n///y2/vQioB6gTa8ACkxvjqZfHy4/nwYWYGJn42Pg//HyPJz46LCcymYiZawnqwIWAVuHXoymoYypmwQRM16WGtZBAIwjYmTnKDOuAWpiAHHleRWCMcbFw4dfDy8rbYTFBnheUCZggQvoiRhYStnj0AENuqt18oDJoHCBC//MDYHgEKoV//Pn+yruLL7+/ZGNiE+EQ1RcxtJdyAfoHJergLGYmlj7r6ZDsRBAABBgA9pjXch+ZaU8AAAAASUVORK5CYII="},fda7:function(t,e,i){"use strict";i("ae36")}}]);