(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d78b27c"],{2909:function(t,r,e){"use strict";e.d(r,"a",(function(){return c}));var a=e("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("d3b7"),e("3ca3"),e("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=e("06c5");function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||o(t)||Object(s["a"])(t)||n()}},"3a46":function(t,r,e){"use strict";var a=e("475e"),i=e.n(a);i.a},"475e":function(t,r,e){},a7c9:function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"main"},[e("el-form",{ref:"form",attrs:{"label-width":"80px",model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"期望职位",prop:"categoryArr"}},[e("el-cascader",{ref:"intCategory",attrs:{placeholder:"请选择期望职位",options:t.columnsJobcategory,filterable:""},model:{value:t.form.categoryArr,callback:function(r){t.$set(t.form,"categoryArr",r)},expression:"form.categoryArr"}})],1),e("el-form-item",{attrs:{label:"工作地区",prop:"districtArr"}},[e("el-cascader",{ref:"intDistrict",attrs:{placeholder:"请选择期望地区",options:t.columnsCitycategory,props:{checkStrictly:!0},filterable:""},model:{value:t.form.districtArr,callback:function(r){t.$set(t.form,"districtArr",r)},expression:"form.districtArr"}})],1),e("el-form-item",{attrs:{label:"最低薪资",prop:"minwage"}},[e("el-select",{staticClass:"w118",attrs:{placeholder:"请选择"},on:{change:t.handlerMinwageChange},model:{value:t.form.minwage,callback:function(r){t.$set(t.form,"minwage",r)},expression:"form.minwage"}},t._l(t.columnsMinWage,(function(t,r){return e("el-option",{key:r,attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:"最高薪资",prop:"maxwage"}},[e("el-select",{staticClass:"w118",attrs:{placeholder:"请选择"},model:{value:t.form.maxwage,callback:function(r){t.$set(t.form,"maxwage",r)},expression:"form.maxwage"}},t._l(t.options_maxwage,(function(t,r){return e("el-option",{key:r,attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),!0===t.hasInfo?e("el-button",{on:{click:t.onCancel}},[t._v("取消订阅")]):t._e()],1)],1)],1)},i=[],o=(e("c975"),e("2909")),s=e("751a"),n=e("d722"),c={data:function(){return{form:{categoryArr:[],districtArr:[],minwage:"",maxwage:""},optionCategory:[],optionDistrict:[],options_maxwage:[],hasInfo:!1,rules:{categoryArr:[{required:!0,message:"请选择期望职位",trigger:"change"}],districtArr:[{required:!0,message:"请选择期望地区",trigger:"change"}],minwage:[{required:!0,message:"请选择最低薪资",trigger:"change"}],maxwage:[{required:!0,message:"请选择最高薪资",trigger:"change"}]}}},created:function(){this.fetchData()},computed:{columnsCitycategory:function(){return this.$store.state.classifyCityCategory},columnsJobcategory:function(){return this.$store.state.classifyJobCategory},columnsMinWage:function(){var t=[],r=Object(o["a"])(this.$store.state.classifyWage);r.length>0&&r.pop();for(var e=0;e<r.length;e++){var a={id:r[e],name:r[e]+"元/月"};t.push(a)}return t}},mounted:function(){this.$store.dispatch("getClassify","jobcategory"),this.$store.dispatch("getClassify","citycategory"),this.$store.dispatch("getClassifyWage")},methods:{fetchData:function(){var t=this;s["a"].get(n["a"].personal_subscribe_job).then((function(r){null!==r.data&&(t.hasInfo=!0,t.form.minwage=r.data.minwage>0?r.data.minwage:"",t.form.maxwage=r.data.maxwage>0?r.data.maxwage:"",""!=t.form.minwage&&t.handlerMinwageChange(t.form.minwage),r.data.category1=r.data.category1>0?r.data.category1:0,r.data.category2=r.data.category2>0?r.data.category2:0,r.data.category3=r.data.category3>0?r.data.category3:0,r.data.category1>0&&(t.form.categoryArr.push(r.data.category1),r.data.category2>0&&(t.form.categoryArr.push(r.data.category2),r.data.category3>0&&t.form.categoryArr.push(r.data.category3))),r.data.district1>0&&(t.form.districtArr.push(r.data.district1),r.data.district2>0&&(t.form.districtArr.push(r.data.district2),r.data.district3>0&&t.form.districtArr.push(r.data.district3))))}))},handlerMinwageChange:function(t){this.handleMaxwageChange(t)},handleMaxwageChange:function(t){var r=this.$store.state.classifyWage;if(!t)return!1;this.options_maxwage=[];var e=r.indexOf(t)+1;t>=this.form.maxwage&&(this.form.maxwage=r[e]);for(var a=e;a<r.length;a++){var i={id:r[a],name:r[a]+"元/月"};this.options_maxwage.push(i)}},onSubmit:function(){var t=this,r={category1:0,category2:0,category3:0,district1:0,district2:0,district3:0,minwage:this.form.minwage,maxwage:this.form.maxwage};3===this.form.categoryArr.length?(r.category1=this.form.categoryArr[0],r.category2=this.form.categoryArr[1],r.category3=this.form.categoryArr[2]):2===this.form.categoryArr.length?(r.category1=this.form.categoryArr[0],r.category2=this.form.categoryArr[1]):1===this.form.categoryArr.length&&(r.category1=this.form.categoryArr[0]),3===this.form.districtArr.length?(r.district1=this.form.districtArr[0],r.district2=this.form.districtArr[1],r.district3=this.form.districtArr[2]):2===this.form.districtArr.length?(r.district1=this.form.districtArr[0],r.district2=this.form.districtArr[1]):1===this.form.districtArr.length&&(r.district1=this.form.districtArr[0]),this.$refs.form.validate((function(e){if(!e)return!1;s["a"].post(n["a"].personal_subscribe_job_save,r).then((function(r){t.$message({type:"success",message:r.message}),t.hasInfo=!0}))}))},onCancel:function(){var t=this;s["a"].post(n["a"].personal_subscribe_job_cancel).then((function(r){t.$message({type:"success",message:r.message}),t.hasInfo=!1,t.$refs.form.resetFields()}))}}},g=c,m=(e("3a46"),e("2877")),f=Object(m["a"])(g,a,i,!1,null,"7809b874",null);r["default"]=f.exports},c975:function(t,r,e){"use strict";var a=e("23e7"),i=e("4d64").indexOf,o=e("a640"),s=e("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,g=o("indexOf"),m=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!g||!m},{indexOf:function(t){return c?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);