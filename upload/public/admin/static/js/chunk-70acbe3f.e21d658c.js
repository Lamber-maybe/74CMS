(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70acbe3f"],{"06f3":function(e,t,a){"use strict";a("559d")},"35b4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号设置",lazy:!0}},[a("accountSettings")],1),a("el-tab-pane",{attrs:{label:"客服名片",lazy:!0}},[a("customerService")],1)],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{size:"medium",model:e.form,"label-width":"160px"}},[a("el-form-item",{staticClass:"flex",attrs:{label:"账户名称：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),a("el-button",{staticClass:"edit",attrs:{type:"text"},on:{click:function(t){return e.editUsername(e.form.username)}}},[e._v("修改")])],1),a("el-form-item",{attrs:{label:"个人头像："}},[a("el-upload",{ref:"avatarRef",staticClass:"upload_box",attrs:{headers:e.headers,action:e.apiUpload,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.avatar?a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.form.avatar}}),a("div",{staticClass:"avatar_icon"},[a("i",{staticClass:"el-icon-upload2 icon_del"}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.delAvatar.apply(null,arguments)}}})])]):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticClass:"flex",attrs:{label:"登录密码：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("el-button",{staticClass:"edit",attrs:{type:"text"},on:{click:e.editPassword}},[e._v("修改")])],1),a("el-form-item",{staticClass:"flex",attrs:{label:"绑定手机：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),a("el-button",{staticClass:"edit",attrs:{type:"text"},on:{click:e.editPhone}},[e._v("修改")])],1),a("el-form-item",{attrs:{label:"绑定微信：",prop:"name"}},[""==e.form.openid?a("span",[a("el-button",{staticClass:"btn-s",attrs:{type:"text"},on:{click:function(t){return e.funBind()}}},[e._v("绑定")])],1):a("span",[a("el-button",{staticClass:"btn-sred",attrs:{type:"text"},on:{click:function(t){return e.funBindCancel()}}},[e._v("解绑")])],1),a("span",{staticClass:"smalltip"},[a("i",{staticClass:"el-icon-info"}),e._v(" 扫码绑定微信，创建完成后请用此微信，登录管理后台 ")])])],1),a("el-dialog",{attrs:{title:"修改密码",visible:e.pwDialogVisible,width:"40%"},on:{"update:visible":function(t){e.pwDialogVisible=t}}},[a("el-form",{ref:"pwRuleForm",attrs:{model:e.pwRuleForm,rules:e.pwRules,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"old_password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.pwRuleForm.old_password,callback:function(t){e.$set(e.pwRuleForm,"old_password",t)},expression:"pwRuleForm.old_password"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.pwRuleForm.password,callback:function(t){e.$set(e.pwRuleForm,"password",t)},expression:"pwRuleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"password_confirm"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.pwRuleForm.password_confirm,callback:function(t){e.$set(e.pwRuleForm,"password_confirm",t)},expression:"pwRuleForm.password_confirm"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.pwDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.pwSubmitForm("pwRuleForm")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改手机号",visible:e.phoneDialogVisible,width:"40%"},on:{"update:visible":function(t){e.phoneDialogVisible=t}}},[a("el-form",{ref:"phoneRuleForm",attrs:{model:e.phoneRuleForm,rules:e.phoneRules,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.phoneRuleForm.mobile,callback:function(t){e.$set(e.phoneRuleForm,"mobile",t)},expression:"phoneRuleForm.mobile"}})],1),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.phoneRuleForm.code,callback:function(t){e.$set(e.phoneRuleForm,"code",t)},expression:"phoneRuleForm.code"}},[a("template",{slot:"append"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handlerSendCode}},[e._v(e._s(e.codeFlag?"发送验证码":e.timeNumber+"秒后重试"))])],1)],2)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.phoneDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.phoneSubmitForm("phoneRuleForm")}}},[e._v("确 定")])],1)],1),e.showQrcode?a("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:"扫码绑定",visible:e.showQrcode,width:"15%","close-on-click-modal":!1},on:{"update:visible":function(t){e.showQrcode=t},close:function(t){e.showQrcode=!1}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("img",{attrs:{src:e.qrcodeSrc,width:"200",height:"200"}})])]):e._e()],1)},s=[],n=(a("ac1f"),a("1276"),a("caad"),a("2532"),a("00b4"),a("5f87")),l=a("d722"),c=a("ed08"),u=a("3f52"),d=a("50fc3"),m={name:"AccountSettings",data:function(){var e=this,t=function(t,a,o){""!==a&&a?a.length<6?o(new Error("密码长度不能低于6位")):(""!==e.pwRuleForm.password_confirm&&e.$refs.pwRuleForm.validateField("password_confirm"),o()):o(new Error("请输入密码"))},a=function(t,a,o){""!==a&&a?a.length<6?o(new Error("密码长度不能低于6位")):a!==e.pwRuleForm.password?o(new Error("两次输入密码不一致")):o():o(new Error("请再次输入密码"))};return{form:{},headers:{admintoken:Object(n["e"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+l["a"].upload,password:"*********",pwDialogVisible:!1,pwRuleForm:{},pwRules:{old_password:[{required:!0,message:"请输入旧密码",trigger:"blur"}],password:[{required:!0,validator:t,trigger:"blur"}],password_confirm:[{required:!0,validator:a,trigger:"blur"}]},phoneDialogVisible:!1,phoneRuleForm:{},phoneRules:{mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},isClick:!0,codeFlag:!0,timeNumber:60,qrcodeSrc:"",showQrcode:!1,wxLogin:"",timer:""}},computed:{config:function(){return this.$store.state.config}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext="png,gif,jpeg,jpg",this.getData()},mounted:function(){},beforeDestroy:function(){clearInterval(this.timer)},methods:{delAvatar:function(){var e=this;this.form.avatar="",Object(u["d"])({avatar:""}).then((function(t){"200"==t.code?(e.$message.success("修改成功！"),e.getData()):e.$message.error(t.message)}))},parseTime:c["b"],getData:function(){var e=this;Object(u["c"])().then((function(t){var a=t.code,o=t.message,r=t.data;"200"==a?e.form=r:e.$message.error(o)}))},editUsername:function(){var e=this;this.$prompt("请输入账户名称","修改",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputValidator:function(e){return!(""==e||!e)||"账户名称不能为空"}}).then((function(t){var a=t.value;Object(u["h"])({username:a}).then((function(t){var a=t.code,o=t.message;"200"==a?(e.$message.success("修改成功！"),e.getData()):e.$message.error(o)}))})).catch((function(){}))},handleAvatarSuccess:function(e,t){var a=this,o=e.code,r=e.data,i=e.message;if("200"!=o)return this.$message.error(i),!1;this.form.avatar=r.file_url,Object(u["d"])({avatar:r.file_url}).then((function(e){"200"==e.code?(a.$message.success("修改成功！"),a.getData()):a.$message.error(e.message)}))},beforeAvatarUpload:function(e){var t=e.type.split("/"),a=t[1],o=this.fileupload_ext.split(",");return o.includes(a)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("请上传png,gif,jpeg,jpg的图片格式"),!1)},editPassword:function(){this.pwDialogVisible=!0,this.pwRuleForm={}},pwSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(u["g"])(t.pwRuleForm).then((function(e){var a=e.code,o=e.message;"200"==a?(t.$message.success("修改成功！"),t.pwDialogVisible=!1,t.getData()):t.$message.error(o)}))}))},editPhone:function(){this.phoneDialogVisible=!0,this.phoneRuleForm={},this.isClick=!0,this.codeFlag=!0,this.timeNumber=60},handlerSendCode:function(){var e=this;if(this.isClick){if(this.isClick=!1,!this.phoneRuleForm.mobile)return this.$message.error("请填写手机号"),void(this.isClick=!0);if(!/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(this.phoneRuleForm.mobile))return this.$message.error("手机号填写有误"),void(this.isClick=!0);if(!this.codeFlag)return void(this.isClick=!0);var t={mobile:this.phoneRuleForm.mobile};Object(u["e"])(t).then((function(t){e.isClick=!0;var a=t.code,o=t.message;"200"==a?e.$message.success("验证码发送成功，请查收短信"):e.$message.error(o);var r=function t(){e.codeFlag=!1,e.timeNumber--,0===e.timeNumber?(e.codeFlag=!0,e.timeNumber=60):setTimeout((function(){t()}),1e3)};r()}))}else this.isClick=!0},phoneSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(u["f"])(t.phoneRuleForm).then((function(e){var a=e.code,o=e.message;"200"==a?(t.$message.success("修改成功！"),t.phoneDialogVisible=!1,t.getData()):t.$message.error(o)}))}))},funBind:function(){var e=this,t=this;Object(d["b"])({id:this.form.id}).then((function(a){t.qrcodeSrc=a.data,t.showQrcode=!0,t.timer=setInterval(e.funBindResult,3e3)})).catch((function(){}))},funBindResult:function(){var e=this;Object(d["e"])({}).then((function(t){1==t.data.is_bind&&(e.showQrcode=!1,e.$message.success("微信绑定成功"),clearInterval(e.timer),e.getData())})).catch((function(){}))},funBindCancel:function(){var e=this,t=this;t.$confirm("确定解绑吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["c"])({id:e.form.id}).then((function(e){t.$message.success(e.message),t.getData()}))})).catch((function(){}))}}},f=m,p=(a("7dd7"),a("2877")),h=Object(p["a"])(f,i,s,!1,null,"d94b5db4",null),b=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"160px",rules:e.rules}},[a("el-form-item",{attrs:{label:"称呼：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入称呼"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"上传头像："}},[a("el-upload",{ref:"avatarRef",staticClass:"upload_box",attrs:{headers:e.headers,action:e.apiUpload,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e.form.photo_url?a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.form.photo_url}}),a("div",{staticClass:"avatar_icon"},[a("i",{staticClass:"el-icon-upload2 icon_del"}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.delAvatar.apply(null,arguments)}}})])]):e._e()])],1),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"请输入手机号码"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{label:"座机："}},[a("el-input",{attrs:{placeholder:"请输入座机号码"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"微信二维码："}},[a("el-upload",{ref:"avatarRef",staticClass:"upload_box",attrs:{headers:e.headers,action:e.apiUpload,"show-file-list":!1,"on-success":e.handleWxSuccess,"before-upload":e.beforeWxUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e.form.wx_qrcode_url?a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.form.wx_qrcode_url}}),a("div",{staticClass:"avatar_icon"},[a("i",{staticClass:"el-icon-upload2 icon_del"}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.delWx.apply(null,arguments)}}})])]):e._e()])],1),a("el-form-item",{attrs:{label:"QQ："}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"请输入QQ号码"},model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")]),a("el-button",{on:{click:e.getData}},[e._v("取消")])],1)],1)],1)},v=[],w=a("5530"),_=(a("b0c0"),a("61f7")),x=(a("fcac"),{name:"CustomerService",data:function(){return{rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:6,message:"称呼最多6个字",trigger:"blur"}]},headers:{admintoken:Object(n["e"])()},apiUpload:window.global.RequestBaseUrl+l["a"].upload,form:{name:"",photo:"",photo_url:"",mobile:"",tel:"",wx_qrcode:"",wx_qrcode_url:"",qq:""},fileupload_ext:"",fileupload_size:"",submitLoading:!1}},computed:{config:function(){return this.$store.state.config}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext="png,gif,jpeg,jpg",this.getData()},methods:{getData:function(){var e=this;Object(u["b"])().then((function(t){e.form.name=t.data.name?t.data.name:"",e.form.photo=t.data.photo?t.data.photo:"",e.form.photo_url=t.data.photo_url?t.data.photo_url:"",e.form.qq=t.data.qq?t.data.qq:"",e.form.tel=t.data.tel?t.data.tel:"",e.form.wx_qrcode=t.data.wx_qrcode?t.data.wx_qrcode:"",e.form.wx_qrcode_url=t.data.wx_qrcode_url?t.data.wx_qrcode_url:"",e.form.mobile=t.data.mobile?t.data.mobile:""}))},onSubmit:function(e){var t=this;if(!0===this.submitLoading)return!1;this.submitLoading=!0;var a=Object(w["a"])({},this.form);return console.log(a.mobile),""==a.mobile&&""==a.tel?(this.$message.error("手机号码和固定电话号码必须填写一个"),this.submitLoading=!1,!1):""==a.mobile||Object(_["c"])(a.mobile)?void this.$refs[e].validate((function(e){if(!e)return t.submitLoading=!1,!1;Object(u["a"])(a).then((function(e){"200"==e.code?(t.$message.success("修改成功！"),t.getData()):t.$message.error(e.message),t.submitLoading=!1})).catch((function(){t.submitLoading=!1}))})):(this.$message.error("请输入正确的手机号码"),this.submitLoading=!1,!1)},delWx:function(){this.form.wx_qrcode_url="",this.form.wx_qrcode=0},delAvatar:function(){this.form.photo_url="",this.form.photo=0},handleAvatarSuccess:function(e,t){this.form.photo_url=e.data.file_url,this.form.photo=e.data.file_id},beforeAvatarUpload:function(e){var t=e.type.split("/"),a=t[1],o=this.fileupload_ext.split(",");return o.includes(a)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("请上传png,gif,jpeg,jpg的图片格式"),!1)},handleWxSuccess:function(e,t){this.form.wx_qrcode_url=e.data.file_url,this.form.wx_qrcode=e.data.file_id},beforeWxUpload:function(e){var t=e.type.split("/"),a=t[1],o=this.fileupload_ext.split(",");return!!o.includes(a)||(this.$message.error("请上传png,gif,jpeg,jpg的图片格式"),!1)}}}),j=x,C=(a("06f3"),Object(p["a"])(j,g,v,!1,null,"5d2cc485",null)),$=C.exports,k={name:"Index",components:{accountSettings:b,customerService:$}},R=k,F=Object(p["a"])(R,o,r,!1,null,"4289bad2",null);t["default"]=F.exports},"50fc3":function(e,t,a){"use strict";a.d(t,"l",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"k",(function(){return n})),a.d(t,"j",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return p})),a.d(t,"o",(function(){return h})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return v})),a.d(t,"n",(function(){return w}));var o=a("b775"),r=a("d722");function i(e){return Object(o["a"])({url:r["a"].adminList,method:"get",params:e})}function s(e){return Object(o["a"])({url:r["a"].adminAdd,method:"post",data:e})}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(o["a"])({url:r["a"].adminEdit,method:t,data:e}):Object(o["a"])({url:r["a"].adminEdit,method:t,params:e})}function l(e){return Object(o["a"])({url:r["a"].adminDelete,method:"post",data:e})}function c(e){return Object(o["a"])({url:r["a"].adminRoleOptions,method:"get",params:e})}function u(e){return Object(o["a"])({url:r["a"].adminLogList,method:"get",params:e})}function d(e){return Object(o["a"])({url:r["a"].adminAllList,method:"get",params:e})}function m(e){return Object(o["a"])({url:r["a"].adminBindQrcode,method:"get",params:e})}function f(e){return Object(o["a"])({url:r["a"].adminBindQrcodeCancel,method:"post",data:e})}function p(e){return Object(o["a"])({url:r["a"].adminIsBindWechat,method:"post",data:e})}function h(e){return Object(o["a"])({url:r["a"].getAdminCrmData,method:"post",data:e})}function b(e){return Object(o["a"])({url:r["a"].adminLock,method:"post",data:e})}function g(e){return Object(o["a"])({url:r["a"].adminDeblocking,method:"post",data:e})}function v(e){return Object(o["a"])({url:r["a"].adminLogTypeAll,method:"post",data:e})}function w(e){return Object(o["a"])({url:r["a"].delAdminLog,method:"post",data:e})}},"559d":function(e,t,a){},"7dd7":function(e,t,a){"use strict";a("e0e1")},e0e1:function(e,t,a){},fcac:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return u}));var o=a("b775"),r=a("d722");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(o["a"])({url:r["a"].companyEdit,method:t,data:e}):Object(o["a"])({url:r["a"].companyEdit,method:t,params:e})}function s(e){return Object(o["a"])({url:r["a"].companyImgDelete,method:"post",data:e})}function n(e){return Object(o["a"])({url:r["a"].companyInterviewList,method:"get",params:e})}function l(e){return Object(o["a"])({url:r["a"].companyInterviewVideoList,method:"get",params:e})}function c(e){return Object(o["a"])({url:r["a"].companyDownList,method:"get",params:e})}function u(e){return Object(o["a"])({url:r["a"].sendCompanyLogo,method:"post",data:e})}}}]);