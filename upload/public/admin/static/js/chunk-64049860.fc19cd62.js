(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64049860"],{"28a0":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[e._m(0),n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"通知企业",lazy:!0}},[n("ruleForm",{attrs:{listtype:"company"}})],1),n("el-tab-pane",{attrs:{label:"通知求职者",lazy:!0}},[n("ruleForm",{attrs:{listtype:"personal"}})],1)],1)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tip"},[n("p",[e._v(" 因阿里云短信平台审核规则，系统配置阿里云短信后仅支持发送系统基础短信，无法使用更丰富的短信通知配置。 ")])])}],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],staticClass:"common-form",attrs:{"label-width":"0","inline-message":!0}},[n("el-form-item",[n("el-table",{attrs:{border:"",data:e.list}},[n("el-table-column",{attrs:{label:"通知内容","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title)+" ")]}}])}),n("el-table-column",{attrs:{label:"通知类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.type_cn)+" ")]}}])}),n("el-table-column",{attrs:{label:"通知内容","min-width":"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.content)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"站内信"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=t.row.open_message?n("el-switch",{model:{value:t.row.open_message,callback:function(n){e.$set(t.row,"open_message",n)},expression:"scope.row.open_message"}}):n("span",[e._v("-")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"短信"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=t.row.open_sms?n("el-switch",{model:{value:t.row.open_sms,callback:function(n){e.$set(t.row,"open_sms",n)},expression:"scope.row.open_sms"}}):n("span",[e._v("-")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"邮件"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=t.row.open_email?n("el-switch",{model:{value:t.row.open_email,callback:function(n){e.$set(t.row,"open_email",n)},expression:"scope.row.open_email"}}):n("span",[e._v("-")])]}}])})],1)],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)],1)],1)},l=[],i=n("332f"),r=(n("08ba"),n("1063")),c={props:["listtype"],data:function(){return{infoLoading:!0,list:[]}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0;var t=this,n={utype:"company"==t.listtype?1:2};Object(r["d"])(n,"get").then((function(n){var o=Object(i["a"])(n.data);o.forEach((function(e,n,o){e.open_message=-1==e.open_message?-1:1==e.open_message,e.open_sms=-1==e.open_sms?-1:1==e.open_sms,e.open_email=-1==e.open_email?-1:1==e.open_email,t.list.push(e)})),e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,n=[];this.list.forEach((function(e,t,o){var s={id:e.id,open_message:-1==e.open_message?-1:!0===e.open_message?1:0,open_sms:-1==e.open_sms?-1:!0===e.open_sms?1:0,open_email:-1==e.open_email?-1:!0===e.open_email?1:0};n[t]=s})),Object(r["m"])(n).then((function(e){return t.$message.success(e.message),!0})).catch((function(){}))}}},u=c,p=(n("a627"),n("5d22")),m=Object(p["a"])(u,a,l,!1,null,"6c994508",null),f=m.exports,_={components:{ruleForm:f}},d=_,b=Object(p["a"])(d,o,s,!1,null,null,null);t["default"]=b.exports},9384:function(e,t,n){},a627:function(e,t,n){"use strict";n("9384")}}]);