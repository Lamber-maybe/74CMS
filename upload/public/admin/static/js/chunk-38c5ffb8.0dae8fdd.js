(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38c5ffb8"],{"25f8":function(e,t,r){"use strict";r("cd9e")},8194:function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"g",(function(){return m})),r.d(t,"l",(function(){return d})),r.d(t,"k",(function(){return f})),r.d(t,"m",(function(){return b})),r.d(t,"j",(function(){return p})),r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return h}));var a=r("b775"),n=r("d722");function o(e){return Object(a["a"])({url:n["a"].memberList,method:"get",params:e})}function i(e){return Object(a["a"])({url:n["a"].memberAdd,method:"post",data:e})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(a["a"])({url:n["a"].memberEdit,method:t,data:e}):Object(a["a"])({url:n["a"].memberEdit,method:t,params:e})}function c(e){return Object(a["a"])({url:n["a"].memberDelete,method:"post",data:e})}function s(e){return Object(a["a"])({url:n["a"].memberCheckUnique,method:"post",data:e})}function u(e){return Object(a["a"])({url:n["a"].memberLock,method:"post",data:e})}function m(e){return Object(a["a"])({url:n["a"].memberIm,method:"post",data:e})}function d(e){return Object(a["a"])({url:n["a"].memberPointsList,method:"get",params:e})}function f(e){return Object(a["a"])({url:n["a"].memberPointsEdit,method:"post",data:e})}function b(e){return Object(a["a"])({url:n["a"].memberPointsLog,method:"get",params:e})}function p(e){return Object(a["a"])({url:n["a"].memberLoginLog,method:"get",params:e})}function g(e){return Object(a["a"])({url:n["a"].memberActionLog,method:"get",params:e})}function h(e){return Object(a["a"])({url:n["a"].management,method:"get",params:e})}},"988c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v(" 新增线索 ")]),r("div",{staticClass:"table-s"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[r("el-form-item",{attrs:{label:"线索名称：",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"联系人：",prop:"contacts"}},[r("el-input",{model:{value:e.form.contacts,callback:function(t){e.$set(e.form,"contacts",t)},expression:"form.contacts"}})],1),r("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[r("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{label:"联系微信："}},[r("el-input",{model:{value:e.form.weixin,callback:function(t){e.$set(e.form,"weixin",t)},expression:"form.weixin"}})],1),r("el-form-item",{attrs:{label:"所在地区",prop:"citycategory_arr"}},[r("el-cascader",{attrs:{options:e.options_citycategory,"show-all-levels":!1},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}})],1),r("el-form-item",{attrs:{label:"详细地址："}},[r("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),r("el-form-item",{attrs:{label:"企业规模"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.scale,callback:function(t){e.$set(e.form,"scale",t)},expression:"form.scale"}},e._l(e.scaleData,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"客户行业"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.trade,callback:function(t){e.$set(e.form,"trade",t)},expression:"form.trade"}},e._l(e.industryScreenData,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"所属销售"}},[r("el-radio-group",{model:{value:e.form.sale,callback:function(t){e.$set(e.form,"sale",t)},expression:"form.sale"}},[r("el-radio",{attrs:{label:"1"}},[e._v("我的线索")]),r("el-radio",{attrs:{label:"0"}},[e._v("公共线索")])],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)},n=[],o=r("2909"),i=r("5530"),l=(r("d81d"),r("39f6")),c=r("61f7"),s=(r("8194"),{name:"Add",data:function(){var e=function(e,t,r){Object(c["c"])(t)?r():r(new Error("请输入正确的手机号"))},t=function(e,t,r){var a={name:t,id:0};Object(l["N"])(a).then((function(e){0==e.data.sys_configs&&e.data.clue_count>0?r(new Error("线索名称已重复")):r()}))};return{rules:{name:[{required:!0,message:"请输入线索名称",trigger:"blur"},{max:20,message:"长度在 0 到 20 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],contacts:[{required:!0,message:"请输入联系人",trigger:"blur"},{max:6,message:"长度在 0 到 6 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:e,trigger:"blur"}]},submitLoading:!1,form:{sale:"1",name:"",contacts:"",mobile:"",weixin:"",district:"",address:"",remark:"",trade:"",company_size:""},scaleData:[],options_citycategory:[],industryScreenData:[]}},created:function(){this.classify()},methods:{onSubmit:function(e){var t=this;if(!0===this.submitLoading)return!1;this.submitLoading=!0;var r=this,a=Object(i["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return t.submitLoading=!1,!1;Object(l["e"])(a).then((function(e){200==e.code?t.$message.success(e.message):t.$message.error(e.message),r.submitLoading=!1,"0"==t.form.sale?setTimeout((function(){r.$router.push("/user/company/crm/internationalWaters")}),1500):setTimeout((function(){r.$router.push("/user/company/crm/my")}),1500)})).catch((function(){r.submitLoading=!1}))}))},classify:function(){var e=this;Object(l["d"])({type:"citycategory,trade,companyScale"}).then((function(t){e.options_citycategory=Object(o["a"])(t.data.citycategory),e.options_citycategory=e.options_citycategory.map((function(e){if(e.children.length){var t=e.children;return t=t.map((function(e){return e.children.length?{label:e.label,value:e.value,children:e.children}:{label:e.label,value:e.value}})),{value:e.value,label:e.label,children:t}}return{value:e.value,label:e.label}})),e.industryScreenData=t.data.trade,e.scaleData=t.data.companyScale})).catch((function(){}))}}}),u=s,m=(r("25f8"),r("2877")),d=Object(m["a"])(u,a,n,!1,null,"830fbd14",null);t["default"]=d.exports},cd9e:function(e,t,r){}}]);