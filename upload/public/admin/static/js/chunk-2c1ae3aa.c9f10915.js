(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c1ae3aa"],{a597:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return d}));var o=i("b775"),n=i("d722");function a(e){return Object(o["a"])({url:n["a"].setmealList,method:"get",params:e})}function r(e){return Object(o["a"])({url:n["a"].setmealAdd,method:"post",data:e})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(o["a"])({url:n["a"].setmealEdit,method:t,data:e}):Object(o["a"])({url:n["a"].setmealEdit,method:t,params:e})}function d(e){return Object(o["a"])({url:n["a"].setmealDelete,method:"post",data:e})}},b135:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-card",[i("div",{staticClass:"tip"},[i("p",[e._v(" 短视频功能基于七牛云储存，请确保您已在 系统->基础配置->系统配置->文件上传->七牛云 正确配置七牛云账号信息。如未配置该模块将无法正常使用。 ")])]),i("config-basic")],1)],1)},n=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),i("el-divider",{attrs:{"content-position":"left"}},[e._v("基础配置")]),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"200px","inline-message":!0}},[i("el-form-item",{attrs:{label:"视频功能启用"}},[i("el-radio-group",{model:{value:e.form.shortvideo_enable,callback:function(t){e.$set(e.form,"shortvideo_enable",e._n(t))},expression:"form.shortvideo_enable"}},[i("el-radio",{attrs:{label:1}},[e._v("开启")]),i("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),i("el-form-item",{attrs:{label:"视频招聘浏览量随机值"}},[i("el-input",{staticClass:"small",staticStyle:{width:"200px"},model:{value:e.form.shortvideo_jobing_view_init,callback:function(t){e.$set(e.form,"shortvideo_jobing_view_init",e._n(t))},expression:"form.shortvideo_jobing_view_init"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v("浏览量在“1~设置值”之间随机增加，0为不干预 ")])],1),i("el-form-item",{attrs:{label:"视频求职浏览量随机值"}},[i("el-input",{staticClass:"small",staticStyle:{width:"200px"},model:{value:e.form.shortvideo_finding_view_init,callback:function(t){e.$set(e.form,"shortvideo_finding_view_init",e._n(t))},expression:"form.shortvideo_finding_view_init"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v("浏览量在“1~设置值”之间随机增加，0为不干预 ")])],1),i("el-form-item",{attrs:{label:"视频招聘浏览量热门值"}},[i("el-input",{staticClass:"small",staticStyle:{width:"200px"},model:{value:e.form.shortvideo_jobing_hot,callback:function(t){e.$set(e.form,"shortvideo_jobing_hot",e._n(t))},expression:"form.shortvideo_jobing_hot"}})],1),i("el-form-item",{attrs:{label:"视频求职浏览量热门值"}},[i("el-input",{staticClass:"small",staticStyle:{width:"200px"},model:{value:e.form.shortvideo_finding_hot,callback:function(t){e.$set(e.form,"shortvideo_finding_hot",e._n(t))},expression:"form.shortvideo_finding_hot"}})],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form",0)}}},[e._v("保存")])],1),i("el-divider",{attrs:{"content-position":"left"}},[e._v("企业发布配置")]),i("el-form-item",{attrs:{label:"允许企业套餐发布"}},[i("el-checkbox-group",{model:{value:e.form.shortvideo_enable_setmeal,callback:function(t){e.$set(e.form,"shortvideo_enable_setmeal",t)},expression:"form.shortvideo_enable_setmeal"}},e._l(e.setMealList,(function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.id}},[i("span",{domProps:{textContent:e._s(t.name)}})])})),1)],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form",1)}}},[e._v("保存")])],1),i("el-divider",{attrs:{"content-position":"left"}},[e._v("审核配置")]),i("el-form-item",{attrs:{label:"新发布视频招聘默认审核状态"}},[i("el-radio-group",{model:{value:e.form.shortvideo_new_jobing_audit,callback:function(t){e.$set(e.form,"shortvideo_new_jobing_audit",t)},expression:"form.shortvideo_new_jobing_audit"}},[i("el-radio",{attrs:{label:1}},[e._v("未审核")]),i("el-radio",{attrs:{label:2}},[e._v("已审核")])],1)],1),i("el-form-item",{attrs:{label:"修改视频招聘后默认审核状态"}},[i("el-radio-group",{model:{value:e.form.shortvideo_edited_jobing_audit,callback:function(t){e.$set(e.form,"shortvideo_edited_jobing_audit",t)},expression:"form.shortvideo_edited_jobing_audit"}},[i("el-radio",{attrs:{label:0}},[e._v("保持不变")]),i("el-radio",{attrs:{label:1}},[e._v("未审核")])],1)],1),i("el-form-item",{attrs:{label:"新发布视频简历默认审核状态"}},[i("el-radio-group",{model:{value:e.form.shortvideo_new_finding_audit,callback:function(t){e.$set(e.form,"shortvideo_new_finding_audit",t)},expression:"form.shortvideo_new_finding_audit"}},[i("el-radio",{attrs:{label:1}},[e._v("未审核")]),i("el-radio",{attrs:{label:2}},[e._v("已审核")])],1)],1),i("el-form-item",{attrs:{label:"修改视频简历后默认审核状态"}},[i("el-radio-group",{model:{value:e.form.shortvideo_edited_finding_audit,callback:function(t){e.$set(e.form,"shortvideo_edited_finding_audit",t)},expression:"form.shortvideo_edited_finding_audit"}},[i("el-radio",{attrs:{label:0}},[e._v("保持不变")]),i("el-radio",{attrs:{label:1}},[e._v("未审核")])],1)],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form",2)}}},[e._v("保存")])],1)],1)],1)},r=[],s=(i("d81d"),i("5530")),d=(i("96cf"),i("1da1")),l=i("1063"),_=i("a597"),f=i("b775");i("d722");function c(){return Object(f["a"])({url:"/upload/checkQiniu",method:"get"})}var u={data:function(){return{infoLoading:!0,setMealList:[],form:{shortvideo_enable:0,shortvideo_jobing_view_init:0,shortvideo_finding_view_init:0,shortvideo_jobing_hot:0,shortvideo_finding_hot:0,shortvideo_enable_setmeal:[],shortvideo_new_jobing_audit:1,shortvideo_edited_jobing_audit:0,shortvideo_new_finding_audit:1,shortvideo_edited_finding_audit:0}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(_["d"])(t).then((function(t){e.setMealList=t.data.items})),Object(l["j"])(t,"get").then((function(t){var i=t.data;e.form={shortvideo_enable:parseInt(i.shortvideo_enable),shortvideo_jobing_view_init:i.shortvideo_jobing_view_init,shortvideo_finding_view_init:i.shortvideo_finding_view_init,shortvideo_jobing_hot:i.shortvideo_jobing_hot,shortvideo_finding_hot:i.shortvideo_finding_hot,shortvideo_enable_setmeal:Array.isArray(i.shortvideo_enable_setmeal)?i.shortvideo_enable_setmeal.map((function(e){return parseInt(e)})):[],shortvideo_new_jobing_audit:parseInt(i.shortvideo_new_jobing_audit),shortvideo_edited_jobing_audit:parseInt(i.shortvideo_edited_jobing_audit),shortvideo_new_finding_audit:parseInt(i.shortvideo_new_finding_audit),shortvideo_edited_finding_audit:parseInt(i.shortvideo_edited_finding_audit)},e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e,t){var i=this;return Object(d["a"])(regeneratorRuntime.mark((function o(){var n,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(n=Object(s["a"])({},i.form),0!=t){o.next=19;break}if(delete n.shortvideo_enable_setmeal,delete n.shortvideo_new_jobing_audit,delete n.shortvideo_edited_jobing_audit,delete n.shortvideo_new_finding_audit,delete n.shortvideo_edited_finding_audit,!(parseInt(n.shortvideo_enable)>0)){o.next=17;break}return o.next=10,c();case 10:if(a=o.sent,200!=a.code){o.next=15;break}console.log(a,"checkQiniu"),o.next=17;break;case 15:return i.$message.error("七牛云配置有误,请确认"),o.abrupt("return",!1);case 17:o.next=20;break;case 19:1==t?n={shortvideo_enable_setmeal:i.form.shortvideo_enable_setmeal}:2==t&&(n={shortvideo_new_jobing_audit:i.form.shortvideo_new_jobing_audit,shortvideo_edited_jobing_audit:i.form.shortvideo_edited_jobing_audit,shortvideo_new_finding_audit:i.form.shortvideo_new_finding_audit,shortvideo_edited_finding_audit:i.form.shortvideo_edited_finding_audit});case 20:i.$refs[e].validate((function(e){if(!e)return!1;Object(l["j"])(n).then((function(e){return i.$store.dispatch("config/getConfigInfo"),i.$message.success(e.message),!0})).catch((function(){}))}));case 21:case"end":return o.stop()}}),o)})))()}}},v=u,m=i("2877"),h=Object(m["a"])(v,a,r,!1,null,null,null),b=h.exports,g={components:{configBasic:b}},p=g,j=Object(m["a"])(p,o,n,!1,null,null,null);t["default"]=j.exports}}]);