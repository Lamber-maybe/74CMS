(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57cac1bb"],{"0ccb":function(t,e,n){var a=n("50c4"),i=n("1148"),r=n("1d80"),o=Math.ceil,l=function(t){return function(e,n,l){var s,c,u=String(r(e)),d=u.length,g=void 0===l?" ":String(l),f=a(n);return f<=d||""==g?u:(s=f-d,c=i.call(g,o(s/g.length)),c.length>s&&(c=c.slice(0,s)),t?u+c:c+u)}};t.exports={start:l(!1),end:l(!0)}},"28d8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("发放记录")])]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"发放时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeFilter")(e.row.addtime)))])]}}])}),n("el-table-column",{attrs:{label:"操作管理员",prop:"admin_name"}}),n("el-table-column",{attrs:{label:"发放企业数",prop:"count_num"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return t.funDetail(e.row)}}},[t._v(" 查看详情 ")])]}}])})],1),n("div",{staticClass:"spaceline"}),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}}),n("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:8,span:16}},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,15,20,30,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),t.dialogFormVisible?n("el-dialog",{attrs:{title:"发放详情",visible:t.dialogFormVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.closeDialog}},[n("dialist",{attrs:{"log-id":t.logId},on:{setDialogFormVisible:t.closeDialog}})],1):t._e()],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"",size:"small","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"优惠券名称",prop:"coupon_name"}}),n("el-table-column",{attrs:{label:"发放企业"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 【uid:"+t._s(e.row.uid)+"】"+t._s(e.row.companyname)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"发放时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeFilter")(e.row.addtime)))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"是否使用"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.usetime>0?n("span",{staticClass:"font_success"},[t._v("已使用")]):n("span",{staticClass:"font_warning"},[t._v("未使用")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"使用时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.usetime?n("span",[t._v("-")]):n("span",[t._v(t._s(t._f("timeFilter")(e.row.usetime)))])]}}])})],1),n("div",{staticClass:"spaceline"}),n("el-row",{attrs:{gutter:20}},[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[n("el-pagination",{attrs:{layout:"prev, pager, next",background:"",total:t.total,"current-page":t.currentPage,"page-size":t.pagesize},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},o=[],l=n("cbfe"),s=n("ed08"),c={filters:{timeFilter:function(t){return Object(s["b"])(t,"{y}-{m}-{d} {h}:{i}")}},props:["logId"],data:function(){return{list:null,listLoading:!0,total:0,currentPage:1,pagesize:5}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0;var e={log_id:this.logId,page:this.currentPage,pagesize:this.pagesize};Object(l["f"])(e).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()}}},u=c,d=n("2877"),g=Object(d["a"])(u,r,o,!1,null,null,null),f=g.exports,p={components:{dialist:f},filters:{timeFilter:function(t){return Object(s["b"])(t,"{y}-{m}-{d} {h}:{i}")}},data:function(){return{logId:0,dialogFormVisible:!1,list:null,listLoading:!0,total:0,currentPage:1,pagesize:10}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0;var e={page:this.currentPage,pagesize:this.pagesize};Object(l["e"])(e).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},handleSizeChange:function(t){this.pagesize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},closeDialog:function(){this.dialogFormVisible=!1},funDetail:function(t){this.logId=t.id,this.dialogFormVisible=!0}}},h=p,m=Object(d["a"])(h,a,i,!1,null,null,null);e["default"]=m.exports},"4d90":function(t,e,n){"use strict";var a=n("23e7"),i=n("0ccb").start,r=n("9a0c");a({target:"String",proto:!0,forced:r},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}},"9a0c":function(t,e,n){var a=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},cbfe:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return d}));var a=n("b775"),i=n("d722");function r(t){return Object(a["a"])({url:i["a"].couponList,method:"get",params:t})}function o(t){return Object(a["a"])({url:i["a"].couponAdd,method:"post",data:t})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(a["a"])({url:i["a"].couponEdit,method:e,data:t}):Object(a["a"])({url:i["a"].couponEdit,method:e,params:t})}function s(t){return Object(a["a"])({url:i["a"].couponDelete,method:"post",data:t})}function c(t){return Object(a["a"])({url:i["a"].couponLog,method:"get",params:t})}function u(t){return Object(a["a"])({url:i["a"].couponRecord,method:"get",params:t})}function d(t){return Object(a["a"])({url:i["a"].couponSend,method:"post",data:t})}},ed08:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return s}));var a=n("53ca"),i=(n("ac1f"),n("00b4"),n("d3b7"),n("25f0"),n("5319"),n("4d90"),n("1276"),n("e9c4"),n("a78e")),r=n.n(i);function o(t,e){if(0===arguments.length)return null;var n,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(a["a"])(t)?n=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&t.toString().length<=10&&(t*=1e3),n=new Date(t));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=i.replace(/{([ymdhisa])+}/g,(function(t,e){var n=r[e];return"a"===e?["日","一","二","三","四","五","六"][n]:n.toString().padStart(2,"0")}));return o}function l(t,e){t=(""+t).length<=10?1e3*parseInt(t):+t;var n=new Date(t),a=Date.now(),i=(a-n)/1e3;return i<30?"刚刚":i<3600?Math.ceil(i/60)+"分钟前":i<86400?Math.ceil(i/3600)+"小时前":i<172800?"1天前":e?o(t,e):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function s(t){var e={utype:t.utype,token:t.token,mobile:t.mobile,userIminfo:t.user_iminfo};r.a.set("qscms_visitor",JSON.stringify(e),{expires:7})}}}]);