(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aa48954"],{"12a8":function(e,t,i){"use strict";i("2664")},"18a5":function(e,t,i){"use strict";var o=i("23e7"),a=i("857a"),s=i("af03");o({target:"String",proto:!0,forced:s("anchor")},{anchor:function(e){return a(this,"a","name",e)}})},"1b1b":function(e,t,i){"use strict";i("bbd1")},2664:function(e,t,i){},"2ca0":function(e,t,i){"use strict";var o=i("23e7"),a=i("06cf").f,s=i("50c4"),l=i("5a34"),n=i("1d80"),r=i("ab13"),c=i("c430"),u="".startsWith,m=Math.min,f=r("startsWith"),d=!c&&!f&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();o({target:"String",proto:!0,forced:!d&&!f},{startsWith:function(e){var t=String(n(this));l(e);var i=s(m(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return u?u.call(t,o,i):t.slice(i,i+o.length)===o}})},"2da4":function(e,t,i){"use strict";const o={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},a=e=>e.abstract||e.$el===e.$children[0].$el?a(e.$parent):e;function s(){const{unload:e,renderByParent:t,$parent:i}=this;t&&i.reload(),e()}class l{constructor(e){this.methods={ready(){const e=a(this.$parent),t=this.BMap=e.BMap,i=this.map=e.map;this.load(),this.$emit("ready",{BMap:t,map:i})},transmitEvent(e){this.$emit(e.type.replace(/^on/,""),e)},reload(){this&&this.BMap&&this.$nextTick(()=>{this.unload(),this.$nextTick(this.load)})},unload(){const{map:t,originInstance:i}=this;try{switch(e.type){case"search":return i.clearResults();case"autoComplete":case"lushu":return i.dispose();case"markerClusterer":return i.clearMarkers();default:t[o[e.type].unload](i)}}catch(a){}}},this.computed={renderByParent(){return this.$parent.preventChildrenRender}},this.mounted=function(){const e=a(this.$parent),t=e.map,{ready:i}=this;t?i():e.$on("ready",i)},this.destroyed=s,this.beforeDestroy=s}}t["a"]=e=>new l({type:e})},"33d3":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("76f3");const o=e=>Object.prototype.toString.call(e).slice(8,-1)},"4fab3":function(e,t,i){"use strict";var o={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};t["a"]=function(e,t){const i=t||o[this.$options.name];i&&i.forEach(t=>{const i="on"===t.slice(0,2),o=i?t.slice(2):t,a=this.$listeners[o];a&&e.addEventListener(t,a.fns)})}},"64a3":function(e,t,i){"use strict";i("7314")},7314:function(e,t,i){},"76f3":function(e,t,i){"use strict";function o(e,t={}){const{lng:i,lat:o}=t;return new e.Point(i,o)}function a(e,t={}){const{width:i,height:o}=t;return new e.Size(i,o)}i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}))},"7f25":function(e,t,i){"use strict";(function(e){var o=i("b85c"),a=(i("a9e3"),i("d81d"),i("d3b7"),i("4fab3")),s=i("33d3");t["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(e,t){var i=this.map,o=this.zoom;"String"===Object(s["a"])(e)&&e!==t&&i.centerAndZoom(e,o)},"center.lng":function(e,t){var i=this.BMap,o=this.map,a=this.zoom,s=this.center;e!==t&&e>=-180&&e<=180&&o.centerAndZoom(new i.Point(e,s.lat),a)},"center.lat":function(e,t){var i=this.BMap,o=this.map,a=this.zoom,s=this.center;e!==t&&e>=-74&&e<=74&&o.centerAndZoom(new i.Point(s.lng,e),a)},zoom:function(e,t){var i=this.map;e!==t&&e>=3&&e<=19&&i.setZoom(e)},minZoom:function(e){var t=this.map;t.setMinZoom(e)},maxZoom:function(e){var t=this.map;t.setMaxZoom(e)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(t){var i=this.map;i.setMapType(e[t])},dragging:function(e){var t=this.map;e?t.enableDragging():t.disableDragging()},scrollWheelZoom:function(e){var t=this.map;e?t.enableScrollWheelZoom():t.disableScrollWheelZoom()},doubleClickZoom:function(e){var t=this.map;e?t.enableDoubleClickZoom():t.disableDoubleClickZoom()},keyboard:function(e){var t=this.map;e?t.enableKeyboard():t.disableKeyboard()},inertialDragging:function(e){var t=this.map;e?t.enableInertialDragging():t.disableInertialDragging()},continuousZoom:function(e){var t=this.map;e?t.enableContinuousZoom():t.disableContinuousZoom()},pinchToZoom:function(e){var t=this.map;e?t.enablePinchToZoom():t.disablePinchToZoom()},autoResize:function(e){var t=this.map;e?t.enableAutoResize():t.disableAutoResize()},theme:function(e){var t=this.map;t.setMapStyle({styleJson:e})},"mapStyle.features":{handler:function(e,t){var i=this.map,o=this.mapStyle,a=o.style,s=o.styleJson;i.setMapStyle({styleJson:s,features:e,style:a})},deep:!0},"mapStyle.style":function(e,t){var i=this.map,o=this.mapStyle,a=o.features,s=o.styleJson;i.setMapStyle({styleJson:s,features:a,style:e})},"mapStyle.styleJson":{handler:function(e,t){var i=this.map,o=this.mapStyle,a=o.features,s=o.style;i.setMapStyle({styleJson:e,features:a,style:s})},deep:!0},mapStyle:function(e){var t=this.map,i=this.theme;!i&&t.setMapStyle(e)}},methods:{setMapOptions:function(){var t=this.map,i=this.minZoom,o=this.maxZoom,a=this.mapType,s=this.dragging,l=this.scrollWheelZoom,n=this.doubleClickZoom,r=this.keyboard,c=this.inertialDragging,u=this.continuousZoom,m=this.pinchToZoom,f=this.autoResize;i&&t.setMinZoom(i),o&&t.setMaxZoom(o),a&&t.setMapType(e[a]),s?t.enableDragging():t.disableDragging(),l?t.enableScrollWheelZoom():t.disableScrollWheelZoom(),n?t.enableDoubleClickZoom():t.disableDoubleClickZoom(),r?t.enableKeyboard():t.disableKeyboard(),c?t.enableInertialDragging():t.disableInertialDragging(),u?t.enableContinuousZoom():t.disableContinuousZoom(),m?t.enablePinchToZoom():t.disablePinchToZoom(),f?t.enableAutoResize():t.disableAutoResize()},init:function(e){if(!this.map){var t,i=this.$refs.view,s=Object(o["a"])(this.$slots.default||[]);try{for(s.s();!(t=s.n()).done;){var l=t.value;l.componentOptions&&"bm-view"===l.componentOptions.tag&&(this.hasBmView=!0,i=l.elm)}}catch(d){s.e(d)}finally{s.f()}var n=new e.Map(i,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=n;var r=this.setMapOptions,c=this.zoom,u=this.getCenterPoint,m=this.theme,f=this.mapStyle;m?n.setMapStyle({styleJson:m}):n.setMapStyle(f),r(),a["a"].call(this,n),n.reset(),n.centerAndZoom(u(),c),this.$emit("ready",{BMap:e,map:n})}},getCenterPoint:function(){var e=this.center,t=this.BMap;switch(Object(s["a"])(e)){case"String":return e;case"Object":return new t.Point(e.lng,e.lat);default:return new t.Point}},initMap:function(e){this.BMap=e,this.init(e)},getMapScript:function(){if(e.BMap)return e.BMap._preloader?e.BMap._preloader:Promise.resolve(e.BMap);var t=this.ak||this._BMap().ak;return e.BMap={},e.BMap._preloader=new Promise((function(i,o){e._initBaiduMap=function(){i(e.BMap),e.document.body.removeChild(a),e.BMap._preloader=null,e._initBaiduMap=null};var a=document.createElement("script");e.document.body.appendChild(a),a.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(t,"&callback=_initBaiduMap")})),e.BMap._preloader},reset:function(){var e=this.getMapScript,t=this.initMap;e().then(t)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,i("c8ba"))},"8a79":function(e,t,i){"use strict";var o=i("23e7"),a=i("06cf").f,s=i("50c4"),l=i("5a34"),n=i("1d80"),r=i("ab13"),c=i("c430"),u="".endsWith,m=Math.min,f=r("endsWith"),d=!c&&!f&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();o({target:"String",proto:!0,forced:!d&&!f},{endsWith:function(e){var t=String(n(this));l(e);var i=arguments.length>1?arguments[1]:void 0,o=s(t.length),a=void 0===i?o:m(s(i),o),r=String(e);return u?u.call(t,r,a):t.slice(a-r.length,a)===r}})},"8d56":function(e,t,i){"use strict";i("9390")},9390:function(e,t,i){},a78e1:function(e,t,i){"use strict";i.r(t);var o,a,s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-tabs",{attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:"网站配置",lazy:!0}},[i("sysconfigwebsite")],1),i("el-tab-pane",{attrs:{label:"注册设置",lazy:!0}},[i("sysconfigreg")],1),i("el-tab-pane",{attrs:{label:"电子地图",lazy:!0}},[i("sysconfigmap")],1),i("el-tab-pane",{attrs:{label:"文件上传",lazy:!0}},[i("sysconfigupload")],1),i("el-tab-pane",{attrs:{label:"底部引导条",lazy:!0}},[i("sysconfigguide")],1)],1)],1)},l=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"200px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"网站名称",prop:"sitename"}},[i("el-input",{staticClass:"middle",model:{value:e.form.sitename,callback:function(t){e.$set(e.form,"sitename",t)},expression:"form.sitename"}})],1),i("el-form-item",{attrs:{label:"网站域名",prop:"sitedomain"}},[i("el-input",{staticClass:"middle",model:{value:e.form.sitedomain,callback:function(t){e.$set(e.form,"sitedomain",t)},expression:"form.sitedomain"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 结尾不要加“/” ")])],1),i("el-form-item",{attrs:{label:"安装目录",prop:"sitedir"}},[i("el-input",{staticClass:"middle",model:{value:e.form.sitedir,callback:function(t){e.$set(e.form,"sitedir",t)},expression:"form.sitedir"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 以“/”开头和结尾, 如果安装在根目录，则为“/” ")])],1),i("el-form-item",{attrs:{label:"web端会员中心目录名称",prop:"member_dirname"}},[i("el-input",{staticClass:"middle",model:{value:e.form.member_dirname,callback:function(t){e.$set(e.form,"member_dirname",t)},expression:"form.member_dirname"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 只填写目录名称，不要加“/” ")])],1),i("el-form-item",{attrs:{label:"联系电话",prop:"contact_tel"}},[i("el-input",{staticClass:"middle",model:{value:e.form.contact_tel,callback:function(t){e.$set(e.form,"contact_tel",t)},expression:"form.contact_tel"}})],1),i("el-form-item",{attrs:{label:"联系邮箱",prop:"contact_email"}},[i("el-input",{staticClass:"middle",model:{value:e.form.contact_email,callback:function(t){e.$set(e.form,"contact_email",t)},expression:"form.contact_email"}})],1),i("el-form-item",{attrs:{label:"联系地址",prop:"contact_address"}},[i("el-input",{staticClass:"middle",model:{value:e.form.contact_address,callback:function(t){e.$set(e.form,"contact_address",t)},expression:"form.contact_address"}})],1),i("el-form-item",{attrs:{label:"服务时间",prop:"service_time"}},[i("el-input",{staticClass:"middle",model:{value:e.form.service_time,callback:function(t){e.$set(e.form,"service_time",t)},expression:"form.service_time"}})],1),i("el-form-item",{attrs:{label:"客服qq",prop:"service_qq"}},[i("el-input",{staticClass:"middle",model:{value:e.form.service_qq,callback:function(t){e.$set(e.form,"service_qq",t)},expression:"form.service_qq"}})],1),i("el-form-item",{attrs:{label:"申请友链qq",prop:"flink_qq"}},[i("el-input",{staticClass:"middle",model:{value:e.form.flink_qq,callback:function(t){e.$set(e.form,"flink_qq",t)},expression:"form.flink_qq"}})],1),i("el-form-item",{attrs:{label:"其他说明",prop:"bottom_other"}},[i("el-input",{staticClass:"middle",model:{value:e.form.bottom_other,callback:function(t){e.$set(e.form,"bottom_other",t)},expression:"form.bottom_other"}})],1),i("el-form-item",{attrs:{label:"网站备案号(ICP)",prop:"icp"}},[i("el-input",{staticClass:"middle",model:{value:e.form.icp,callback:function(t){e.$set(e.form,"icp",t)},expression:"form.icp"}})],1),i("el-form-item",{attrs:{label:"公网安备",prop:"network_security"}},[i("el-input",{staticClass:"middle",model:{value:e.form.network_security,callback:function(t){e.$set(e.form,"network_security",t)},expression:"form.network_security"}})],1),i("el-form-item",{attrs:{label:"暂时关闭网站"}},[i("el-switch",{model:{value:e.form.isclose,callback:function(t){e.$set(e.form,"isclose",t)},expression:"form.isclose"}})],1),i("el-form-item",{attrs:{label:"关闭网站原因"}},[i("el-input",{staticClass:"middle",model:{value:e.form.close_reason,callback:function(t){e.$set(e.form,"close_reason",t)},expression:"form.close_reason"}})],1),i("el-form-item",{attrs:{label:"第三方统计代码",prop:"statistics"}},[i("el-input",{staticClass:"middle",attrs:{type:"textarea",rows:4},model:{value:e.form.statistics,callback:function(t){e.$set(e.form,"statistics",t)},expression:"form.statistics"}})],1),i("el-form-item",{attrs:{label:"网站logo",prop:"logo"}},[i("el-upload",{staticClass:"logo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleLogoSuccess,"before-upload":e.beforeLogoUpload}},[e.logoUrl?i("img",{staticClass:"logo",attrs:{src:e.logoUrl}}):i("i",{staticClass:"el-icon-plus logo-uploader-icon"})]),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 建议尺寸170*70 ")])],1),i("el-form-item",{attrs:{label:"网站方形logo",prop:"square_logo"}},[i("el-upload",{staticClass:"squarelogo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":function(t,i){e.handleSquareLogoSuccess("squarelogo",t,i)},"before-upload":e.beforeLogoUpload}},[e.squarelogoUrl?i("img",{staticClass:"squarelogo",attrs:{src:e.squarelogoUrl}}):i("i",{staticClass:"el-icon-plus squarelogo-uploader-icon"})]),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 建议尺寸200*200 ")])],1),i("el-form-item",{attrs:{label:"电子营业执照",prop:""}},[i("el-input",{staticClass:"middle",model:{value:e.form.qualification_publicity.business_license,callback:function(t){e.$set(e.form.qualification_publicity,"business_license",t)},expression:"form.qualification_publicity.business_license"}})],1),i("el-form-item",{attrs:{label:"电子营业执照图片"}},[i("el-upload",{staticClass:"squarelogo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":function(t,i){e.handleSquareLogoSuccess("business_license",t,i)},"before-upload":e.beforeLogoUpload}},[e.business_license_url?i("img",{staticClass:"squarelogo",attrs:{src:e.business_license_url}}):i("i",{staticClass:"el-icon-plus squarelogo-uploader-icon"})])],1),i("el-form-item",{attrs:{label:"人力资源服务许可证",prop:"service_license"}},[i("el-input",{staticClass:"middle",model:{value:e.form.qualification_publicity.service_license,callback:function(t){e.$set(e.form.qualification_publicity,"service_license",t)},expression:"form.qualification_publicity.service_license"}})],1),i("el-form-item",{attrs:{label:"人力资源服务许可证图片",prop:"square_logo"}},[i("el-upload",{staticClass:"squarelogo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":function(t,i){e.handleSquareLogoSuccess("service_license",t,i)},"before-upload":e.beforeLogoUpload}},[e.service_license_url?i("img",{staticClass:"squarelogo",attrs:{src:e.service_license_url}}):i("i",{staticClass:"el-icon-plus squarelogo-uploader-icon"})])],1),i("el-form-item",{attrs:{label:"增值电信业务经营许可证"}},[i("el-input",{staticClass:"middle",model:{value:e.form.qualification_publicity.business_licenses,callback:function(t){e.$set(e.form.qualification_publicity,"business_licenses",t)},expression:"form.qualification_publicity.business_licenses"}})],1),i("el-form-item",{attrs:{label:"增值电信业务经营许可证图片"}},[i("el-upload",{staticClass:"squarelogo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":function(t,i){e.handleSquareLogoSuccess("business_licenses",t,i)},"before-upload":e.beforeLogoUpload}},[e.business_licenses_url?i("img",{staticClass:"squarelogo",attrs:{src:e.business_licenses_url}}):i("i",{staticClass:"el-icon-plus squarelogo-uploader-icon"})])],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 保存 ")])],1)],1)],1)},r=[],c=i("5530"),u=(i("8a79"),i("2ca0"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("ac1f"),i("1276"),i("caad"),i("2532"),i("1063")),m=i("d722"),f=i("5f87"),d={data:function(){var e=function(e,t,i){t.endsWith("/")?i(new Error("域名结尾不要加“/”")):i()},t=function(e,t,i){t.startsWith("/")?t.endsWith("/")?i():i(new Error("安装目录要以“/”结束")):i(new Error("安装目录要以“/”开始"))};return{infoLoading:!0,headers:{admintoken:Object(f["e"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+m["a"].upload,form:{sitename:"",sitedomain:"",sitedir:"",member_dirname:"",contact_tel:"",contact_email:"",contact_address:"",service_time:"",service_qq:"",bottom_other:"",icp:"",network_security:"",service_license:"",flink_qq:"",isclose:!1,close_reason:"",statistics:"",logo:"",square_logo:"",qualification_publicity:{business_license:"",business_license_id:0,business_licenses:"",business_licenses_id:0,service_license_id:0,service_license:""}},business_license_url:"",service_license_url:"",business_licenses_url:"",logoUrl:"",squarelogoUrl:"",rules:{sitename:[{required:!0,message:"请输入网站名称",trigger:"blur"},{max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],sitedomain:[{required:!0,message:"请输入网站域名",trigger:"blur"},{max:100,message:"长度在 1 到 100 个字符",trigger:"blur"},{validator:e,trigger:"blur"}],sitedir:[{required:!0,message:"请输入安装目录",trigger:"blur"},{validator:t,trigger:"blur"}]}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(u["n"])(t,"get").then((function(t){var i=Object(c["a"])({},t.data),o=i.sitename,a=i.sitedomain,s=i.sitedir,l=i.member_dirname,n=i.contact_tel,r=i.contact_email,u=i.contact_address,m=i.service_time,f=i.service_qq,d=i.bottom_other,p=i.icp,g=i.network_security,h=i.service_license,b=i.flink_qq,_=i.isclose,v=i.close_reason,y=i.statistics,C=i.logo,k=i.square_logo,q=i.qualification_publicity;e.form={sitename:o,sitedomain:a,sitedir:s,member_dirname:l,contact_tel:n,contact_email:r,contact_address:u,service_time:m,service_qq:f,bottom_other:d,icp:p,network_security:g,service_license:h,flink_qq:b,isclose:_,close_reason:v,statistics:y,logo:C,square_logo:k,qualification_publicity:q},e.form.isclose=1==e.form.isclose,e.logoUrl=t.data.logoUrl,e.squarelogoUrl=t.data.squarelogoUrl,e.infoLoading=!1,e.business_license_url=t.data.business_license_url,e.service_license_url=t.data.service_license_url,e.business_licenses_url=t.data.business_licenses_url})).catch((function(){}))},onSubmit:function(e){var t=this;this.form.service_license=this.form.qualification_publicity.service_license;var i=Object(c["a"])({},this.form);console.log(i),this.$refs[e].validate((function(e){if(!e)return!1;i.isclose=!0===i.isclose?1:0,Object(u["n"])(i).then((function(e){return t.$store.dispatch("config/getConfigInfo"),t.$message.success(e.message),!0})).catch((function(){}))}))},handleLogoSuccess:function(e,t){if(200!==e.code)return this.$message.error(e.message),!1;this.logoUrl=URL.createObjectURL(t.raw),this.form.logo=e.data.file_id},handleSquareLogoSuccess:function(e,t,i){if(200!==t.code)return this.$message.error(t.message),!1;switch(e){case"squarelogo":this.squarelogoUrl=URL.createObjectURL(i.raw),this.form.square_logo=t.data.file_id;break;case"business_license":this.business_license_url=URL.createObjectURL(i.raw),this.form.qualification_publicity.business_license_id=t.data.file_id;break;case"service_license":this.service_license_url=URL.createObjectURL(i.raw),this.form.qualification_publicity.service_license_id=t.data.file_id;break;case"business_licenses":this.business_licenses_url=URL.createObjectURL(i.raw),this.form.qualification_publicity.business_licenses_id=t.data.file_id;break}},beforeLogoUpload:function(e){var t=e.type.split("/"),i=t[1],o=this.fileupload_ext.split(",");return o.includes(i)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)}}},p=d,g=(i("8d56"),i("2877")),h=Object(g["a"])(p,n,r,!1,null,"2f1089a1",null),b=h.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"120px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"关闭会员注册"}},[i("el-switch",{model:{value:e.form.closereg,callback:function(t){e.$set(e.form,"closereg",t)},expression:"form.closereg"}})],1),i("el-form-item",{attrs:{label:"用户名前缀"}},[i("el-input",{staticClass:"small",model:{value:e.form.reg_prefix,callback:function(t){e.$set(e.form,"reg_prefix",t)},expression:"form.reg_prefix"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 注册生成用户名，规则：前缀+手机号末4位+随机码，如:user_5353753951 ")])],1),i("el-form-item",{attrs:{label:"注册协议"}},[i("div",{staticStyle:{border:"1px solid #ccc"}},[i("Toolbar",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{editor:e.editor_agreement,defaultConfig:e.toolbarConfig}}),i("Editor",{staticStyle:{height:"400px","overflow-y":"hidden"},on:{onCreated:e.onCreated1},model:{value:e.form.agreement,callback:function(t){e.$set(e.form,"agreement",t)},expression:"form.agreement"}})],1)]),i("el-form-item",{attrs:{label:"隐私政策"}},[i("div",{staticStyle:{border:"1px solid #ccc"}},[i("Toolbar",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{editor:e.editor_privacy,defaultConfig:e.toolbarConfig}}),i("Editor",{staticStyle:{height:"400px","overflow-y":"hidden"},on:{onCreated:e.onCreated2},model:{value:e.form.privacy,callback:function(t){e.$set(e.form,"privacy",t)},expression:"form.privacy"}})],1)]),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)],1)],1)},v=[],y=(i("af93"),i("560e"),i("4e15")),C={components:{Editor:y["a"],Toolbar:y["b"]},data:function(){return{infoLoading:!0,editor_agreement:null,toolbarConfig:{excludeKeys:["fullScreen","insertVideo"]},editor_privacy:null,form:{closereg:"",reg_prefix:"",agreement:"",privacy:""},rules:{}}},mounted:function(){},beforeDestroy:function(){var e=this.editor;null!=e&&e.destroy()},created:function(){this.fetchInfo()},methods:{onCreated1:function(e){this.editor_agreement=Object.seal(e),console.log(this.editor_agreement.getConfig()),this.editor_agreement.getMenuConfig("uploadImage").headers={admintoken:Object(f["e"])()},this.editor_agreement.getMenuConfig("uploadImage").withCredentials=!0,this.editor_agreement.getMenuConfig("uploadImage").server=window.global.RequestBaseUrl+m["a"].uploadEditor},onCreated2:function(e){this.editor_privacy=Object.seal(e),this.editor_privacy.getMenuConfig("uploadImage").headers={admintoken:Object(f["e"])()},this.editor_privacy.getMenuConfig("uploadImage").withCredentials=!0,this.editor_privacy.getMenuConfig("uploadImage").server=window.global.RequestBaseUrl+m["a"].uploadEditor},fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(u["n"])(t,"get").then((function(t){var i=Object(c["a"])({},t.data),o=i.closereg,a=i.reg_prefix,s=i.agreement,l=i.privacy;e.form={closereg:o,reg_prefix:a,agreement:s,privacy:l},e.form.closereg=1==e.form.closereg,e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this;this.form.agreement=this.editor_agreement.getHtml(),this.form.privacy=this.editor_privacy.getHtml();var i=Object(c["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return!1;i.closereg=!0===i.closereg?1:0,Object(u["n"])(i).then((function(e){return t.$store.dispatch("config/getConfigInfo"),t.$message.success(e.message),!0})).catch((function(){}))}))}}},k=C,q=Object(g["a"])(k,_,v,!1,null,null,null),w=q.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),!0===e.setting_secrecy?i("div",{staticClass:"no-promise"},[e._m(0)]):i("el-form",{ref:"form",staticClass:"common-form",attrs:{"v-loading":e.infoLoading,model:e.form,"label-width":"150px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"默认地图标注"}},[i("baidu-map",{staticClass:"map",attrs:{ak:e.config.map_ak,"scroll-wheel-zoom":!0,center:e.center,zoom:e.zoom},on:{ready:e.handlerMap,moveend:e.handlerMapMove,zoomend:e.handlerMapScroll}},[i("baidu-map-navigation")],1)],1),i("el-form-item",{attrs:{label:"百度地图客户端AK"}},[i("el-input",{staticClass:"small",model:{value:e.form.map_ak,callback:function(t){e.$set(e.form,"map_ak",t)},expression:"form.map_ak"}})],1),i("el-form-item",{attrs:{label:"百度地图服务端AK"}},[i("el-input",{staticClass:"small",model:{value:e.form.map_server_ak,callback:function(t){e.$set(e.form,"map_server_ak",t)},expression:"form.map_server_ak"}})],1),i("el-form-item",{attrs:{label:"默认中心点X坐标"}},[i("el-input",{staticClass:"small",model:{value:e.form.map_lng,callback:function(t){e.$set(e.form,"map_lng",t)},expression:"form.map_lng"}})],1),i("el-form-item",{attrs:{label:"默认中心点Y坐标"}},[i("el-input",{staticClass:"small",model:{value:e.form.map_lat,callback:function(t){e.$set(e.form,"map_lat",t)},expression:"form.map_lat"}})],1),i("el-form-item",{attrs:{label:"默认缩放级别"}},[i("el-input",{staticClass:"small",model:{value:e.form.map_zoom,callback:function(t){e.$set(e.form,"map_zoom",t)},expression:"form.map_zoom"}})],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)],1)],1)},$=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notice-div"},[i("p",{staticClass:"notice-p"},[e._v("暂无查看权限，请联系网站负责人")])])}],S=(i("d81d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.hasBmView?e._e():i("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),e._t("default")],2)}),M=[],z=i("7f25"),O=z["a"],L=Object(g["a"])(O,S,M,!1,null,null,null),U=L.exports,j=i("b5c1"),Z=j["a"],B=Object(g["a"])(Z,o,a,!1,null,null,null),I=B.exports,R={components:{BaiduMap:U,BaiduMapNavigation:I},data:function(){return{infoLoading:!0,center:{lng:116.404,lat:39.915},zoom:12,form:{map_ak:"",map_server_ak:"",map_lng:"",map_lat:"",map_zoom:""},rules:{},setting_secrecy:!1}},computed:{config:function(){return this.$store.state.config}},mounted:function(){},created:function(){this.setting_secrecy=!!window.global.SettingSecrecy&&window.global.SettingSecrecy,this.fetchInfo()},methods:{handlerMap:function(e){e.BMap,e.map;var t=this;setTimeout((function(){t.center.lng=t.config.map_lng,t.center.lat=t.config.map_lat,t.zoom=parseInt(t.config.map_zoom)}),1e3)},handlerMapMove:function(e){var t=e.target.getCenter(),i=t.lng,o=t.lat;this.form.map_lng=i,this.form.map_lat=o,this.form.map_zoom=e.target.getZoom()},handlerMapScroll:function(e){this.form.map_zoom=e.target.getZoom()},fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(u["n"])(t,"get").then((function(t){var i=Object(c["a"])({},t.data),o=i.map_ak,a=i.map_server_ak,s=i.map_lng,l=i.map_lat,n=i.map_zoom;e.form={map_ak:o,map_server_ak:a,map_lng:s,map_lat:l,map_zoom:n},e.form.map_zoom=parseInt(e.form.map_zoom),e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,i=Object(c["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return!1;Object(u["n"])(i).then((function(e){return t.$store.dispatch("config/getConfigInfo"),t.$message.success(e.message),!0})).catch((function(){}))}))}}},E=R,T=(i("1b1b"),Object(g["a"])(E,x,$,!1,null,null,null)),W=T.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"文件保存位置"}},[i("el-radio-group",{model:{value:e.form.fileupload_type,callback:function(t){e.$set(e.form,"fileupload_type",t)},expression:"form.fileupload_type"}},[i("el-radio",{attrs:{label:"default"}},[e._v("本地服务器")]),i("el-radio",{attrs:{label:"qiniu"}},[e._v("七牛云")])],1)],1),"qiniu"==e.form.fileupload_type?i("el-form-item",{staticClass:"is-required",attrs:{label:"存储空间名",prop:"bucket"}},[i("el-input",{model:{value:e.form.account_qiniu.bucket,callback:function(t){e.$set(e.form.account_qiniu,"bucket",t)},expression:"form.account_qiniu.bucket"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 创建空间时设置的名称 ")])],1):e._e(),"qiniu"==e.form.fileupload_type?i("el-form-item",{staticClass:"is-required",attrs:{label:"accessKey",prop:"access_key"}},[i("el-input",{model:{value:e.form.account_qiniu.access_key,callback:function(t){e.$set(e.form.account_qiniu,"access_key",t)},expression:"form.account_qiniu.access_key"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 在七牛云管理平台【个人面板-密钥管理】获取 ")])],1):e._e(),"qiniu"==e.form.fileupload_type?i("el-form-item",{staticClass:"is-required",attrs:{label:"secretKey",prop:"secret_key"}},[i("el-input",{model:{value:e.form.account_qiniu.secret_key,callback:function(t){e.$set(e.form.account_qiniu,"secret_key",t)},expression:"form.account_qiniu.secret_key"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 在七牛云管理平台【个人面板-密钥管理】获取 ")])],1):e._e(),"qiniu"==e.form.fileupload_type?i("el-form-item",{staticClass:"is-required",attrs:{label:"外链域名",prop:"domain"}},[i("el-input",{model:{value:e.form.account_qiniu.domain,callback:function(t){e.$set(e.form.account_qiniu,"domain",t)},expression:"form.account_qiniu.domain"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 资源访问域名，请到七牛云管理平台设置 ")])],1):e._e(),"qiniu"==e.form.fileupload_type?i("el-form-item",{staticClass:"is-required",attrs:{label:"资源访问协议",prop:"protocol"}},[i("el-radio-group",{model:{value:e.form.account_qiniu.protocol,callback:function(t){e.$set(e.form.account_qiniu,"protocol",t)},expression:"form.account_qiniu.protocol"}},[i("el-radio",{attrs:{label:"http://"}},[e._v("http://")]),i("el-radio",{attrs:{label:"https://"}},[e._v("https://")])],1),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 资源访问协议http(s)，请到七牛云管理平台设置 ")])],1):e._e(),i("el-form-item",{attrs:{label:"文件上传最大限制",prop:"fileupload_size"}},[i("el-input",{attrs:{type:"number"},model:{value:e.form.fileupload_size,callback:function(t){e.$set(e.form,"fileupload_size",e._n(t))},expression:"form.fileupload_size"}},[i("template",{slot:"append"},[e._v("kb")])],2)],1),i("el-form-item",{attrs:{label:"允许上传的文件类型",prop:"fileupload_ext"}},[i("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.fileupload_ext,callback:function(t){e.$set(e.form,"fileupload_ext",t)},expression:"form.fileupload_ext"}}),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 多个以英文半角逗号 “,” 隔开 ")])],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)],1)],1)},P=[],A={data:function(){return{infoLoading:!0,form:{fileupload_type:"",fileupload_size:0,fileupload_ext:"",account_qiniu:{bucket:"",access_key:"",secret_key:"",domain:"",protocol:""}},rules:{fileupload_size:[{required:!0,message:"请输入文件上传最大限制",trigger:"blur"},{type:"number",message:"输入内容必须为数字",trigger:"blur"}],fileupload_ext:[{required:!0,message:"请输入允许上传的文件类型",trigger:"blur"}]}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(u["n"])(t,"get").then((function(t){var i=t.data,o=i.fileupload_type,a=i.fileupload_size,s=i.fileupload_ext,l=i.account_qiniu;e.form.fileupload_type=""==o?"default":o,e.form.fileupload_size=parseInt(a),e.form.fileupload_ext=s,e.form.account_qiniu=l,e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,i=Object(c["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return!1;Object(u["n"])(i).then((function(e){return t.$store.dispatch("config/getConfigInfo"),t.$message.success(e.message),!0})).catch((function(){}))}))}}},J=A,K=(i("12a8"),Object(g["a"])(J,D,P,!1,null,"39a249f4",null)),N=K.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"spaceline"}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"120px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"标题",prop:"guide_title"}},[i("el-input",{staticClass:"middle",attrs:{maxlength:"16","show-word-limit":""},model:{value:e.form.guide_title,callback:function(t){e.$set(e.form,"guide_title",t)},expression:"form.guide_title"}})],1),i("el-form-item",{attrs:{label:"内容",prop:"guide_content"}},[i("el-input",{staticClass:"middle",attrs:{maxlength:"25","show-word-limit":""},model:{value:e.form.guide_content,callback:function(t){e.$set(e.form,"guide_content",t)},expression:"form.guide_content"}})],1),i("el-form-item",{attrs:{label:"是否开启"}},[i("el-switch",{model:{value:e.form.guide_open,callback:function(t){e.$set(e.form,"guide_open",t)},expression:"form.guide_open"}})],1),i("el-form-item",{attrs:{label:"二维码图片",prop:"guide_qrcode"}},[i("el-upload",{staticClass:"qrcode-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleQrcodeSuccess,"before-upload":e.beforeQrcodeUpload}},[e.qrcodeUrl?i("img",{staticClass:"qrcode",attrs:{src:e.qrcodeUrl}}):i("i",{staticClass:"el-icon-plus qrcode-uploader-icon"})]),i("span",{staticClass:"smalltip"},[i("i",{staticClass:"el-icon-info"}),e._v(" 建议尺寸94*94 ")])],1),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 保存 ")])],1)],1)],1)},V=[],G={data:function(){return{infoLoading:!0,headers:{admintoken:Object(f["e"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+m["a"].upload,form:{guide_title:"",guide_content:"",guide_open:!1,guide_qrcode:""},qrcodeUrl:"",rules:{guide_title:[{required:!0,message:"请输入标题",trigger:"blur"},{max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],guide_content:[{required:!0,message:"请输入内容",trigger:"blur"},{max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]}}},computed:{config:function(){return this.$store.state.config}},mounted:function(){},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0;var t={};Object(u["n"])(t,"get").then((function(t){var i=Object(c["a"])({},t.data),o=i.guide_title,a=i.guide_content,s=i.guide_open,l=i.guide_qrcode;e.form={guide_title:o,guide_content:a,guide_open:s,guide_qrcode:l},e.form.guide_open=1==e.form.guide_open,e.qrcodeUrl=t.data.guide_qrcodeUrl,e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,i=Object(c["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return!1;i.guide_open=!0===i.guide_open?1:0,Object(u["n"])(i).then((function(e){return t.$store.dispatch("config/getConfigInfo"),t.$message.success(e.message),!0})).catch((function(){}))}))},handleQrcodeSuccess:function(e,t){if(200!==e.code)return this.$message.error(e.message),!1;this.qrcodeUrl=URL.createObjectURL(t.raw),this.form.guide_qrcode=e.data.file_id},beforeQrcodeUpload:function(e){var t=e.type.split("/"),i=t[1],o=this.fileupload_ext.split(",");return o.includes(i)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)}}},H=G,X=(i("64a3"),Object(g["a"])(H,Q,V,!1,null,"6329cea7",null)),Y=X.exports,F={components:{sysconfigwebsite:b,sysconfigreg:w,sysconfigmap:W,sysconfigupload:N,sysconfigguide:Y}},ee=F,te=Object(g["a"])(ee,s,l,!1,null,null,null);t["default"]=te.exports},b5c1:function(e,t,i){"use strict";(function(e){i("d81d"),i("18a5");var o=i("2da4"),a=i("76f3");t["a"]={name:"bm-navigation",render:function(){},mixins:[Object(o["a"])("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},showZoomInfo:function(){this.reload()}},methods:{load:function(){var t=this.BMap,i=this.map,o=this.anchor,s=this.offset,l=this.type,n=this.showZoomInfo,r=this.enableGeolocation;this.originInstance=new t.NavigationControl({anchor:e[o],offset:s&&Object(a["b"])(t,s),type:e[l],showZoomInfo:n,enableGeolocation:r}),i.addControl(this.originInstance)}}}}).call(this,i("c8ba"))},bbd1:function(e,t,i){}}]);