(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30e65000"],{"24cb":function(t,e,a){"use strict";a("6adc")},"52b5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("b775"),n=a("d722");function r(t){return Object(i["a"])({url:n["a"].getClassify,method:"get",params:t})}},"6adc":function(t,e,a){},"8f37":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABkUlEQVQ4T6WSPUhbYRSGn3MTsaKCSBLHXH9wqEi3bgUteO/UDi1CHdXOTmrjFgepSLdupYiLFFyFqtdCFzuJS7WLoF4dcyNUxEGSfEdu1GDMDwHP+J1znvOe93zCE0Oe2E8ZILFtu8A7NfpaRa4txTOY1ax7tldrUAkQ97q/g05WK1TVL1n3dKZargiIb9mfEVIK/7CslBizHr6rZb3BmEWBAVS/Bu7p1GNIERDz7HOBzgqAylsRXQA6gKPA8YcrALENe0gi/K6xY6jkHAkV8BwIBP6CWco4Z3/CHun72dd8Ec3/B56VQYRdlANgHNgHBot54RKlHbFeBSPHO7ceeMk1kNFyFRKa+hFYiUYknS/ougj7RvkmkAZaA8d/+eAKjyDKMsLEHbRSQSimIC9KgMRm8r2xZF6EbQUb5VBgts5Hu2puy8dLgJhnj2Ud/8d9w503m8BQVYgyF7h+eOLaEfvV0y/GzAMfHlYJfMo4/tKtpw1E11ZvIh/RZFPOBLmotkTUmsw4J9MNA+rNaEhBPcAN9fyMNNWyaBMAAAAASUVORK5CYII="},"97eb":function(t,e,a){"use strict";a.d(e,"k",(function(){return r})),a.d(e,"i",(function(){return s})),a.d(e,"h",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"b",(function(){return d})),a.d(e,"q",(function(){return u})),a.d(e,"e",(function(){return c})),a.d(e,"c",(function(){return f})),a.d(e,"m",(function(){return p})),a.d(e,"d",(function(){return h})),a.d(e,"r",(function(){return g})),a.d(e,"o",(function(){return b})),a.d(e,"n",(function(){return m})),a.d(e,"s",(function(){return _})),a.d(e,"a",(function(){return v})),a.d(e,"p",(function(){return y})),a.d(e,"l",(function(){return j})),a.d(e,"g",(function(){return x})),a.d(e,"f",(function(){return w}));var i=a("b775"),n=a("d722");function r(t){return Object(i["a"])({url:n["a"].jobFairListOl,method:"get",params:t})}function s(t){return Object(i["a"])({url:n["a"].jobFairListOlDelete,method:"post",data:t})}function o(t){return Object(i["a"])({url:n["a"].jobFairListOlAdd,method:"post",data:t})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(i["a"])({url:n["a"].jobFairListOlEdit,method:e,data:t}):Object(i["a"])({url:n["a"].jobFairListOlEdit,method:e,params:t})}function d(t){return Object(i["a"])({url:n["a"].jobFairListOlCompanyList,method:"get",params:t})}function u(t){return Object(i["a"])({url:n["a"].jobFairListOlPersonalList,method:"get",params:t})}function c(t){return Object(i["a"])({url:n["a"].jobFairListOlSticky,method:"post",data:t})}function f(t){return Object(i["a"])({url:n["a"].jobFairListOlQrcode,method:"post",data:t})}function p(t){return Object(i["a"])({url:n["a"].jobFairListOlParAdd,method:"post",data:t})}function h(t){return Object(i["a"])({url:n["a"].jobFairListOlCompanySearch,method:"get",params:t})}function g(t){return Object(i["a"])({url:n["a"].jobFairListOlPersonalSearch,method:"get",params:t})}function b(t){return Object(i["a"])({url:n["a"].jobFairListOlStatus,method:"post",data:t})}function m(t){return Object(i["a"])({url:n["a"].jobFairListOlParticipateDelete,method:"post",data:t})}function _(t){return Object(i["a"])({url:n["a"].jobFairListOlQrService,method:"post",data:t})}function v(t){return Object(i["a"])({url:n["a"].jobFairListOlComBatchAdd,method:"post",data:t})}function y(t){return Object(i["a"])({url:n["a"].jobFairListOlPerBatchAdd,method:"post",data:t})}function j(){return Object(i["a"])({url:n["a"].jobfairOlListAll,method:"get"})}function x(t){return Object(i["a"])({url:n["a"].isExhibitors,method:"get",params:t})}function w(t){return Object(i["a"])({url:n["a"].jobfairOlCompanyJobsList,method:"get",params:t})}},a229:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"app-container",attrs:{"element-loading-text":t.fullscreenLoading_text,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("参会个人")])]),i("div",{staticClass:"list-search"},[i("el-select",{staticClass:"list-options",attrs:{placeholder:"审核状态"},on:{change:t.funSearch},model:{value:t.filter.audit,callback:function(e){t.$set(t.filter,"audit",e)},expression:"filter.audit"}},[i("el-option",{attrs:{label:"不限参会状态",value:""}}),i("el-option",{attrs:{label:"待审核",value:"0"}}),i("el-option",{attrs:{label:"已通过",value:"1"}}),i("el-option",{attrs:{label:"未通过",value:"2"}})],1),i("el-select",{staticClass:"list-options",attrs:{placeholder:"来源"},on:{change:t.funSearch},model:{value:t.filter.source,callback:function(e){t.$set(t.filter,"source",e)},expression:"filter.source"}},[i("el-option",{attrs:{label:"不限来源",value:""}}),i("el-option",{attrs:{label:"后台添加",value:"1"}}),i("el-option",{attrs:{label:"自主申请",value:"0"}})],1),i("el-select",{staticClass:"list-options",attrs:{placeholder:"排序方式"},on:{change:t.funSearch},model:{value:t.filter.order_key,callback:function(e){t.$set(t.filter,"order_key",e)},expression:"filter.order_key"}},[i("el-option",{attrs:{label:"按参会状态排序",value:""}}),i("el-option",{attrs:{label:"按添加时间排序",value:"1"}}),i("el-option",{attrs:{label:"按刷新时间排序",value:"2"}})],1),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容"},model:{value:t.filter.keyword,callback:function(e){t.$set(t.filter,"keyword",e)},expression:"filter.keyword"}},[i("el-select",{staticClass:"input-sel",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.filter.key_type,callback:function(e){t.$set(t.filter,"key_type",e)},expression:"filter.key_type"}},[i("el-option",{attrs:{label:"姓名",value:"1"}}),i("el-option",{attrs:{label:"电话",value:"2"}})],1),i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.funSearchKeyword},slot:"append"})],1)],1),i("div",{staticClass:"spaceline"}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"42"}}),i("el-table-column",{attrs:{label:"姓名","min-width":"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"namecol"},[i("el-popover",{attrs:{placement:"right",trigger:"hover",width:"300"}},[i("img",{staticStyle:{"max-width":"274px"},attrs:{src:e.row.photo_url}}),i("span",{attrs:{slot:"reference"},slot:"reference"},[i("span",{staticClass:"avatar"},[i("el-avatar",{attrs:{src:e.row.photo_url}})],1)])]),i("span",[i("div",[i("el-link",{staticClass:"text",attrs:{href:e.row.link,target:"_blank",type:"primary",underline:!1}},[t._v(" "+t._s(e.row.fullname)+" ")]),1==e.row.bind_weixin?i("img",{staticStyle:{"vertical-align":"middle","margin-left":"4px"},attrs:{src:a("8f37")}}):t._e()],1),i("div",[i("span",[t._v(t._s(e.row.age))]),t._v(" · "),i("span",[t._v(t._s(e.row.sex_cn))]),t._v(" · "),i("span",[t._v(t._s(e.row.education_cn))]),t._v(" · "),i("span",[t._v(t._s(e.row.experience_cn))])])])],1)]}}])}),i("el-table-column",{attrs:{label:"简历完整度","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-progress",{staticStyle:{width:"100px"},attrs:{"text-inside":!0,"stroke-width":16,percentage:t.row.complete}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"简历状态","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{title:"公开状态"}},[0===e.row.is_display?i("span",[t._v("不公开")]):1===e.row.is_display?i("span",[t._v("公开")]):t._e()]),i("div",{attrs:{title:"审核状态"}},[0===e.row.r_audit?i("span",[t._v("待审核")]):1===e.row.r_audit?i("span",[t._v("已通过")]):2===e.row.r_audit?i("span",[t._v("未通过")]):t._e()])]}}])}),i("el-table-column",{attrs:{align:"center",label:"刷新/添加时间","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{title:"简历刷新时间"}},[i("i",{staticClass:"el-icon-time"}),t._v(t._s(t._f("timeFilter")(e.row.refreshtime))+" ")]),i("div",{attrs:{title:"参会时间"}},[e.row.jaddtime>0?i("span",[i("i",{staticClass:"el-icon-time"}),i("span",[t._v(t._s(t._f("timeFilter")(e.row.jaddtime)))])]):i("span",[t._v("-")])])]}}])}),i("el-table-column",{attrs:{label:"参会状态",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.jaudit?i("el-tag",{attrs:{type:"warning"}},[t._v("待审核")]):1===e.row.jaudit?i("el-tag",{attrs:{type:"success"}},[t._v("已通过")]):2===e.row.jaudit?i("el-tag",{attrs:{type:"danger"}},[t._v("未通过")]):t._e()]}}])}),i("el-table-column",{attrs:{label:"数据来源",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1===e.row.jsource?"后台添加":"自主申请")+" ")]}}])}),i("el-table-column",{attrs:{align:"right",label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.editPersonal(e.row)}}},[t._v("修改")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deletePersonal(e.row)}}},[t._v("删除")])]}}])})],1),i("div",{staticClass:"spaceline"}),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goAdd}},[t._v("添加个人")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.setStatus}},[t._v("参会状态")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogAddVisible=!0}}},[t._v("批量添加")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.deletePersonalBatch}},[t._v("批量删除")])],1),i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:16}},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),i("el-dialog",{attrs:{title:"设置参会状态",visible:t.dialogStatusVisible,width:"25%"},on:{"update:visible":function(e){t.dialogStatusVisible=e}}},[i("el-form",{staticClass:"common-form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"参会状态"}},[i("el-radio-group",{model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[i("el-radio",{attrs:{label:"0"}},[t._v("待审核")]),i("el-radio",{attrs:{label:"1"}},[t._v("已通过")]),i("el-radio",{attrs:{label:"2"}},[t._v("未通过")])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogStatusVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.funSetStatus}},[t._v(" 确 定 ")])],1)],1),i("el-dialog",{attrs:{title:"批量添加个人",visible:t.dialogAddVisible,width:"25%"},on:{"update:visible":function(e){t.dialogAddVisible=e}}},[i("el-form",{staticClass:"common-form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"刷新时间"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOption("settr")}},model:{value:t.add.settr,callback:function(e){t.$set(t.add,"settr",e)},expression:"add.settr"}},t._l(t.options_settr,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"学历"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOption("edu")}},model:{value:t.add.edu,callback:function(e){t.$set(t.add,"edu",e)},expression:"add.edu"}},[i("el-option",{attrs:{label:"不限",value:""}}),t._l(t.options_edu,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],2)],1),i("el-form-item",{attrs:{label:"工作经验"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOption("exp")}},model:{value:t.add.exp,callback:function(e){t.$set(t.add,"exp",e)},expression:"add.exp"}},[i("el-option",{attrs:{label:"不限",value:""}}),t._l(t.options_exp,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],2)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogAddVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.funAddBatch}},[t._v(" 确 定 ")])],1)],1)],1)},n=[],r=a("b85c"),s=(a("4de4"),a("d3b7"),a("99af"),a("b0c0"),a("ed08")),o=a("97eb"),l=a("52b5"),d={filters:{timeFilter:function(t){return Object(s["b"])(t,"{y}-{m}-{d} {h}:{i}")},auditFilter:function(t){switch(t){case 1:return"success";case 2:return"danger";case 3:return"info";default:return""}}},data:function(){return{jobfair_id:"",audit:"",enable_setmeal_id:"",jobfair_list:[],total:0,currentPage:1,pagesize:10,listLoading:!1,list:[],tableIdarr:[],uIdarr:[],status:"1",dialogStatusVisible:!1,dialogAddVisible:!1,add:{settr:"",edu:"",exp:"",settr_cn:"不限",edu_cn:"不限",exp_cn:"不限"},options_settr:[{id:"",name:"不限"},{id:3,name:"三天内"},{id:7,name:"一周内"},{id:30,name:"一月内"},{id:180,name:"半年内"},{id:360,name:"一年内"}],options_edu:[],options_exp:[],filter:{audit:"",source:"",order_key:"",keyword:"",key_type:"1"},fullscreenLoading:!1,fullscreenLoading_text:""}},created:function(){this.jobfair_id=this.$route.query.jobfair_id,this.getExhibitors(),this.getOptions()},methods:{getExhibitors:function(){var t=this;this.listLoading=!0;var e={jobfair_id:this.jobfair_id,audit:this.filter.audit,source:this.filter.source,order_key:this.filter.order_key,key_type:this.filter.key_type,keyword:this.filter.keyword,page:this.currentPage,pagesize:this.pagesize};Object(o["q"])(e).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},editPersonal:function(t){this.uIdarr=[],this.uIdarr.push(t.uid),this.status=t.audit+"",this.dialogStatusVisible=!0},setStatus:function(){if(0===this.tableIdarr.length)return this.$message.error("请选择个人"),!1;this.status="1",this.dialogStatusVisible=!0},funSetStatus:function(){var t=this;if(!0===this.listLoading)return!1;this.listLoading=!0;var e={jobfair_id:this.jobfair_id,uid:this.uIdarr,audit:this.status};Object(o["o"])(e,"post").then((function(e){return 200===e.code?(t.$message.success(e.message),t.listLoading=!1,t.dialogStatusVisible=!1,t.getExhibitors(),!0):(t.listLoading=!1,t.$message.error(e.message),!1)}))},deletePersonal:function(t){var e=this,a=this;a.$confirm("此操作将永久删除该个人, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.uIdarr=[],e.uIdarr.push(t.uid),a.commitDelete()})).catch((function(){}))},deletePersonalBatch:function(){if(0===this.tableIdarr.length)return this.$message.error("请选择个人"),!1;var t=this;t.$confirm("此操作将永久删除个人, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.commitDelete()})).catch((function(){}))},commitDelete:function(){var t=this;if(!0===this.listLoading)return!1;this.listLoading=!0;var e={jobfair_id:this.jobfair_id,uid:this.uIdarr};Object(o["n"])(e,"post").then((function(e){return 200===e.code?(t.$message.success(e.message),t.listLoading=!1,t.getExhibitors(),!0):(t.listLoading=!1,t.$message.error(e.message),!1)}))},handleSizeChange:function(t){this.pagesize=t,this.getExhibitors()},handleCurrentChange:function(t){this.currentPage=t,this.getExhibitors()},funSearch:function(){this.currentPage=1,this.getExhibitors()},funSearchKeyword:function(){this.currentPage=1,this.getExhibitors()},handleSelectionChange:function(t){if(this.tableIdarr=[],this.uIdarr=[],t.length>0){var e,a=Object(r["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;this.tableIdarr.push(i.id),this.uIdarr.push(i.uid)}}catch(n){a.e(n)}finally{a.f()}}},goAdd:function(){this.$router.push({path:"/jobfairol/exhibitors/personal/add",query:{id:this.jobfair_id}})},funAddBatch:function(){var t=this,e=this,a="确定要批量添加刷新时间为".concat(this.add.settr_cn,"、学历为").concat(this.add.edu_cn,"、工作经验为").concat(this.add.exp_cn,"的简历吗？");e.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.fullscreenLoading_text="正在添加数据，请稍候",e.fullscreenLoading=!0,e.dialogAddVisible=!1,t.funAddBatchRun(1)})).catch((function(){}))},funAddBatchRun:function(t){var e=this,a={jobfair_id:e.jobfair_id,settr:e.add.settr,education:e.add.edu,experience:e.add.exp,page:t,pagesize:100};Object(o["p"])(a,"post").then((function(a){return 200!==a.code?(e.listLoading=!1,e.$message.error(a.message),!1):0!=a.data?(e.$message.success(a.message),e.fullscreenLoading=!1,e.getExhibitors(),!0):(e.fullscreenLoading_text="正在添加数据，"+a.message,void e.funAddBatchRun(parseInt(t)+1))})).catch((function(){e.listLoading=!1}))},changeOption:function(t){var e=this;"settr"===t?this.add.settr_cn=this.add.settr?this.options_settr.filter((function(t){return parseInt(t["id"])===parseInt(e.add.settr)}))[0].name:"不限":"edu"===t?this.add.edu_cn=this.add.edu?this.options_edu.filter((function(t){return parseInt(t["id"])===parseInt(e.add.edu)}))[0].name:"不限":this.add.exp_cn=this.add.exp?this.options_exp.filter((function(t){return parseInt(t["id"])===parseInt(e.add.exp)}))[0].name:"不限"},getOptions:function(){var t=this;Object(l["a"])({type:"education,experience"}).then((function(e){t.options_edu=e.data.education,t.options_exp=e.data.experience})).catch((function(){}))}}},u=d,c=(a("24cb"),a("2877")),f=Object(c["a"])(u,i,n,!1,null,"43c82f10",null);e["default"]=f.exports}}]);