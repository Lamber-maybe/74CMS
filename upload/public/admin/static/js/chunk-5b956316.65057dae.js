(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b956316"],{"068e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM2MCwgMjAyMC8wMi8xMy0wMTowNzoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY4NURGRDQ1M0ZEQzExRURBMEMyOTlDMDI0QzFERTIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY4NURGRDQ2M0ZEQzExRURBMEMyOTlDMDI0QzFERTIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Njg1REZENDMzRkRDMTFFREEwQzI5OUMwMjRDMURFMjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1REZENDQzRkRDMTFFREEwQzI5OUMwMjRDMURFMjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RwHVIAAABRklEQVR42mL8Hy/IQA3ABKU9gfgZEP8nET+D6gXygC4C4mf/z2//TzIA6QHpBZoBc5Ekg4EH6f6B6JFE9hrVwoh48PohA0NPMAPD++cUGHTnNANDozMDw5X9DAy3T6JIsRBtyOMrDAy9oQwM3z8xMMjpMjB8fkvAoP/AWL13loFB2QQh9uk1A0NfOAMDM1B59nwGBlN/IsJoVgYDQydQ4dsnEP6/vwwMUxIYGLgFGBjq92I1BLtBLmlAm1kZGFbUQPhb+hgYvn1kYCjfyMAgKk9CrCkbMzDkLWZgOLedgWHrBAaGAwsZGIpWMTDwiuANQuyBrWnLwOBTyMCwvgPiEiEpgnGBO9Y8c4Dhws/AoGpOYYLk4GFgcMskOWU/Z7iwk/R8AdHzAkQwQssjLyCeC8QSJBr1FIiB0cywDRZG22C5mFwAEGAAlsWN73B8zvUAAAAASUVORK5CYII="},"3f2a":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return l}));var i=a("b775"),n=a("d722");function s(t){return Object(i["a"])({url:n["a"].exportJob,method:"post",data:t})}function o(t){return Object(i["a"])({url:n["a"].exportJobById,method:"post",data:t})}function r(t){return Object(i["a"])({url:n["a"].exportCompany,method:"post",data:t})}function l(t){return Object(i["a"])({url:n["a"].exportResume,method:"post",data:t})}},4023:function(t,e,a){"use strict";a("9ec8")},"4e94":function(t,e,a){t.exports=a.p+"static/img/renew.4d34b632.png"},"52b5":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a("b775"),n=a("d722");function s(t){return Object(i["a"])({url:n["a"].getClassify,method:"get",params:t})}},"70a9":function(t,e,a){"use strict";a("9433")},8194:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"l",(function(){return p})),a.d(e,"k",(function(){return m})),a.d(e,"m",(function(){return f})),a.d(e,"j",(function(){return h})),a.d(e,"b",(function(){return b})),a.d(e,"a",(function(){return g}));var i=a("b775"),n=a("d722");function s(t){return Object(i["a"])({url:n["a"].memberList,method:"get",params:t})}function o(t){return Object(i["a"])({url:n["a"].memberAdd,method:"post",data:t})}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(i["a"])({url:n["a"].memberEdit,method:e,data:t}):Object(i["a"])({url:n["a"].memberEdit,method:e,params:t})}function l(t){return Object(i["a"])({url:n["a"].memberDelete,method:"post",data:t})}function c(t){return Object(i["a"])({url:n["a"].memberCheckUnique,method:"post",data:t})}function u(t){return Object(i["a"])({url:n["a"].memberLock,method:"post",data:t})}function d(t){return Object(i["a"])({url:n["a"].memberIm,method:"post",data:t})}function p(t){return Object(i["a"])({url:n["a"].memberPointsList,method:"get",params:t})}function m(t){return Object(i["a"])({url:n["a"].memberPointsEdit,method:"post",data:t})}function f(t){return Object(i["a"])({url:n["a"].memberPointsLog,method:"get",params:t})}function h(t){return Object(i["a"])({url:n["a"].memberLoginLog,method:"get",params:t})}function b(t){return Object(i["a"])({url:n["a"].memberActionLog,method:"get",params:t})}function g(t){return Object(i["a"])({url:n["a"].management,method:"get",params:t})}},9433:function(t,e,a){},"9ec8":function(t,e,a){},a6c5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("companylist",{attrs:{listtype:"all"}})},n=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("职位管理")])]),i("div",{staticClass:"list-search"},["all"==t.listtype?i("el-select",{staticClass:"list-options",attrs:{placeholder:"不限审核状态"},on:{change:t.funSearch},model:{value:t.audit,callback:function(e){t.audit=e},expression:"audit"}},[i("el-option",{attrs:{label:"不限审核状态",value:""}}),t._l(t.options_audit,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}))],2):t._e(),i("el-select",{staticClass:"list-options",attrs:{placeholder:"招聘状态"},on:{change:t.funSearch},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[i("el-option",{attrs:{label:"不限招聘状态",value:""}}),t._l(t.options_display,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}))],2),i("el-select",{staticClass:"list-options",attrs:{placeholder:"按添加时间排序"},on:{change:t.funSearch},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},[i("el-option",{attrs:{label:"按添加时间排序",value:""}}),i("el-option",{attrs:{label:"按刷新时间排序",value:"refreshtime"}}),i("el-option",{attrs:{label:"按修改时间排序",value:"updatetime"}})],1),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.funSearchKeyword.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("el-select",{staticClass:"input-sel",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.key_type,callback:function(e){t.key_type=e},expression:"key_type"}},[i("el-option",{attrs:{label:"职位名称",value:"1"}}),i("el-option",{attrs:{label:"公司名称",value:"2"}}),i("el-option",{attrs:{label:"职位ID",value:"3"}}),i("el-option",{attrs:{label:"公司ID",value:"4"}}),i("el-option",{attrs:{label:"会员ID",value:"5"}}),i("el-option",{attrs:{label:"会员手机号",value:"6"}})],1),i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.funSearchKeyword},slot:"append"})],1)],1),i("div",{staticClass:"spaceline"}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"42"}}),i("el-table-column",{attrs:{label:"职位名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[i("el-link",{attrs:{href:e.row.job_link,target:"_blank",type:"primary"}},[t._v(" "+t._s(e.row.jobname)+" ")])],1),i("div",[i("el-link",{attrs:{href:e.row.company_link,target:"_blank"}},[t._v(" "+t._s(e.row.companyname)+" ")])],1)]}}])}),i("el-table-column",{attrs:{label:"会员/职位手机号","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{title:"会员手机号"}},[i("i",{staticClass:"el-icon-user"}),t._v("  "+t._s(e.row.member_mobile)+" "),""!=e.row.member_mobile&&null!=e.row.member_mobile?i("div",{staticClass:"dial",attrs:{title:"拨打会员手机号"}},[i("div",{staticClass:"disal_img",on:{click:function(a){return t.clickDial(e.row.mobile,e.row.companyname)}}})]):t._e()]),i("div",{attrs:{title:"职位联系手机号"}},[i("i",{staticClass:"el-icon-document"}),t._v("  "+t._s(e.row.mobile?e.row.mobile:"-")+" "),""!=e.row.mobile&&null!=e.row.mobile?i("div",{staticClass:"dial",attrs:{title:"拨打职位联系手机号"}},[i("div",{staticClass:"disal_img",on:{click:function(a){return t.clickDial(e.row.mobile,e.row.companyname)}}})]):t._e()])]}}])}),i("el-table-column",{attrs:{align:"center",label:"审核状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:t._f("auditFilter")(e.row.audit)}},[t._v(" "+t._s(t.options_audit[e.row.audit])+" ")])]}}])}),i("el-table-column",{attrs:{align:"center",label:"创建/刷新时间","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{title:"创建时间"}},[i("i",{staticClass:"el-icon-time"}),t._v(t._s(t._f("timeFilter")(e.row.addtime))+" ")]),i("div",{attrs:{title:"刷新时间"}},[i("i",{staticClass:"el-icon-time"}),t._v(t._s(t._f("timeFilter")(e.row.refreshtime))+" ")])]}}])}),i("el-table-column",{attrs:{label:"职位状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{on:{change:function(a){return t.modifyState(e.row)}},model:{value:e.row.display,callback:function(a){t.$set(e.row,"display",a)},expression:"scope.row.display"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"推广","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.funPoster(e.row.id)}}},[t._v("[海报]")]),i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.funCopy(e.row)}}},[t._v("[复制]")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.funManagement(e.row)}}},[t._v(" 管理 ")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.goto("/user/job/edit?id="+e.row.id)}}},[t._v(" 编辑 ")]),i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(a){return t.funAudit(e.row)}}},[t._v(" 审核 ")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.funDelete(e.$index,e.row)}}},[t._v(" 删除 ")])]}}])})],1),i("div",{staticClass:"spaceline"}),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.funRefresh}},[t._v(" 刷新 ")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.funExport}},[t._v(" 导出 ")]),i("el-button",{attrs:{size:"small",type:"warning"},on:{click:t.funAuditBatch}},[t._v(" 审核 ")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.funDeleteBatch}},[t._v(" 删除 ")])],1),i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:16}},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),i("el-dialog",{attrs:{title:"将所选职位设置为",visible:t.dialogFormVisible,width:"25%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{staticClass:"common-form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"认证状态"}},[i("el-radio-group",{model:{value:t.setAuditVal,callback:function(e){t.setAuditVal=e},expression:"setAuditVal"}},t._l(t.options_audit,(function(e,a){return i("el-radio",{key:a,attrs:{label:a}},[t._v(" "+t._s(e)+" ")])})),1)],1),2==t.setAuditVal?i("el-form-item",{attrs:{label:"原因"}},[i("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:t.setAuditReason,callback:function(e){t.setAuditReason=e},expression:"setAuditReason"}})],1):t._e()],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.fun_set_audit}},[t._v(" 确 定 ")])],1)],1),t.showPoster?i("Poster",{attrs:{"poster-id":t.posterId,"poster-type":t.posterType},on:{closeDialog:function(e){t.showPoster=!1}}}):t._e(),i("div",{staticClass:"call"},[i("el-dialog",{attrs:{visible:t.callDialogVisible,width:"30%","before-close":t.callHandleClose},on:{"update:visible":function(e){t.callDialogVisible=e}}},[i("div",{staticClass:"box-content"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title1"},[t._v("您还尚未开通云呼叫服务")]),i("div",{staticClass:"title2"},[t._v("扫码添加客服")]),i("div",{staticClass:"title3"},[t._v("快速开通呼叫业务")])]),i("div",{staticClass:"code"},[i("img",{attrs:{src:a("4e94"),alt:""}})]),i("div",{staticStyle:{clear:"both"}}),i("div",{staticClass:"slogan"},[t._v("一键发起云呼叫，自动录音，助力提升沟通效率！")]),i("div",{staticClass:"advantage"},[i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("免硬件设备")])]),i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("录音清晰无杂音")])]),i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("外显销售手机号")])]),i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("招聘行业专用线路")])]),i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("稳定性更高")])]),i("div",{staticClass:"advantage-box"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("068e"),alt:""}})]),i("div",{staticClass:"title"},[t._v("防封强、接通率高")])])])])])],1),i("div",{staticClass:"meet"},[i("el-dialog",{attrs:{visible:t.meetDialogVisible,width:"30%","before-close":t.meetHandleClose},on:{"update:visible":function(e){t.meetDialogVisible=e}}},[i("div",{staticClass:"box-content"},[i("div",{staticClass:"img",attrs:{id:"animation"}}),i("div",{staticClass:"hu"},[t._v("正在呼叫客户")]),i("div",{staticClass:"telephone"},[t._v(t._s(t.dialPhone))]),i("div",{staticClass:"company"},[t._v(t._s(t.dialName))]),i("div",{staticClass:"tips"},[t._v("请您留意手机来电接听")])])])],1)],1)},o=[],r=a("b85c"),l=a("2909"),c=(a("d3b7"),a("159b"),a("b0c0"),a("4e82"),a("d81d"),a("99af"),a("52b5")),u=a("76fe"),d=a("ed08"),p=a("3f2a"),m=a("8194"),f=a("e4bb"),h=a("f09a"),b={filters:{timeFilter:function(t){return Object(d["b"])(t,"{y}-{m}-{d} {h}:{i}")},auditFilter:function(t){switch(t){case 0:return"warning";case 1:return"success";case 2:return"danger";default:return"info"}},displayFilter:function(t){switch(t){case 0:return"danger";case 1:return"success";default:return"danger"}}},components:{Poster:f["a"]},props:["listtype"],data:function(){return{showPoster:!1,posterId:"",posterType:"",auditSubmitLoading:!1,setAuditVal:0,setAuditReason:"",auditIdarr:[],dialogFormVisible:!1,tableIdarr:[],tableUidarr:[],list:null,listLoading:!0,total:0,currentPage:1,pagesize:10,display:"",audit:"",key_type:"1",keyword:"",sort:"",options_audit:[],options_display:[],callDialogVisible:!1,meetDialogVisible:!1,dialPhone:"",dialName:""}},created:function(){localStorage.getItem("job_audit")&&"0"==localStorage.getItem("job_audit")&&(this.audit=0,localStorage.setItem("job_audit","")),this.fetchData()},methods:{modifyState:function(t){var e=this;!1===t.display?this.$confirm("确定要把"+t.jobname+"的招聘状态设为暂停招聘吗？ 设为暂停招聘后此职位将无法被用户搜索。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.saveState(t)})).catch((function(){return e.fetchData(),!1})):this.saveState(t)},saveState:function(t){var e=this,a=this,i={is_display:t.display,id:t.id};Object(u["e"])(i).then((function(t){return e.$message.success(t.message),e.fetchData(),!0})).catch((function(){a.issubmit=!1}))},funManagement:function(t){var e=this,a={uid:t.uid};Object(m["a"])(a).then((function(t){return 200==t.code?(Object(d["c"])(t.data),window.open(e.$store.state.config.sitedomain+e.$store.state.config.sitedir+e.$store.state.config.member_dirname),!0):(e.$message.error(t.message),!1)}))},fetchData:function(){var t=this;this.listLoading=!0,Object(c["a"])({type:"jobAudit,jobDisplay"}).then((function(e){var a=Object(l["a"])(e.data.jobAudit);a.forEach((function(e){t.options_audit[e.id]=e.name}));var i=Object(l["a"])(e.data.jobDisplay);i.forEach((function(e){t.options_display[e.id]=e.name}));var n=t.listtype,s={list_type:n,audit:t.audit,sort:t.sort,display:t.display,key_type:t.key_type,keyword:t.keyword,page:t.currentPage,pagesize:t.pagesize};return Object(u["d"])(s)})).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},fetchListData:function(){var t=this;this.listLoading=!0;var e=this.listtype,a={list_type:e,audit:this.audit,display:this.display,sort:this.sort,key_type:this.key_type,keyword:this.keyword,page:this.currentPage,pagesize:this.pagesize};Object(u["d"])(a).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},handleSizeChange:function(t){this.pagesize=t,this.fetchListData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchListData()},funSearch:function(){this.fetchListData()},funSearchKeyword:function(){this.currentPage=1,this.fetchListData()},goto:function(t){this.$router.push(t)},funDelete:function(t,e){var a=this;a.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:e.id};Object(u["b"])(t).then((function(t){return a.$message.success(t.message),a.fetchListData(),!0}))})).catch((function(){}))},funDeleteBatch:function(){var t=this;if(0==t.tableIdarr.length)return t.$message.error("请选择要删除的职位"),!1;t.$confirm("此操作将永久删除选中的职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={id:t.tableIdarr};Object(u["b"])(e).then((function(e){return t.$message.success(e.message),t.fetchListData(),!0}))})).catch((function(){}))},handleSelectionChange:function(t){if(this.tableIdarr=[],this.tableUidarr=[],t.length>0){var e,a=Object(r["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;this.tableIdarr.push(i.id),this.tableUidarr.push(i.uid)}}catch(n){a.e(n)}finally{a.f()}}},closeDialog:function(){this.dialogFormVisible=!1},funAudit:function(t){this.setAuditReason="",this.setAuditVal=t.audit,this.auditIdarr=[t.id],this.dialogFormVisible=!0},funAuditBatch:function(){if(0==this.tableIdarr.length)return this.$message.error("请选择要审核的职位"),!1;this.auditIdarr=this.tableIdarr,this.setAuditReason="",this.setAuditVal=0,this.dialogFormVisible=!0},fun_set_audit:function(){var t=this;if(1==this.auditSubmitLoading)return!1;this.auditSubmitLoading=!0;var e={id:this.auditIdarr,audit:this.setAuditVal,reason:this.setAuditReason};Object(u["a"])(e,"post").then((function(e){return 200==e.code?(t.$message.success(e.message),t.auditSubmitLoading=!1,t.fetchListData(),t.closeDialog(),!0):(t.auditSubmitLoading=!1,t.$message.error(e.message),!1)})).catch((function(){t.auditSubmitLoading=!1}))},funRefresh:function(){var t=this;if(0==t.tableIdarr.length)return t.$message.error("请选择要刷新的职位"),!1;var e={id:t.tableIdarr,uid:t.tableUidarr};Object(u["f"])(e).then((function(e){t.$message.success(e.message),t.fetchData()}))},funExport:function(){var t=this;if(0==t.$store.state.user.access_export)return t.$message.error("当前管理员没有导出权限"),!1;if(0==t.tableIdarr.length)return t.$message.error("请选择要导出的职位"),!1;var e={id:t.tableIdarr};Object(p["c"])(e).then((function(e){return 200==e.code?t.exportExcel(e.data.items):(t.$message.error(e.message),t.waiting=!1),!0}))},exportExcel:function(t){var e=this;Promise.all([a.e("chunk-519483dc"),a.e("chunk-6114e0a1"),a.e("chunk-91140928")]).then(function(){var i=a("39a0"),n=i.export_json_to_excel,s=["序号","职位ID","职位名称","企业名称","职位类别","薪资待遇","学历要求","工作经验要求","招聘人数","所属部门","年龄要求","工作地区","详细地址","联系人","联系手机","联系座机","联系人微信","联系人qq","联系人邮箱","添加时间","刷新时间","审核状态","招聘状态","点击量"],o=["number","id","jobname","companyname","category","wage","education","experience","amount","department","age","district","address","contact","mobile","telephone","weixin","qq","email","addtime","refreshtime","audit","is_display","click"],r=e.formatJson(o,t);n(s,r,"职位导出")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))},funPoster:function(t){this.showPoster=!0,this.posterId=t,this.posterType="job"},funCopy:function(t){var e=this,a="".concat(t.companyname,"\n招聘：").concat(t.jobname,"\n要求：工作经验").concat(t.experience_text,"、学历要求").concat(t.education_text,"\n工资：").concat(t.wage_text,"\n查看联系方式：").concat(t.job_link,"\n-招聘求职就上").concat(t.sitename,"-");this.$copyText(a).then((function(t){e.$message.success("内容已复制到剪切板！")}),(function(t){e.$message.error("抱歉，复制失败！")}))},clickDial:function(t,e){var a=this;this.$confirm("是否对【"+e+"】"+t+" 发起呼叫？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["i"])({mobile:t}).then((function(i){200==i.code&&(a.meetDialogVisible=!0,a.dialPhone=t,a.dialName=e),4040==i.code&&(a.callDialogVisible=!0)})).catch((function(t){}))})).catch((function(){}))},callHandleClose:function(){this.callDialogVisible=!1},meetHandleClose:function(){this.meetDialogVisible=!1}}},g=b,v=(a("4023"),a("2877")),y=Object(v["a"])(g,s,o,!1,null,"f628ecd6",null),w=y.exports,_={components:{companylist:w}},k=_,x=Object(v["a"])(k,i,n,!1,null,null,null);e["default"]=x.exports},e4bb:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"","append-to-body":"",visible:!0,width:"300px",center:"","show-close":!1,"custom-class":"poster_dialog"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:""==t.posterImg,expression:"posterImg == ''"}],staticStyle:{height:"533px"}},[""!=t.posterImg?a("img",{staticStyle:{width:"300px"},attrs:{id:"posterImg",src:t.posterImg}}):t._e()]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[void 0===t.posterIndex?a("el-button",{attrs:{type:"warning",size:"small",disabled:t.indexlist.length<=1},on:{click:t.changeTpl}},[t._v("换一个")]):t._e(),void 0===t.posterIndex?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.downloadIamge}},[t._v("保存到电脑")]):t._e(),a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$emit("closeDialog")}}},[t._v("关 闭")])],1)])],1)},n=[],s=a("f211"),o=a("5f87"),r=a("d722"),l={props:["posterId","posterType","posterIndex"],data:function(){return{currentTplIndex:1,posterImg:"",indexlist:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(s["g"])({type:"job"==this.posterType?1:"resume"==this.posterType?2:3}).then((function(e){t.indexlist=e.data,void 0!==t.posterIndex?t.currentTplIndex=t.posterIndex:t.currentTplIndex=t.indexlist[0]?t.indexlist[0]:1,t.funPoster()})).catch((function(){t.listLoading=!1}))},changeTpl:function(){var t=this.indexlist.indexOf(this.currentTplIndex),e=t+1;void 0===this.indexlist[e]?e=0:this.indexlist.length>1&&this.indexlist[e]===t&&(e++,void 0===this.indexlist[e]&&(e=0)),this.currentTplIndex=this.indexlist[e],this.funPoster()},funPoster:function(){var t=this;this.posterImg="";var e={type:this.posterType,id:void 0===this.posterId?0:this.posterId,index:this.currentTplIndex};Object(s["a"])(e).then((function(e){t.posterImg=e.data+"?_="+Math.random()})).catch((function(){}))},downloadIamge:function(){var t=window.global.RequestBaseUrl+r["a"].downloadPoster+(-1==window.global.RequestBaseUrl.indexOf("?")?"?":"&")+"admintoken="+Object(o["e"])()+"&type="+this.posterType+"&id="+(void 0===this.posterId?0:this.posterId)+"&index="+this.currentTplIndex;window.location.href=t}}},c=l,u=(a("70a9"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"2a38a144",null);e["a"]=d.exports},f211:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"g",(function(){return d}));var i=a("b775"),n=a("d722");function s(t){return Object(i["a"])({url:n["a"].makePoster,method:"get",params:t})}function o(t){return Object(i["a"])({url:n["a"].posterList,method:"get",params:t})}function r(t){return Object(i["a"])({url:n["a"].posterAdd,method:"post",data:t})}function l(t){return Object(i["a"])({url:n["a"].posterEdit,method:"post",data:t})}function c(t){return Object(i["a"])({url:n["a"].posterDisplay,method:"post",data:t})}function u(t){return Object(i["a"])({url:n["a"].posterDelete,method:"post",data:t})}function d(t){return Object(i["a"])({url:n["a"].posterTplindexList,method:"get",params:t})}}}]);