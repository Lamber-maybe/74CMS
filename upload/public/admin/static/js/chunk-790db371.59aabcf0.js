(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-790db371"],{"05a4":function(e,t,a){},"0869":function(e,t,a){"use strict";a("6369")},"0fcf":function(e,t,a){},3294:function(e,t,a){"use strict";a("4799")},4799:function(e,t,a){},"52b5":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a("b775"),i=a("d722");function r(e){return Object(o["a"])({url:i["a"].getClassify,method:"get",params:e})}},"58bf":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"职位类别",prop:"jobcategory"}},[a("el-cascader",{staticClass:"large",attrs:{placeholder:"不限",options:e.options_jobcategory,props:e.props_jobcategory,"collapse-tags":"",clearable:""},model:{value:e.form.jobcategory,callback:function(t){e.$set(e.form,"jobcategory",t)},expression:"form.jobcategory"}})],1),a("el-form-item",{attrs:{label:"目标地区",prop:"district"}},[a("el-cascader",{staticClass:"large",attrs:{placeholder:"不限",options:e.options_citycategory,props:e.props_citycategory,"collapse-tags":"",clearable:""},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}})],1),a("el-form-item",{attrs:{label:"目标行业",prop:"trade"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:e.form.trade,callback:function(t){e.$set(e.form,"trade",t)},expression:"form.trade"}},e._l(e.options_trade,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"职位亮点",prop:"tag"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},e._l(e.options_tag,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"刷新时间",prop:"refreshtime"}},[a("el-radio-group",{model:{value:e.form.refreshtime,callback:function(t){e.$set(e.form,"refreshtime",t)},expression:"form.refreshtime"}},[a("el-radio",{attrs:{label:-1}},[e._v(" 不限 ")]),a("el-radio",{attrs:{label:1}},[e._v(" 今天 ")]),a("el-radio",{attrs:{label:7}},[e._v(" 7天内 ")]),a("el-radio",{attrs:{label:15}},[e._v(" 15天内 ")]),a("el-radio",{attrs:{label:30}},[e._v(" 30天内 ")])],1)],1),a("el-form-item",{attrs:{label:"薪资待遇",prop:"wage"}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},on:{change:e.handleCheckAllWage},model:{value:e.checkWageAll,callback:function(t){e.checkWageAll=t},expression:"checkWageAll"}},[e._v(" 不限 ")]),a("el-checkbox-group",{on:{change:e.handleCheckedWageChange},model:{value:e.form.wage,callback:function(t){e.$set(e.form,"wage",t)},expression:"form.wage"}},e._l(e.options_wage,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"企业套餐",prop:"setmeal_id"}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},on:{change:e.handleCheckAllSetmeal},model:{value:e.checkSetmealAll,callback:function(t){e.checkSetmealAll=t},expression:"checkSetmealAll"}},[e._v(" 不限 ")]),a("el-checkbox-group",{on:{change:e.handleCheckedSetmealChange},model:{value:e.form.setmeal_id,callback:function(t){e.$set(e.form,"setmeal_id",t)},expression:"form.setmeal_id"}},e._l(e.options_setmeal,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"输出内容"}},[a("el-radio-group",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}},[a("el-radio",{attrs:{label:"refreshtime"}},[e._v(" 刷新时间 ")]),a("el-radio",{attrs:{label:"stick"}},[e._v(" 仅置顶职位 ")]),a("el-radio",{attrs:{label:"emergency"}},[e._v(" 仅紧急职位 ")]),a("el-radio",{attrs:{label:"promotion"}},[e._v(" 推广优先 ")])],1)],1),a("el-form-item",{attrs:{label:"生成数量"}},[a("el-radio-group",{model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[a("el-radio",{attrs:{label:10}},[e._v(" 10条 ")]),a("el-radio",{attrs:{label:20}},[e._v(" 20条 ")]),a("el-radio",{attrs:{label:30}},[e._v(" 30条 ")]),a("el-radio",{attrs:{label:50}},[e._v(" 50条 ")]),a("el-radio",{attrs:{label:80}},[e._v(" 80条 ")])],1)],1)],1)],1)},i=[],r=a("52b5"),s={name:"Joblist",data:function(){return{checkWageAll:!0,checkSetmealAll:!0,props_jobcategory:{multiple:!0,checkStrictly:!0},options_jobcategory:[],props_citycategory:{multiple:!0,checkStrictly:!0},options_citycategory:[],options_trade:[],options_tag:[],options_wage:[],options_setmeal:[],form:{jobcategory:[],district:[],trade:[],tag:[],wage:[],setmeal_id:[],content:"refreshtime",refreshtime:-1,num:10},rules:{}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;Object(r["a"])({type:"jobTag,jobcategory,citycategory,trade,setmealList,wage"}).then((function(t){e.options_tag=t.data.jobTag,e.options_jobcategory=t.data.jobcategory,e.options_citycategory=t.data.citycategory,e.options_trade=t.data.trade,e.options_setmeal=t.data.setmealList,e.options_wage=t.data.wage})).catch((function(){}))},handleCheckAllWage:function(e){if(e)this.form.wage=[];else if(0==this.form.wage.length)return!1},handleCheckedWageChange:function(e){var t=e.length;this.checkWageAll=!(t>0)},handleCheckAllSetmeal:function(e){if(e)this.form.setmeal_id=[];else if(0==this.form.setmeal_id.length)return!1},handleCheckedSetmealChange:function(e){var t=e.length;this.checkSetmealAll=!(t>0)}}},n=s,l=(a("97d34"),a("2877")),_=Object(l["a"])(n,o,i,!1,null,"7a90b065",null);t["a"]=_.exports},"631ec":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[e.templateFlag?o("addTemplate",{attrs:{"template-id":e.templateId,"template-type":e.templateType}}):o("el-tabs",{attrs:{type:"border-card"},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[o("el-tab-pane",{attrs:{label:"公众号营销",name:"1"}},[o("div",{staticClass:"tip"},[o("p",[e._v("快速筛选出符合条件的职位进行复制到微信公众号中推送；")]),o("p",[e._v("职位默认按刷新时间排序；")]),o("p",[e._v(" 使用公众号二维码，用户需先关注公众号后才能查看，二维码有效期为30天； ")]),o("p",[e._v(" 使用普通二维码，用户无需关注公众号直接识别即可打开触屏链接，二维码永久有效 ")])]),1==e.tabActive?o("div",{staticClass:"el-row--flex"},[o("el-form",{directives:[{name:"show",rawName:"v-show",value:!1===e.chooseDone,expression:"chooseDone === false"}],staticClass:"common-form",staticStyle:{width:"60%"},attrs:{"label-width":"100px"}},[o("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"信息类型"}},[o("el-radio-group",{on:{change:e.radioChange},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}},[o("el-radio",{attrs:{label:"job_list"}},[e._v(" 职位列表 ")]),o("el-radio",{attrs:{label:"company_list"}},[e._v(" 企业列表 ")]),o("el-radio",{attrs:{label:"appoint_company"}},[e._v(" 指定企业 ")])],1)],1),o(e.data.type,{ref:"conditionData",tag:"components"}),o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{type:"primary",loading:e.progressFlag},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 搜索并添加 ")])],1)],1),o("div",{staticClass:"rightList"},[o("span",{staticClass:"rightTitle"},[o("b",[e._v("推文列表")]),e._v("（拖拽可排序）")]),e.progressFlag?o("div",{staticStyle:{width:"100%",height:"100%",background:"rgba(0,0,0,.5)",padding:"50% 10% 0 10%"}},[o("el-row",[o("el-progress",{attrs:{"text-inside":!0,"stroke-width":17,percentage:e.progressPercent}})],1)],1):e._e(),e.progressFlag||0!=e.datalist.length?e._e():o("div",{staticClass:"autos emptyImg"},[o("img",{attrs:{src:a("e8b2"),alt:""}}),o("span",{staticClass:"words"},[e._v("暂无数据，请点击搜索并添加")])]),!e.progressFlag&&e.datalist.length>0?o("el-checkbox-group",{on:{change:e.checkChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[o("draggable",{staticClass:"autos",attrs:{options:{animation:200}},on:{update:e.datadragEnd},model:{value:e.datalist,callback:function(t){e.datalist=t},expression:"datalist"}},e._l(e.datalist,(function(t,a){return o("div",{key:a,staticClass:"dataCard"},[o("el-checkbox",{staticClass:"checkBox",attrs:{label:JSON.stringify(t)}},[o("div",{staticClass:"left"},[o("div",{staticClass:"inner"},[o("span",{staticClass:"title"},[e._v(e._s("job_list"==e.data.type?t.job_name:t.company_name))]),"job_list"==e.data.type?o("div",{staticClass:"content"},[e._v(" "+e._s(t.company_name?t.company_name:"公司异常")+" ")]):o("div",{staticClass:"content"},[t.job_list.length>0?o("span",[o("b",[e._v(e._s(t.job_list[0].job_name))]),e._v("等"+e._s(t.job_list.length)+"个职位")]):o("span",[e._v("暂无发布职位")])])]),o("span",[e._v("ID："+e._s("job_list"==e.data.type?t.job_id:t.company_id))])])])],1)})),0)],1):e._e(),o("div",{staticClass:"rightBottom"},[o("div",[o("el-checkbox",{attrs:{disabled:!(e.datalist.length>0),indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),o("span",{staticStyle:{"margin-left":"16px","font-size":"14px",color:"#999999"}},[e._v("当前已选"+e._s(e.checkList.length)+"条")])],1),o("div",[o("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.delClick}},[e._v("删除")]),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.releaseClick}},[e._v("发布预览")])],1)])],1)],1):e._e()]),o("el-tab-pane",{attrs:{label:"模板管理",name:"2"}},[2==e.tabActive?o("wx-template",{on:{addTeamplate:e.addTeamplate}}):e._e()],1)],1),o("div",{staticClass:"table_popup"},[o("el-drawer",{attrs:{visible:e.drawer,size:"50%","show-close":!1,"wrapper-closable":!1},on:{"update:visible":function(t){e.drawer=t}}},[o("div",{attrs:{slot:"title"},slot:"title"},[e._v("模板列表")]),o("div",{staticClass:"popup_box"},[o("el-card",{attrs:{shadow:"never","body-style":{padding:"10px 20px 20px"}}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("1.选择模板")]),o("el-radio-group",{staticClass:"radioGroup",attrs:{size:"small"},on:{change:e.templateRadioChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},e._l(e.templateList,(function(t,a){return o("el-radio",{key:a,staticClass:"radios",attrs:{label:a}},[e._v(e._s(t.name))])})),1)],1),o("el-card",{staticClass:"top10",attrs:{shadow:"never"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("2.复制使用")]),o("el-card",{staticClass:"top10",staticStyle:{background:"#f7f8f9","font-size":"14px"},attrs:{shadow:"never","body-style":{padding:"10px 20px"}}},[e._v(" 推荐复制内容后，在微信后台编辑器或135等排版编辑器中使用或二次编辑 ")]),o("el-card",{staticClass:"top10",staticStyle:{background:"#fdf6ec",color:"#e6a23c","font-size":"14px"},attrs:{shadow:"never","body-style":{padding:"10px 20px"}}},[e._v(" 部分模板存在图片资源，建议关闭微信后台设置中的【图片水印】功能 ")]),o("el-button",{staticClass:"top34",attrs:{type:"primary",plain:""},on:{click:e.copy}},[e._v("一键复制")])],1),o("div",{staticClass:"close",on:{click:e.handleClose}},[o("i",{staticClass:"el-icon-close"})])],1)])],1),e.drawer?o("div",{staticClass:"iphone"},[o("div",{staticClass:"iphoneInner",domProps:{innerHTML:e._s(e.preview)}})]):e._e()],1)},i=[],r=a("6dd5"),s=r["a"],n=(a("99c8"),a("2877")),l=Object(n["a"])(s,o,i,!1,null,"100c12a8",null);t["default"]=l.exports},6369:function(e,t,a){},"69f4":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"tem_div",on:{click:function(t){return e.funAdd()}}},[e._m(0)]),e._l(e.list,(function(t,o){return a("div",{key:o},[a("div",{staticClass:"tem_div"},[a("el-card",{staticClass:"box-card",staticStyle:{border:"none","-webkit-box-shadow":"0","box-shadow":"0 0 0 0 rgba(0,0,0,.1)"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{color:"#666"}},[e._v(" "+e._s(1==t.type?"职位模板":"企业模板")+" "),1==t.built_in?a("b",{staticStyle:{"font-size":"12px",color:"#666666","font-weight":"normal"}},[e._v("（系统模板）")]):e._e()])]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[a("span",{staticStyle:{color:"#999"}},[e._v("模板名称")]),a("div",{staticStyle:{"margin-top":"16px"}},[e._v(e._s(t.name))]),1==t.built_in?a("el-button",{staticStyle:{"margin-top":"38px",color:"#999999","font-size":"13px"},attrs:{size:"small"},on:{click:function(a){return e.funEdit(t.template_id,"see")}}},[e._v("查看")]):a("div",{staticStyle:{"margin-top":"38px"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.funEdit(t.template_id,"edit")}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.funDel(t.template_id)}}},[e._v("删除")])],1)],1)])],1)])}))],2)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tem_add"},[a("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"75px",color:"#409eff"}}),a("br"),a("br"),a("span",{staticClass:"icon-name",staticStyle:{"font-size":"16px",color:"#409eff"}},[e._v("新增模板")])])}],r=a("b433"),s={data:function(){return{list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{funDel:function(e){var t=this;t.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={template_id:e};Object(r["c"])(a).then((function(e){return t.$message.success(e.message),t.fetchData(),!0}))})).catch((function(){})),console.log(e)},funAdd:function(){this.$emit("addTeamplate")},funEdit:function(e,t){this.$emit("addTeamplate",{id:e,name:t})},fetchData:function(){var e=this;this.listLoading=!0,Object(r["g"])({}).then((function(t){e.list=t.data.rows,e.listLoading=!1}))}}},n=s,l=(a("0869"),a("2877")),_=Object(l["a"])(n,o,i,!1,null,"7e77ad42",null);t["a"]=_.exports},"6dd5":function(module,__webpack_exports__,__webpack_require__){"use strict";var E_phpstudy_pro_WWW_git_free_74cms_74se_git_vue_admin_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),E_phpstudy_pro_WWW_git_free_74cms_74se_git_vue_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4e82"),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_13__),_components_joblist_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("58bf"),_components_companylist_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("d99b"),_components_appointCompany_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("f8d6"),_template_index__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("69f4"),_api_marketing_wxoffiaccount__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("b433"),vuedraggable__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("b76a"),vuedraggable__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(vuedraggable__WEBPACK_IMPORTED_MODULE_19__),_template_add__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("9fc5"),_utils__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("ed08");__webpack_exports__["a"]={components:{job_list:_components_joblist_vue__WEBPACK_IMPORTED_MODULE_14__["a"],company_list:_components_companylist_vue__WEBPACK_IMPORTED_MODULE_15__["a"],appoint_company:_components_appointCompany_vue__WEBPACK_IMPORTED_MODULE_16__["a"],draggable:vuedraggable__WEBPACK_IMPORTED_MODULE_19___default.a,wxTemplate:_template_index__WEBPACK_IMPORTED_MODULE_17__["a"],addTemplate:_template_add__WEBPACK_IMPORTED_MODULE_20__["a"]},data:function(){return{initVal:0,step:5,stopVal:100,chooseDone:!1,submiting:!1,data:{type:"job_list",condition:{jobcategory:[],district:[],trade:[],tag:[],wage:[],setmeal_id:[],content:"refreshtime",refreshtime:-1,num:10,page_num:1}},totalList:0,datalist:[],checkList:[],checkAll:!1,isIndeterminate:!1,dragList:[],tabActive:"1",templateFlag:!1,templateId:"",templateType:"add",drawer:!1,common:{},templateObj:{},preview:"",templateParams:{page_size:"100",page_num:"1",type:"1"},templateList:[],radio:"",headOption:{},tailOption:{},jobBodyOption:{},companyBodyOption:{},progressFlag:!1,progressPercent:0,is_concat:!1}},created:function(){this.templateOptionFun()},mounted:function(){},methods:{templateOptionFun:function(){var e=this;Object(_api_marketing_wxoffiaccount__WEBPACK_IMPORTED_MODULE_18__["f"])().then((function(t){var a=t.code,o=t.data,i=t.message;"200"==a?(e.headOption=o.head_option,e.tailOption=o.tail_option,e.jobBodyOption=o.body_option.job,e.companyBodyOption=o.body_option.company):e.$message.error(i)}))},wxTemplateListFun:function(){var e=this;"job_list"==this.data.type?this.templateParams.type="1":this.templateParams.type="2",Object(_api_marketing_wxoffiaccount__WEBPACK_IMPORTED_MODULE_18__["g"])(this.templateParams).then((function(t){e.templateList=t.data.rows,e.radio=0,e.templateObj=e.templateList[0],e.previewFun()}))},handleClose:function(){this.drawer=!1,this.templateList=[],this.preview="",this.radio=""},headFootObjStr:function headFootObjStr(str,obj,common){for(var newStr=str,i=0;i<obj.length;i++){var reg="/"+"{".concat(obj[i].label,"}")+"/g",key=common["".concat(obj[i].value)];newStr=newStr.replace(eval(reg),key)}return newStr},bodyObjStr:function bodyObjStr(str,obj,items){for(var newBodyStr="",i=0;i<items.length;i++){for(var bodyStr=str,j=0;j<obj.length;j++){var reg="/"+"{".concat(obj[j].label,"}")+"/g";if("职位福利"==obj[j].label&&-1!=bodyStr.indexOf("{职位福利}")){var arr=items[i]["".concat(obj[j].value)],arrStr="";arr&&(arrStr=arr.join(",")),bodyStr=bodyStr.replace(/{职位福利开始}{职位福利}{职位福利结束}/g,arrStr)}else if("企业福利"==obj[j].label&&-1!=bodyStr.indexOf("{企业福利}")){var arr1=items[i]["".concat(obj[j].value)],arrStr1="";arr1&&(arrStr1=arr1.join(",")),bodyStr=bodyStr.replace(/{企业福利}/g,arrStr1)}else if("企业职位"==obj[j].label&&-1!=bodyStr.indexOf("{职位列表开始}")){var _arr=items[i]["job_list"];if(console.log(_arr),console.log(_arr.length),_arr){var newJob="暂无发布职位";_arr.length>0&&(newJob=this.jobObjStr(_arr,items[i]));var newStr=bodyStr.match(/({职位列表开始}(.+?){职位列表结束})/g)[0];bodyStr=bodyStr.replace(newStr,newJob)}}else if("企业H5场景码"==obj[j].label&&-1!=bodyStr.indexOf("企业H5场景码")){var src=items[i]["".concat(obj[j].value)];if(src){var _reg=/{企业H5场景码\|样式=&quot;(.+?)&quot;}/g;bodyStr=this.matchStr(_reg,bodyStr,src)}}else if("职位H5场景码"==obj[j].label&&-1!=bodyStr.indexOf("职位H5场景码")){var _src=items[i]["".concat(obj[j].value)];if(_src){var _reg2=/{职位H5场景码\|样式=&quot;(.+?)&quot;}/g;bodyStr=this.matchStr(_reg2,bodyStr,_src)}}else if("企业小程序链接"==obj[j].label){var _src2=items[i]["".concat(obj[j].value)];_src2&&(bodyStr=bodyStr.replace(/{企业小程序跳转}/g,_src2)),bodyStr=bodyStr.replace(/{小程序APPID}/g,this.common.mini_program_appid)}else if("职位小程序链接"==obj[j].label){var _src3=items[i]["".concat(obj[j].value)];_src3&&(bodyStr=bodyStr.replace(/{职位小程序跳转}/g,_src3)),bodyStr=bodyStr.replace(/{小程序APPID}/g,this.common.mini_program_appid)}else if("企业H5链接"==obj[j].label){var _src4=items[i]["".concat(obj[j].value)];_src4&&(bodyStr=bodyStr.replace(/{企业H5链接}/g,_src4))}else if("职位H5链接"==obj[j].label){var _src5=items[i]["".concat(obj[j].value)];_src5&&(bodyStr=bodyStr.replace(/{职位H5链接}/g,_src5))}else if("网站名称"==obj[j].label)bodyStr=bodyStr.replace(/{网站名称}/g,this.common.site_name||"");else if("网站地址"==obj[j].label)bodyStr=bodyStr.replace(/{网站地址}/g,this.common.site_domain||"");else if("当期日期"==obj[j].label)bodyStr=bodyStr.replace(/{当期日期}/g,Object(_utils__WEBPACK_IMPORTED_MODULE_21__["b"])(this.common.date,"{y}-{m}-{d}")||"");else if("职位描述"==obj[j].label){var key=items[i]["".concat(obj[j].value)];key&&(bodyStr=bodyStr.replace(eval(reg),'<p style="white-space: pre-wrap">'+key+"</p>"))}else if("职位职责"==obj[j].label){var _key=items[i]["".concat(obj[j].value)];_key&&(bodyStr=bodyStr.replace(eval(reg),'<p style="white-space: pre-wrap">'+_key+"</p>"))}else{var _key2=items[i]["".concat(obj[j].value)];bodyStr=_key2?bodyStr.replace(eval(reg),_key2||""):bodyStr.replace(eval(reg),"{".concat(obj[j].label,"}"))}}newBodyStr+=bodyStr}return newBodyStr},matchStr:function(e,t,a){var o=t.replace(e,(function(e,t){return""!=a&&a?'<img src="'+a+'" style='+t+">":""}));return o},jobObjStr:function(e,t){var a=this.templateObj.body,o="",i=/({职位列表开始}(.+?){职位列表结束})/g,r=this;return a.replace(i,(function(e,a,i,s){o=r.bodyObjStr(i,r.companyBodyOption,[t])})),this.bodyObjStr(o,this.companyBodyOption,e)},radioChange:function(e){this.progressPercent=0,this.datalist=[],this.checkList=[],this.checkAll=!1,this.isIndeterminate=!1},checkChange:function(e){var t=e.length;t===this.datalist.length?this.checkAll=!0:this.checkAll=!1,this.isIndeterminate=t>0&&t<this.datalist.length},handleCheckAllChange:function(e){for(var t=JSON.parse(JSON.stringify(this.datalist)),a=0;a<t.length;a++)t[a]=JSON.stringify(t[a]);this.checkList=e?t:[],this.isIndeterminate=!1},datadragEnd:function(e){return Object(E_phpstudy_pro_WWW_git_free_74cms_74se_git_vue_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}),t)})))()},delClick:function(){var e=this;0==this.checkList.length?this.$message.error("请选择要删除项~"):this.$confirm("此操作将删除选中信息,如需恢复数据，请点击生成按钮，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=[],a=0;a<e.checkList.length;a++)t.push(JSON.parse(e.checkList[a]));var o=[];o="job_list"==e.data.type?e.datalist.filter((function(e){return!t.some((function(t){return t.job_id===e.job_id}))})):e.datalist.filter((function(e){return!t.some((function(t){return t.company_id===e.company_id}))})),e.datalist=o,e.checkList=[],e.checkAll=!1,e.isIndeterminate=!1})).catch((function(){}))},releaseClick:function(){0==this.checkList.length?this.$message.error("请选择需展示的推文！"):(this.drawer=!0,this.checkList=this.sortList(this.checkList),this.wxTemplateListFun())},sortList:function(e){var t=this;return e.sort((function(e,a){return"job_list"==t.data.type?t.datalist.map((function(e){return e.job_id})).indexOf(JSON.parse(e).job_id)<t.datalist.map((function(e){return e.job_id})).indexOf(JSON.parse(a).job_id)?-1:1:t.datalist.map((function(e){return e.company_id})).indexOf(JSON.parse(e).company_id)<t.datalist.map((function(e){return e.company_id})).indexOf(JSON.parse(a).company_id)?-1:1})),e},templateRadioChange:function(e){this.templateObj=this.templateList[e],this.previewFun()},previewFun:function(){for(var e=JSON.parse(JSON.stringify(this.checkList)),t=0;t<e.length;t++)e[t]=JSON.parse(e[t]);var a=this.templateObj.head,o=this.templateObj.tail,i=this.templateObj.body;this.common.date=Object(_utils__WEBPACK_IMPORTED_MODULE_21__["b"])(this.common.date,"{y}-{m}-{d}");var r=this.headFootObjStr(a,this.headOption,this.common),s=this.headFootObjStr(o,this.tailOption,this.common),n="";n="job_list"==this.data.type?this.bodyObjStr(i,this.jobBodyOption,e):this.bodyObjStr(i,this.companyBodyOption,e),this.preview=r+n+s},copy:function(){var e=this.copys(this.preview);document.addEventListener("copy",e),document.execCommand("copy"),document.removeEventListener("copy",e),this.$message.success("复制成功")},copys:function(e){return function(t){t.clipboardData.setData("text/html",e),t.preventDefault()}},onSubmit:function(){var e=this;return"appoint_company"==e.data.type&&0===e.$refs.conditionData.form.company_ids.length?(e.$message.error("请选择企业"),e.submiting=!1,!1):!0!==e.submiting&&(this.checkList=[],this.checkAll=!1,this.progressFlag=!0,e.submiting=!0,e.data.condition=Object(E_phpstudy_pro_WWW_git_free_74cms_74se_git_vue_admin_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},e.$refs.conditionData.form),void this.getList())},getList:function(){this.progressPercent=0,this.data.condition.page_num=1,this.data.condition.num=this.$refs.conditionData.form.num;var e=this.$refs.conditionData.form.num;this.totalList=e/10,this.getData()},getData:function(){var e=this;Object(_api_marketing_wxoffiaccount__WEBPACK_IMPORTED_MODULE_18__["b"])(this.data).then((function(t){if(e.submiting=!1,!0===e.is_concat?e.datalist=e.datalist.concat(t.data.items):e.datalist=t.data.items,e.common=t.data.common,e.checkList=[],200==t.code){e.data.condition.page_num++;var a=null;if(e.data.condition.page_num<=e.totalList&&10==t.data.items.length){var o=parseInt(100/e.totalList)*e.data.condition.page_num;a=setInterval((function(){e.progressPercent<o?e.progressPercent+=1:(e.progressPercent=e.progressPercent,clearInterval(a))}),200),e.is_concat=!0,e.getData()}else e.progressPercent=100,e.progressFlag=!1,e.is_concat=!1,clearInterval(a)}})).catch((function(){e.submiting=!1}))},addTeamplate:function(e){this.templateFlag=!this.templateFlag,e?(this.templateId=e.id,this.templateType=e.name):(this.templateId="",this.templateType="add")}}}},"704d":function(e,t,a){"use strict";a("c8d21")},"71d3":function(e,t,a){},"93b4":function(e,t,a){"use strict";a("05a4")},"97d34":function(e,t,a){"use strict";a("deda")},"99c8":function(e,t,a){"use strict";a("0fcf")},"9fc5":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",{staticClass:"left"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"header"},[a("span",{staticClass:"titles"},[e._v("微信公众号文章")]),a("span",{staticClass:"close",on:{click:e.closeClick}},[a("i",{staticClass:"el-icon-arrow-left"}),e._v("返回列表")])])]),a("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-width":"100px"}},[e.disabled?e._e():a("el-form-item",{attrs:{label:"模板类型："}},[a("el-radio-group",{attrs:{disabled:e.disabled},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:1}},[e._v("职位模板")]),a("el-radio",{attrs:{label:2}},[e._v("企业模板")])],1)],1),a("el-form-item",{attrs:{label:"模板名称：",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"formStyle",attrs:{label:"头部模板："}},[a("div",{staticClass:"describe"},[a("span",{staticClass:"words"},[a("i",{staticClass:"el-icon-warning-outline icons"}),e._v(" 公共参数，全局都可调用")]),a("el-popover",{attrs:{placement:"right-start",width:"260",trigger:"manual","popper-class":"wx-official-deep-popover"},model:{value:e.isShow1,callback:function(t){e.isShow1=t},expression:"isShow1"}},[a("div",{staticClass:"tagTitle"},[a("span",[e._v("模板参数 "),a("b",[e._v("复制参数插入到编辑区")])]),a("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"16px"},on:{click:function(t){return e.onShow(1)}}})]),a("div",{staticClass:"tagList"},e._l(e.headOption,(function(t){return a("el-tag",{key:t.label,staticClass:"tags",on:{click:function(a){return e.tagClick(t,"1")}}},[e._v(" "+e._s(t.label)+" ")])})),1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"primary",plain:"",icon:"el-icon-receiving"},on:{click:function(t){return e.onShow(1)}},slot:"reference"},[e._v("模板参数")])],1)],1),a("ueditor",{ref:"ue",attrs:{"random-id":"edit1","default-msg":e.defaultMsg1}})],1),a("el-form-item",{staticClass:"formStyle",attrs:{label:"职位模板："}},[a("div",{staticClass:"describe"},[a("span",{staticClass:"words"},[a("i",{staticClass:"el-icon-warning-outline icons"}),e._v(" 只需要添加一条样式即可；具体显示的数量可到发布工具区选择")]),a("el-popover",{attrs:{placement:"right-start",width:"260",trigger:"manual","popper-class":"wx-official-deep-popover"},model:{value:e.isShow2,callback:function(t){e.isShow2=t},expression:"isShow2"}},[a("div",{staticClass:"tagTitle"},[a("span",[e._v("模板参数 "),a("b",[e._v("复制参数插入到编辑区")])]),a("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"16px"},on:{click:function(t){return e.onShow(2)}}})]),"1"==e.form.type?a("div",{staticClass:"tagList"},e._l(e.bodyJobOption,(function(t){return a("el-tag",{key:t.label,staticClass:"tags",on:{click:function(a){return e.tagClick(t,"2")}}},[e._v(" "+e._s(t.label)+" ")])})),1):a("div",{staticClass:"tagList"},[e._l(e.bodyCompanyOption,(function(t){return["items.job_list"!=t.item?a("el-tag",{staticClass:"tags",on:{click:function(a){return e.tagClick(t,"2")}}},[e._v(" "+e._s(t.label)+" ")]):e._e()]})),a("div",{staticStyle:{"font-size":"12px","text-align":"center",margin:"0 0 6px",color:"#999999",width:"100%"}},[e._v('以下内容仅支持在"企业职位"标签内插入')]),e._l(e.bodyCompanyOption,(function(t){return["items.job_list"==t.item?a("el-tag",{staticClass:"tags",on:{click:function(a){return e.tagClick(t,"2")}}},[e._v(" "+e._s(t.label)+" ")]):e._e()]}))],2),a("el-button",{attrs:{slot:"reference",size:"mini",type:"primary",plain:"",icon:"el-icon-receiving"},on:{click:function(t){return e.onShow(2)}},slot:"reference"},[e._v("模板参数")])],1)],1),a("ueditor",{ref:"ue1",attrs:{"random-id":"edit2","default-msg":e.defaultMsg2}})],1),a("el-form-item",{staticClass:"formStyle",attrs:{label:"尾部模板："}},[a("div",{staticClass:"describe"},[a("span",{staticClass:"words"},[a("i",{staticClass:"el-icon-warning-outline icons"}),e._v(" 公共参数，全局都可调用")]),a("el-popover",{attrs:{placement:"right-start",width:"260",trigger:"manual","popper-class":"wx-official-deep-popover"},model:{value:e.isShow3,callback:function(t){e.isShow3=t},expression:"isShow3"}},[a("div",{staticClass:"tagTitle"},[a("span",[e._v("模板参数 "),a("b",[e._v("复制参数插入到编辑区")])]),a("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"16px"},on:{click:function(t){return e.onShow(3)}}})]),a("div",{staticClass:"tagList"},e._l(e.tailOption,(function(t){return a("el-tag",{key:t.label,staticClass:"tags",on:{click:function(a){return e.tagClick(t,"3")}}},[e._v(" "+e._s(t.label)+" ")])})),1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"primary",plain:"",icon:"el-icon-receiving"},on:{click:function(t){return e.onShow(3)}},slot:"reference"},[e._v("模板参数")])],1)],1),a("ueditor",{ref:"ue2",attrs:{"random-id":"edit3","default-msg":e.defaultMsg3}})],1),a("el-form-item",[a("el-button",{attrs:{disabled:"see"==e.templateType,type:"primary"},on:{click:function(t){return e.saveClick("form")}}},[e._v("保存模板")])],1)],1)],1)])},i=[],r=a("b433"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("script",{attrs:{id:e.randomId,type:"text/plain"}})])},n=[],l={name:"UE",props:{defaultMsg:{type:String},randomId:{type:String}},data:function(){return{editor:null,config:{initialFrameWidth:null,initialFrameHeight:400,toolbars:[["source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","fontfamily","fontsize","|","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","link","unlink","|","simpleupload","|","horizontal","date","time"]]}}},watch:{defaultMsg:function(e){this.editor.setContent(e)}},mounted:function(){var e=this,t=this;t.$nextTick((function(){e.editor=UE.getEditor(t.randomId,e.config),e.editor.addListener("ready",(function(){t.editor.setContent(t.defaultMsg)}))}))},destroyed:function(){this.editor.destroy()},methods:{setUEContent:function(e){this.editor.execCommand("insertHtml",e)},setContent:function(e){this.editor.setContent(e)},getUEContent:function(){return this.editor.getContent()}}},_=l,c=a("2877"),d=Object(c["a"])(_,s,n,!1,null,"abad80ce",null),m=d.exports,p={name:"Add",components:{ueditor:m},props:{templateId:{default:""},templateType:{default:""}},data:function(){return{defaultMsg1:"",defaultMsg2:"",defaultMsg3:"",form:{type:1},formRules:{name:[{required:!0,message:"请输入模板名称",trigger:"blur"}]},headOption:[],bodyCompanyOption:[],bodyJobOption:[],tailOption:[],isShow1:!1,isShow2:!1,isShow3:!1,preview:{},disabled:!1}},created:function(){var e=this;Object(r["f"])().then((function(t){var a=t.code,o=t.data,i=t.message;"200"==a?(e.headOption=o.head_option,e.bodyCompanyOption=o.body_option.company,e.bodyJobOption=o.body_option.job,e.tailOption=o.tail_option):e.$message.error(i)}))},mounted:function(){var e=this;this.templateId&&(this.disabled=!0,this.$nextTick((function(){e.init()})))},methods:{init:function(){var e=this;Object(r["d"])({template_id:this.templateId}).then((function(t){var a=t.code,o=t.data,i=t.message;"200"==a?(e.form=o,e.defaultMsg1=o.head,e.defaultMsg2=o.body,e.defaultMsg3=o.tail):e.$message.error(i)}))},onShow:function(e){1==e?(this.isShow1=!this.isShow1,this.isShow2=!1,this.isShow3=!1):2==e?(this.isShow2=!this.isShow2,this.isShow1=!1,this.isShow3=!1):(this.isShow1=!1,this.isShow2=!1,this.isShow3=!this.isShow3)},tagClick:function(e,t){console.log(e),1==t?this.$refs.ue.setUEContent("{".concat(e.label,"}")):3==t?this.$refs.ue2.setUEContent("{".concat(e.label,"}")):"list"==e.flag?this.$refs.ue1.setUEContent("{职位列表开始}{职位列表结束}"):"each"==e.flag?this.$refs.ue1.setUEContent("{职位福利开始}{".concat(e.label,"}{职位福利结束}")):"企业H5场景码"==e.label?this.$refs.ue1.setUEContent('{企业H5场景码|样式="width:100px;height:100px;"}'):"职位H5场景码"==e.label?this.$refs.ue1.setUEContent('{职位H5场景码|样式="width:100px;height:100px;"}'):"企业小程序链接"==e.label?this.$refs.ue1.setUEContent('<a data-miniprogram-type="text" data-miniprogram-appid="{小程序APPID}" data-miniprogram-path="{企业小程序跳转}">查看详情</a>'):"职位小程序链接"==e.label?this.$refs.ue1.setUEContent('<a data-miniprogram-type="text" data-miniprogram-appid="{小程序APPID}" data-miniprogram-path="{职位小程序跳转}">查看详情</a>'):"企业H5链接"==e.label?this.$refs.ue1.setUEContent('<a href="{企业H5链接}">查看详情</a>'):"职位H5链接"==e.label?this.$refs.ue1.setUEContent('<a href="{职位H5链接}">查看详情</a>'):this.$refs.ue1.setUEContent("{".concat(e.label,"}"))},previewClick:function(){this.preview={header:this.$refs.ue.getUEContent(),content:this.$refs.ue1.getUEContent(),footer:this.$refs.ue2.getUEContent()}},closeClick:function(){this.$parent.addTeamplate()},saveClick:function(e){var t=this;"see"!=this.templateType&&this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.form.head=t.$refs.ue.getUEContent(),t.form.body=t.$refs.ue1.getUEContent(),t.form.tail=t.$refs.ue2.getUEContent(),Object(r["e"])(t.form).then((function(e){var a=e.code,o=e.message;"200"==a?(t.disabled?t.$message.success("模板修改成功！"):t.$message.success("模板创建成功！"),t.closeClick()):t.$message.error(o)}))}))}}},u=p,f=(a("ebf0"),a("93b4"),Object(c["a"])(u,o,i,!1,null,"5321491a",null));t["a"]=f.exports},b433:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return _})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return d}));var o=a("b775"),i=a("d722");function r(e){return Object(o["a"])({url:i["a"].marketingSearch,method:"post",data:e})}function s(e){return Object(o["a"])({url:i["a"].companySearchByKeyword,method:"post",data:e})}function n(e){return Object(o["a"])({url:i["a"].wxTemplateList,method:"post",data:e})}function l(e){return Object(o["a"])({url:i["a"].templateOption,method:"post",data:e})}function _(e){return Object(o["a"])({url:i["a"].templateEdit,method:"post",data:e})}function c(e){return Object(o["a"])({url:i["a"].templateDetails,method:"post",data:e})}function d(e){return Object(o["a"])({url:i["a"].templateDelete,method:"post",data:e})}},c8d21:function(e,t,a){},d99b:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"企业性质",prop:"nature"}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},on:{change:e.handleCheckAllNature},model:{value:e.checkNatureAll,callback:function(t){e.checkNatureAll=t},expression:"checkNatureAll"}},[e._v(" 不限 ")]),a("el-checkbox-group",{on:{change:e.handleCheckedNatureChange},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},e._l(e.options_nature,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"所属行业",prop:"trade"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:e.form.trade,callback:function(t){e.$set(e.form,"trade",t)},expression:"form.trade"}},e._l(e.options_trade,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所在地区",prop:"district"}},[a("el-cascader",{staticClass:"large",attrs:{placeholder:"不限",options:e.options_citycategory,props:e.props_citycategory,"collapse-tags":"",clearable:""},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}})],1),a("el-form-item",{attrs:{label:"企业福利",prop:"tag"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},e._l(e.options_tag,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"企业排序",prop:"time_order"}},[a("el-select",{staticClass:"large",attrs:{placeholder:"不限"},model:{value:e.form.time_order,callback:function(t){e.$set(e.form,"time_order",t)},expression:"form.time_order"}},[a("el-option",{attrs:{label:"企业刷新时间",value:"refresh_time"}}),a("el-option",{attrs:{label:"企业注册时间",value:"register_time"}})],1)],1),a("el-form-item",{attrs:{label:"会员套餐",prop:"setmeal_id"}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},on:{change:e.handleCheckAllSetmeal},model:{value:e.checkSetmealAll,callback:function(t){e.checkSetmealAll=t},expression:"checkSetmealAll"}},[e._v(" 不限 ")]),a("el-checkbox-group",{on:{change:e.handleCheckedSetmealChange},model:{value:e.form.setmeal_id,callback:function(t){e.$set(e.form,"setmeal_id",t)},expression:"form.setmeal_id"}},e._l(e.options_setmeal,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"输出内容"}},[a("el-radio-group",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}},[a("el-radio",{attrs:{label:"all"}},[e._v(" 不限 ")]),a("el-radio",{attrs:{label:"filter_nojobs"}},[e._v(" 过滤无职位企业 ")]),a("el-radio",{attrs:{label:"filter_noaudit"}},[e._v(" 过滤未认证企业 ")])],1)],1),a("el-form-item",{attrs:{label:"职位限制"}},[a("el-radio-group",{staticClass:"flex",model:{value:e.form.job_limit,callback:function(t){e.$set(e.form,"job_limit",t)},expression:"form.job_limit"}},[a("el-radio",{attrs:{label:0}},[e._v(" 不限 ")]),a("el-radio",{attrs:{label:1}},[e._v(" 1条 ")]),a("el-radio",{attrs:{label:2}},[e._v(" 2条 ")]),a("el-radio",{attrs:{label:3}},[e._v(" 3条 ")]),a("el-input-number",{staticStyle:{width:"200px"},attrs:{min:0},model:{value:e.form.condition,callback:function(t){e.$set(e.form,"condition",t)},expression:"form.condition"}})],1),a("span",{staticStyle:{color:"#999999"}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#409EFF"}}),e._v(" 每家企业最多展示多少职位")])],1),a("el-form-item",{attrs:{label:"生成数量"}},[a("el-radio-group",{model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[a("el-radio",{attrs:{label:10}},[e._v(" 10条 ")]),a("el-radio",{attrs:{label:20}},[e._v(" 20条 ")]),a("el-radio",{attrs:{label:30}},[e._v(" 30条 ")]),a("el-radio",{attrs:{label:50}},[e._v(" 50条 ")]),a("el-radio",{attrs:{label:80}},[e._v(" 80条 ")])],1)],1)],1)],1)},i=[],r=a("52b5"),s={data:function(){return{checkNatureAll:!0,checkSetmealAll:!0,props_citycategory:{multiple:!0,checkStrictly:!0},options_citycategory:[],options_trade:[],options_nature:[],options_tag:[],options_setmeal:[],form:{nature:[],trade:[],district:[],tag:[],setmeal_id:[],content:"all",num:10,job_limit:0,time_order:""},rules:{}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;Object(r["a"])({type:"companyNature,jobTag,citycategory,trade,setmealList"}).then((function(t){e.options_nature=t.data.companyNature,e.options_trade=t.data.trade,e.options_tag=t.data.jobTag,e.options_citycategory=t.data.citycategory,e.options_setmeal=t.data.setmealList})).catch((function(){}))},handleCheckAllNature:function(e){if(e)this.form.nature=[];else if(0==this.form.nature.length)return!1},handleCheckedNatureChange:function(e){var t=e.length;this.checkNatureAll=!(t>0)},handleCheckAllSetmeal:function(e){if(e)this.form.setmeal_id=[];else if(0==this.form.setmeal_id.length)return!1},handleCheckedSetmealChange:function(e){var t=e.length;this.checkSetmealAll=!(t>0)}}},n=s,l=(a("704d"),a("2877")),_=Object(l["a"])(n,o,i,!1,null,"21b94889",null);t["a"]=_.exports},deda:function(e,t,a){},e8b2:function(e,t,a){e.exports=a.p+"static/img/empty.40714d6b.jpg"},ebf0:function(e,t,a){"use strict";a("71d3")},f8d6:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"选择企业",prop:"company_id"}},[a("el-select",{staticClass:"large",attrs:{filterable:"",remote:"",multiple:"","reserve-keyword":"",placeholder:"请输入会员UID/手机号/企业名称","remote-method":e.companySearch,loading:e.search_loading},model:{value:e.form.company_ids,callback:function(t){e.$set(e.form,"company_ids",t)},expression:"form.company_ids"}},e._l(e.options_companylist,(function(t){return a("el-option",{key:t.id,attrs:{label:"【企业名称："+t.company_name+"】 / 【ID："+t.company_id+"】 / 【UID："+t.company_uid+"】",value:t.company_id,disabled:1!=t.has_job}},[a("span",{staticStyle:{float:"left"}},[e._v(" 【企业名称："+e._s(t.company_name)+"】 / 【ID："+e._s(t.company_id)+"】 / 【UID："+e._s(t.company_uid)+"】"),0==t.has_job?a("font",{attrs:{color:"red"}},[e._v("无职位")]):e._e()],1)])})),1)],1)],1)],1)},i=[],r=a("b433"),s={name:"appointCompany",data:function(){return{options_companylist:[],form:{company_ids:""},search_loading:!1,rules:{}}},created:function(){},methods:{companySearch:function(e){var t=this;console.log(e),""!==e?(this.search_loading=!0,Object(r["a"])({keyword:e}).then((function(e){console.log(e),t.options_companylist=e.data.items,t.search_loading=!1})).catch((function(){}))):this.options=[]}}},n=s,l=(a("3294"),a("2877")),_=Object(l["a"])(n,o,i,!1,null,"3341eebf",null);t["a"]=_.exports}}]);