(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cd5a892"],{"172a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAJCAYAAAAGuM1UAAAAAXNSR0IArs4c6QAAALJJREFUKFOV0LEqxwEUxfHPKYMsIpQX8AQ2mxewyGAzGMQbmC2K1aA8h0ky2s0KT8CgUEc/+eufxd+dbrf7PfecG/+otvOZdL/tGo4nAtou4RIffwJtF3CDF2ym7RRWcJ/kddxi21Wc4R27Se4GYBlXOE1yPgLaLn7bGEYbSZ6GZgCmcTIo4AAXmMM1nrGV5HEk9JWh7SwOsYfhyjresDPYGLf5E7rtDPZxhFtsJ3n4/fZPJ3I6vOCFrsYAAAAASUVORK5CYII="},2234:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"120px",rules:e.rules,"inline-message":!0}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v(" 企业信息 ")]),a("el-form-item",{attrs:{label:"公司名称",prop:"companyname"}},[a("el-input",{model:{value:e.form.companyname,callback:function(t){e.$set(e.form,"companyname",t)},expression:"form.companyname"}})],1),!0===e.live_fields.short_name?a("el-form-item",{attrs:{label:"公司简称",prop:"short_name"}},[a("el-input",{model:{value:e.form.short_name,callback:function(t){e.$set(e.form,"short_name",t)},expression:"form.short_name"}})],1):e._e(),a("el-form-item",{attrs:{label:"认证状态",prop:"audit"}},[a("el-radio-group",{model:{value:e.form.audit,callback:function(t){e.$set(e.form,"audit",t)},expression:"form.audit"}},e._l(e.options_audit,(function(t,o){return a("el-radio",{key:o,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),!0===e.live_fields.logo?a("el-form-item",{staticClass:"logo-el-form-item",attrs:{label:"Logo",prop:"logo"}},[a("div",{staticStyle:{position:"relative",height:"120px"}},[e.form.logo?a("div",{staticClass:"transparent",on:{click:e.logoDel}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除 ")]):e._e(),a("el-upload",{staticClass:"logo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleLogoSuccess,"before-upload":e.beforeLogoUpload}},[e.form.logo?a("img",{staticClass:"logo",attrs:{src:e.logoUrl}}):a("i",{staticClass:"el-icon-plus logo-uploader-icon"})])],1),a("span",{staticClass:"sendLogo",on:{click:function(t){e.logoDialogVisible=!0}}},[e._v("智能生成LOGO")]),a("span",{staticClass:"smalltip"},[a("i",{staticClass:"el-icon-info"}),e._v(" 建议尺寸120*120 ")])]):e._e(),a("el-form-item",{attrs:{label:"企业性质",prop:"nature"}},[a("el-select",{attrs:{placeholder:"请选择企业性质"},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},e._l(e.options_nature,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"公司规模",prop:"scale"}},[a("el-select",{attrs:{placeholder:"请选择公司规模"},model:{value:e.form.scale,callback:function(t){e.$set(e.form,"scale",t)},expression:"form.scale"}},e._l(e.options_scale,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属行业",prop:"trade"}},[a("el-select",{attrs:{placeholder:"请选择所属行业"},model:{value:e.form.trade,callback:function(t){e.$set(e.form,"trade",t)},expression:"form.trade"}},e._l(e.options_trade,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),!0===e.live_fields.registered?a("el-form-item",{attrs:{label:"注册资金",prop:"registered"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入注册资金"},model:{value:e.form.registered,callback:function(t){e.$set(e.form,"registered",t)},expression:"form.registered"}},[a("el-select",{staticClass:"input-sel",attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}},[a("el-option",{attrs:{label:"万人民币",value:"0"}}),a("el-option",{attrs:{label:"万美元",value:"1"}})],1)],1)],1):e._e(),!0===e.live_fields.info.website?a("el-form-item",{attrs:{label:"公司网址",prop:"info.website"}},[a("el-input",{model:{value:e.form.info.website,callback:function(t){e.$set(e.form.info,"website",t)},expression:"form.info.website"}})],1):e._e(),!0===e.live_fields.tag?a("el-form-item",{attrs:{label:"企业福利",prop:"tag"}},[a("el-select",{staticClass:"tag-input",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择企业福利","multiple-limit":10},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},e._l(e.options_tag,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"所在地区",prop:"citycategory_arr"}},[a("el-cascader",{attrs:{options:e.options_citycategory,"show-all-levels":!1},model:{value:e.form.citycategory_arr,callback:function(t){e.$set(e.form,"citycategory_arr",t)},expression:"form.citycategory_arr"}})],1),a("el-form-item",{attrs:{label:"联系地址",prop:"info.address"}},[a("el-input",{model:{value:e.form.info.address,callback:function(t){e.$set(e.form.info,"address",t)},expression:"form.info.address"}})],1),!0===e.live_fields.info.short_desc?a("el-form-item",{attrs:{label:"公司简介",prop:"info.short_desc"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.form.info.short_desc,callback:function(t){e.$set(e.form.info,"short_desc",t)},expression:"form.info.short_desc"}})],1):e._e(),!0===e.live_fields.info.content?a("el-form-item",{attrs:{label:"公司介绍",prop:"info.content"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.form.info.content,callback:function(t){e.$set(e.form.info,"content",t)},expression:"form.info.content"}})],1):e._e(),a("el-divider",{attrs:{"content-position":"left"}},[e._v(" 联系信息 ")]),a("el-form-item",{attrs:{label:"联系人",prop:"contact.contact"}},[a("el-input",{model:{value:e.form.contact.contact,callback:function(t){e.$set(e.form.contact,"contact",t)},expression:"form.contact.contact"}})],1),a("el-form-item",{attrs:{label:"联系手机",prop:"contact.mobile"}},[a("el-input",{model:{value:e.form.contact.mobile,callback:function(t){e.$set(e.form.contact,"mobile",t)},expression:"form.contact.mobile"}}),a("el-checkbox",{staticStyle:{"margin-left":"10px"},model:{value:e.secrecyHidden,callback:function(t){e.secrecyHidden=t},expression:"secrecyHidden"}},[e._v("隐藏不显示")])],1),!0===e.live_fields.contact.weixin?a("el-form-item",{attrs:{label:"联系微信",prop:"contact.weixin"}},[a("el-input",{model:{value:e.form.contact.weixin,callback:function(t){e.$set(e.form.contact,"weixin",t)},expression:"form.contact.weixin"}})],1):e._e(),!0===e.live_fields.contact.telephone?a("el-form-item",{attrs:{label:"联系固话",prop:"contact.telephone"}},[a("el-input",{model:{value:e.form.contact.telephone,callback:function(t){e.$set(e.form.contact,"telephone",t)},expression:"form.contact.telephone"}})],1):e._e(),!0===e.live_fields.contact.email?a("el-form-item",{attrs:{label:"联系邮箱",prop:"contact.email"}},[a("el-input",{model:{value:e.form.contact.email,callback:function(t){e.$set(e.form.contact,"email",t)},expression:"form.contact.email"}})],1):e._e(),!0===e.live_fields.contact.qq?a("el-form-item",{attrs:{label:"联系QQ",prop:"contact.qq"}},[a("el-input",{model:{value:e.form.contact.qq,callback:function(t){e.$set(e.form.contact,"qq",t)},expression:"form.contact.qq"}})],1):e._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 保存 ")])],1)],1),a("el-dialog",{attrs:{title:"智能生成LOGO",visible:e.logoDialogVisible,width:"455px","append-to-body":""},on:{"update:visible":function(t){e.logoDialogVisible=t},close:e.closeDialog}},[a("div",{staticClass:"logo_box"},[a("div",{attrs:{id:"img"}},[1===e.string_type?a("div",{staticClass:"backgroudcolor",style:{background:e.backgroudcolor}},[""==e.logo_name?a("span",[e._v(" LOGO ")]):a("span",[e._v(" "+e._s(e.logo_name)+" ")])]):a("div",{staticClass:"backgroudcolor2",style:{background:e.backgroudcolor}},[a("div",{staticClass:"logo_background"},[a("span",{staticClass:"logo_name"},[e._v(" "+e._s(e.logo_name)+" ")])])])]),a("div",[a("div",{staticClass:"custom"},[a("div",{staticClass:"top"},[a("span",{staticClass:"asterisk"},[e._v("*")]),a("span",{staticClass:"custom_text"},[e._v("自定义LOGO文字：")])]),a("div",{staticClass:"input"},[a("el-input",{staticClass:"custom_text_input",staticStyle:{width:"291px"},attrs:{placeholder:"请输入LOGO文字（2-4个汉字）",maxlength:"4",minlength:"2"},model:{value:e.logo_name,callback:function(t){e.logo_name=t},expression:"logo_name"}})],1),a("div",{staticClass:"color_box2"},[a("div",[a("span",{staticClass:"asterisk"},[e._v("*")]),a("span",{staticClass:"custom_colors"},[e._v("自定义LOGO颜色：")])]),a("div",{staticClass:"color_box_div"},e._l(e.color_arr,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"color_box",style:{background:t},on:{click:function(o){e.backgroudcolor=t}}},[t==e.backgroudcolor?a("img",{staticClass:"color_img",attrs:{src:o("172a"),alt:""}}):e._e()])])})),0)]),a("div",{staticClass:"logo_submit_box"},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.logoLoading},on:{click:e.save_logo}},[e._v("生成")]),a("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")])],1)])])])])],1)},i=[],r=o("5530"),s=o("2909"),n=(o("4d63"),o("ac1f"),o("2c3e"),o("25f0"),o("00b4"),o("d3b7"),o("d81d"),o("1276"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("caad"),o("2532"),o("1063")),l=o("fcac"),c=o("61f7"),u=o("5f87"),d=o("52b5"),m=o("c0e9"),f=o.n(m),g=o("d722"),p={props:{id:{default:""}},data:function(){var e=function(e,t,o){""==t&&o(),Object(c["d"])(t)?o():o(new Error("请输入正确的网址"))},t=function(e,t,o){Object(c["c"])(t)?o():o(new Error("请输入正确的手机号"))},o=function(e,t,o){Object(c["b"])(t)?o():o(new Error("请输入正确的邮箱"))};return{string_type:1,color_arr:["#3E6EF9","#FF8432","#6647FF","#8FAC0C","#3B83C0","#2CE7F3","#FF5656","#21C78E","#FECD25","#F02D94","#8EBBFB","#FEA68F","#BCB4E3","#DFE2AD","#98BAD8","#AFE8EC","#FFE2E2","#90E7D2","#FEF3C6","#F8B4E7"],logoDialogVisible:!1,logo_name:"",backgroudcolor:"#3E6EF9",secrecyHidden:!1,infoLoading:!0,submitLoading:!1,headers:{admintoken:Object(u["e"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+g["a"].upload,options_audit:[],options_nature:[],options_trade:[],options_citycategory:[],options_scale:[],options_tag:[],live_fields:{logo:!0,short_name:!0,registered:!0,tag:!0,contact:{weixin:!0,telephone:!0,qq:!0,email:!0},info:{website:!0,short_desc:!0,content:!0}},form:{companyname:"",short_name:"",nature:"",trade:"",logo:"",citycategory_arr:[],scale:"",registered:"",currency:"0",tag:[],audit:0,contact:{contact:"",mobile:"",weixin:"",telephone:"",qq:"",email:""},info:{website:"",short_desc:"",content:"",address:""}},logoUrl:"",rules:{logo:[{required:!0,message:"请上传logo",trigger:"blur"}],companyname:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:60,message:"长度在 1 到 60 个字符",trigger:"blur"}],short_name:[{required:!0,message:"请输入公司简称",trigger:"blur"},{max:60,message:"长度在 1 到 60 个字符",trigger:"blur"}],nature:[{required:!0,message:"请选择公司性质",trigger:"change"}],trade:[{required:!0,message:"请选择所属行业",trigger:"change"}],citycategory_arr:[{required:!0,message:"请选择所在地区",trigger:"change"}],scale:[{required:!0,message:"请选择公司规模",trigger:"change"}],registered:[{required:!0,message:"请输入注册资金",trigger:"blur"},{max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],tag:[{required:!0,message:"请选择企业福利",trigger:"change"}],contact:{contact:[{required:!0,message:"请输入联系人",trigger:"blur"},{max:6,message:"长度在 1 到 6 个汉字",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系手机",trigger:"blur"},{validator:t,trigger:"blur"}],weixin:[{required:!0,message:"请输入微信",trigger:"blur"}],telephone:[{required:!0,message:"请输入联系座机",trigger:"blur"}],qq:[{required:!0,message:"请输入联系QQ",trigger:"blur"}],email:[{required:!0,message:"请输入联系邮箱",trigger:"blur"},{validator:o,trigger:"blur"}]},info:{website:[{required:!0,message:"请输入公司网址",trigger:"blur"},{max:200,message:"长度在 0 到 200 个字符",trigger:"blur"},{validator:e,trigger:"blur"}],short_desc:[{required:!0,message:"请输入公司简介",trigger:"blur"},{max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],content:[{required:!0,message:"请输入公司介绍",trigger:"blur"}],address:[{required:!0,message:"请输入公司地址",trigger:"blur"},{max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}]}},logoLoading:!1}},computed:{config:function(){return this.$store.state.config}},watch:{logo_name:{handler:function(e,t){var o=new RegExp("[一-龥]+"),a=e;o.test(a)&&4===e.toString().length?this.string_type=2:this.string_type=1}}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchData()},methods:{closeDialog:function(){this.logoDialogVisible=!1,this.logo_name=""},save_logo:function(){var e=this;this.logoLoading=!0;var t=this.logo_name.length;return t<2?(this.$message.error("自定义LOGO文字至少2个汉字"),this.logoLoading=!1,!1):t>4?(this.$message.error("自定义LOGO文字至多4个汉字"),this.logoLoading=!1,!1):void(this.form.logo>0?this.$confirm("检测到已存在企业Logo,继续保存将替换原有Logo,是否确认替换？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.onsubmitLogo()})):this.onsubmitLogo())},onsubmitLogo:function(){var e=this;f()(document.querySelector("#img"),{width:80,height:80,allowTaint:!1,useCORS:!0}).then((function(t){Object(l["f"])({imgBase64:t.toDataURL(),company_id:e.id}).then((function(t){return e.$message.success(t.message),e.logoUrl=t.data.file_url,e.form.logo=t.data.file_id,e.logoDialogVisible=!1,e.logoLoading=!1,!0})).catch((function(){e.logoLoading=!1}))}))},logoDel:function(){this.logoUrl="",this.form.logo=""},fetchData:function(){var e=this;Object(n["e"])({},"get").then((function(t){var o=t.data;return 0==o.Company.logo.is_display?(e.live_fields.logo=!1,e.rules.logo=[]):0==o.Company.logo.is_require&&(e.rules.logo=[]),0==o.Company.short_name.is_display?(e.live_fields.short_name=!1,e.rules.short_name=[]):0==o.Company.short_name.is_require&&(e.rules.short_name=[]),0==o.Company.registered.is_display?(e.live_fields.registered=!1,e.rules.registered=[]):0==o.Company.registered.is_require&&(e.rules.registered=[]),0==o.Company.tag.is_display?(e.live_fields.tag=!1,e.rules.tag=[]):0==o.Company.tag.is_require&&(e.rules.tag=[]),0==o.CompanyInfo.website.is_display?(e.live_fields.info.website=!1,e.rules.info.website=[]):0==o.CompanyInfo.website.is_require&&(e.rules.info.website=[]),0==o.CompanyInfo.short_desc.is_display?(e.live_fields.info.short_desc=!1,e.rules.info.short_desc=[]):0==o.CompanyInfo.short_desc.is_require&&(e.rules.info.short_desc=[]),0==o.CompanyInfo.content.is_display?(e.live_fields.info.content=!1,e.rules.info.content=[]):0==o.CompanyInfo.content.is_require&&(e.rules.info.content=[]),0==o.CompanyContact.weixin.is_display?(e.live_fields.contact.weixin=!1,e.rules.contact.weixin=[]):0==o.CompanyContact.weixin.is_require&&(e.rules.contact.weixin=[]),0==o.CompanyContact.telephone.is_display?(e.live_fields.contact.telephone=!1,e.rules.contact.telephone=[]):0==o.CompanyContact.telephone.is_require&&(e.rules.contact.telephone=[]),0==o.CompanyContact.qq.is_display?(e.live_fields.contact.qq=!1,e.rules.contact.qq=[]):0==o.CompanyContact.qq.is_require&&(e.rules.contact.qq=[]),0==o.CompanyContact.email.is_display?(e.live_fields.contact.email=!1,e.rules.contact.email=[]):0==o.CompanyContact.email.is_require&&(e.rules.contact.email=[]),Object(d["a"])({type:"companyAudit,companyNature,trade,citycategory,companyScale,jobTag,setmealList"})})).then((function(t){if(e.options_audit=Object(s["a"])(t.data.companyAudit),e.options_nature=Object(s["a"])(t.data.companyNature),e.options_trade=Object(s["a"])(t.data.trade),e.options_citycategory=Object(s["a"])(t.data.citycategory),e.options_citycategory=e.options_citycategory.map((function(e){if(e.children.length){var t=e.children;return t=t.map((function(e){return e.children.length?{label:e.label,value:e.value,children:e.children}:{label:e.label,value:e.value}})),{value:e.value,label:e.label,children:t}}return{value:e.value,label:e.label}})),e.options_scale=Object(s["a"])(t.data.companyScale),e.options_tag=Object(s["a"])(t.data.jobTag),e.options_setmeal=Object(s["a"])(t.data.setmealList),""!=e.id)return Object(l["b"])({id:e.id},"get")})).then((function(t){e.form=Object(r["a"])({},t.data.info),e.form.nature=0==t.data.info.nature?"":t.data.info.nature,e.form.scale=0==t.data.info.scale?"":t.data.info.scale,e.form.trade=0==t.data.info.trade?"":t.data.info.trade,e.logoUrl=t.data.logoUrl,e.form.currency=e.form.currency+"";var o=[];e.form.tag=""==e.form.tag?[]:e.form.tag.split(",");for(var a=0;a<e.form.tag.length;a++)e.form.tag[a]=parseInt(e.form.tag[a]);0!=t.data.info.district1&&o.push(t.data.info.district1),0!=t.data.info.district2&&o.push(t.data.info.district2),0!=t.data.info.district3&&o.push(t.data.info.district3),e.secrecyHidden=1!=e.form.contact.is_secrecy,e.$set(e.form,"citycategory_arr",o),e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this;if(!0===this.submitLoading)return!1;this.submitLoading=!0;var o=Object(r["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return t.submitLoading=!1,!1;var a=t.form.citycategory_arr;o.district1=a[0],o.district2=void 0!==a[1]?a[1]:0,o.district3=void 0!==a[2]?a[2]:0,o.contact=Object(r["a"])({},t.form.contact),o.info=Object(r["a"])({},t.form.info),o.contact.is_secrecy=!0===t.secrecyHidden?0:1,Object(l["b"])(o).then((function(e){return t.$message.success(e.message),t.$emit("companyDetails"),t.submitLoading=!1,!0})).catch((function(){t.submitLoading=!1}))}))},handleLogoSuccess:function(e,t){if(200!=e.code)return this.$message.error(e.message),!1;this.logoUrl=URL.createObjectURL(t.raw),this.form.logo=e.data.file_id},beforeLogoUpload:function(e){var t=e.type.split("/"),o=t[1],a=this.fileupload_ext.split(",");return a.includes(o)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)},goto:function(e){this.$router.push(e)}}},b=p,_=(o("4c28"),o("2877")),h=Object(_["a"])(b,a,i,!1,null,"27e9d79f",null);t["default"]=h.exports},"31a7":function(e,t,o){},"4c28":function(e,t,o){"use strict";o("31a7")},"52b5":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var a=o("b775"),i=o("d722");function r(e){return Object(a["a"])({url:i["a"].getClassify,method:"get",params:e})}},fcac:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"d",(function(){return n})),o.d(t,"e",(function(){return l})),o.d(t,"a",(function(){return c})),o.d(t,"f",(function(){return u}));var a=o("b775"),i=o("d722");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(a["a"])({url:i["a"].companyEdit,method:t,data:e}):Object(a["a"])({url:i["a"].companyEdit,method:t,params:e})}function s(e){return Object(a["a"])({url:i["a"].companyImgDelete,method:"post",data:e})}function n(e){return Object(a["a"])({url:i["a"].companyInterviewList,method:"get",params:e})}function l(e){return Object(a["a"])({url:i["a"].companyInterviewVideoList,method:"get",params:e})}function c(e){return Object(a["a"])({url:i["a"].companyDownList,method:"get",params:e})}function u(e){return Object(a["a"])({url:i["a"].sendCompanyLogo,method:"post",data:e})}}}]);