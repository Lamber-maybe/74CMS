(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc631828"],{b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var r=a("06c5");function i(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(l)throw o}}}}},ec58:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"验证码",lazy:!0}},[a("captcha")],1),a("el-tab-pane",{attrs:{label:"IP黑名单",lazy:!0}},[a("ip")],1),a("el-tab-pane",{attrs:{label:"敏感词过滤",lazy:!0}},[a("badword")],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t._m(0),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:t.form,"label-width":"140px",rules:t.rules,"inline-message":!0}},[a("el-form-item",{attrs:{label:"开启验证"}},[a("el-switch",{model:{value:t.form.captcha_open,callback:function(e){t.$set(t.form,"captcha_open",e)},expression:"form.captcha_open"}})],1),a("el-form-item",{attrs:{label:"验证渠道"}},[a("el-radio-group",{model:{value:t.form.captcha_type,callback:function(e){t.$set(t.form,"captcha_type",e)},expression:"form.captcha_type"}},[a("el-radio",{attrs:{label:"picture"}},[t._v("图片验证码")]),a("el-radio",{attrs:{label:"vaptcha"}},[t._v("手势验证")]),a("el-radio",{attrs:{label:"tencent"}},[t._v("腾讯防水墙")])],1)],1),"picture"==t.form.captcha_type?a("el-form-item",{attrs:{label:"使用中文验证码"}},[a("el-switch",{model:{value:t.form.picture.useZh,callback:function(e){t.$set(t.form.picture,"useZh",e)},expression:"form.picture.useZh"}})],1):t._e(),"picture"==t.form.captcha_type?a("el-form-item",{attrs:{label:"是否画混淆曲线"}},[a("el-switch",{model:{value:t.form.picture.useCurve,callback:function(e){t.$set(t.form.picture,"useCurve",e)},expression:"form.picture.useCurve"}})],1):t._e(),"picture"==t.form.captcha_type?a("el-form-item",{attrs:{label:"是否添加杂点"}},[a("el-switch",{model:{value:t.form.picture.useNoise,callback:function(e){t.$set(t.form.picture,"useNoise",e)},expression:"form.picture.useNoise"}})],1):t._e(),"picture"==t.form.captcha_type?a("el-form-item",{attrs:{label:"验证码位数",prop:"length"}},[a("el-input",{model:{value:t.form.picture.length,callback:function(e){t.$set(t.form.picture,"length",e)},expression:"form.picture.length"}})],1):t._e(),"vaptcha"==t.form.captcha_type?a("el-form-item",{attrs:{label:"vid",prop:"captcha_vaptcha_vid"}},[a("el-input",{model:{value:t.form.captcha_vaptcha_vid,callback:function(e){t.$set(t.form,"captcha_vaptcha_vid",e)},expression:"form.captcha_vaptcha_vid"}})],1):t._e(),"vaptcha"==t.form.captcha_type?a("el-form-item",{attrs:{label:"key",prop:"captcha_vaptcha_key"}},[a("el-input",{model:{value:t.form.captcha_vaptcha_key,callback:function(e){t.$set(t.form,"captcha_vaptcha_key",e)},expression:"form.captcha_vaptcha_key"}})],1):t._e(),"tencent"==t.form.captcha_type?a("el-form-item",{attrs:{label:"appid",prop:"captcha_tencent_appid"}},[a("el-input",{model:{value:t.form.captcha_tencent_appid,callback:function(e){t.$set(t.form,"captcha_tencent_appid",e)},expression:"form.captcha_tencent_appid"}})],1):t._e(),"tencent"==t.form.captcha_type?a("el-form-item",{attrs:{label:"secretkey",prop:"captcha_tencent_appsecret"}},[a("el-input",{model:{value:t.form.captcha_tencent_appsecret,callback:function(e){t.$set(t.form,"captcha_tencent_appsecret",e)},expression:"form.captcha_tencent_appsecret"}})],1):t._e(),a("el-form-item",{attrs:{label:"密码登录错误次数",prop:"length"}},[a("el-input",{model:{value:t.form.captcha_show_by_pwd_error,callback:function(e){t.$set(t.form,"captcha_show_by_pwd_error",e)},expression:"form.captcha_show_by_pwd_error"}}),a("span",{staticClass:"smalltip"},[a("i",{staticClass:"el-icon-info"}),t._v(" 填写数字，0为开启验证码，如设置为3，则错误3次才发起验证 ")])],1),a("el-form-item",{attrs:{label:"验证码登录错误次数",prop:"length"}},[a("el-input",{model:{value:t.form.captcha_show_by_code_error,callback:function(e){t.$set(t.form,"captcha_show_by_code_error",e)},expression:"form.captcha_show_by_code_error"}}),a("span",{staticClass:"smalltip"},[a("i",{staticClass:"el-icon-info"}),t._v(" 填写数字，0为开启验证码，如设置为3，则错误3次才发起验证 ")])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tip"},[a("p",[t._v(" 骑士人才系统已集成多种渠道安全验证，使用验证需正确配置相关渠道信息。 ")])])}],c=a("5530"),l=a("1063"),s={data:function(){return{infoLoading:!0,form:{captcha_open:!0,captcha_type:"picture",picture:{useZh:!0,useCurve:!0,useNoise:!0,length:0},captcha_tencent_appid:"",captcha_tencent_appsecret:"",captcha_vaptcha_vid:"",captcha_vaptcha_key:"",captcha_show_by_pwd_error:"",captcha_show_by_code_error:""},rules:{}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;this.infoLoading=!0;var e={};Object(l["j"])(e,"get").then((function(e){var a=Object(c["a"])({},e.data),r=a.captcha_open,i=a.captcha_type,n=a.captcha_picture_rule,o=a.captcha_tencent_appid,l=a.captcha_tencent_appsecret,s=a.captcha_vaptcha_vid,p=a.captcha_vaptcha_key,u=a.captcha_show_by_pwd_error,f=a.captcha_show_by_code_error;t.form.captcha_open=1==r,t.form.captcha_type=i,t.form.picture={useZh:1==n.useZh,useCurve:1==n.useCurve,useNoise:1==n.useNoise,length:n.length},t.form.captcha_tencent_appid=o,t.form.captcha_tencent_appsecret=l,t.form.captcha_vaptcha_vid=s,t.form.captcha_vaptcha_key=p,t.form.captcha_show_by_pwd_error=u,t.form.captcha_show_by_code_error=f,t.infoLoading=!1})).catch((function(){}))},onSubmit:function(t){var e=this,a=this,r={captcha_open:1==a.form.captcha_open?1:0,captcha_type:a.form.captcha_type,captcha_picture_rule:{useZh:1==a.form.picture.useZh?1:0,useCurve:1==a.form.picture.useCurve?1:0,useNoise:1==a.form.picture.useNoise?1:0,length:a.form.picture.length},captcha_tencent_appid:a.form.captcha_tencent_appid,captcha_tencent_appsecret:a.form.captcha_tencent_appsecret,captcha_vaptcha_vid:a.form.captcha_vaptcha_vid,captcha_vaptcha_key:a.form.captcha_vaptcha_key,captcha_show_by_pwd_error:a.form.captcha_show_by_pwd_error,captcha_show_by_code_error:a.form.captcha_show_by_code_error};this.$refs[t].validate((function(t){if(!t)return!1;Object(l["j"])(r).then((function(t){return e.$store.dispatch("config/getConfigInfo"),e.$message.success(t.message),!0})).catch((function(){}))}))}}},p=s,u=a("2877"),f=Object(u["a"])(p,n,o,!1,null,null,null),m=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:t.form,"label-width":"80px","inline-message":!0}},[a("el-form-item",{attrs:{label:"黑名单IP"}},[a("el-input",{staticClass:"middle",attrs:{type:"textarea",rows:4},model:{value:t.form.filter_ip,callback:function(e){t.$set(t.form,"filter_ip",e)},expression:"form.filter_ip"}}),a("span",{staticClass:"smalltip"},[a("i",{staticClass:"el-icon-info"}),t._v(" 多个ip地址请用“|”隔开 ")])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1)},d=[],_={data:function(){return{infoLoading:!0,form:{filter_ip:""}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;this.infoLoading=!0;var e={};Object(l["j"])(e,"get").then((function(e){var a=Object(c["a"])({},e.data),r=a.filter_ip;t.form.filter_ip=r,t.infoLoading=!1})).catch((function(){}))},onSubmit:function(t){var e=this,a=this,r={filter_ip:a.form.filter_ip};this.$refs[t].validate((function(t){if(!t)return!1;Object(l["j"])(r).then((function(t){return e.$store.dispatch("config/getConfigInfo"),e.$message.success(t.message),!0})).catch((function(){}))}))}}},b=_,v=Object(u["a"])(b,h,d,!1,null,null,null),g=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"list-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入敏感词"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.funSearchKeyword.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.funSearchKeyword},slot:"append"})],1)],1),a("div",{staticClass:"spaceline"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"42"}}),a("el-table-column",{attrs:{label:"敏感词",prop:"name","min-width":"200"}}),a("el-table-column",{attrs:{label:"替换词",prop:"replace_text","min-width":"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.funEdit(e.row)}}},[t._v(" 编辑 ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.funDelete(e.$index,e.row)}}},[t._v(" 删除 ")])]}}])})],1),a("div",{staticClass:"spaceline"}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.funAdd}},[t._v(" 添加 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.funUploadImport}},[t._v(" 导入 ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.funDeleteBatch}},[t._v(" 删除所选 ")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:16}},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,15,20,30,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t.dialogFormVisible?a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,width:"25%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"敏感词",prop:"name"}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{type:"text",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"替换词",prop:"replace_text"}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{type:"text",autocomplete:"off"},model:{value:t.form.replace_text,callback:function(e){t.$set(t.form,"replace_text",e)},expression:"form.replace_text"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1):t._e(),t.dialogImportVisible?a("el-dialog",{attrs:{title:"导入敏感词",visible:t.dialogImportVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogImportVisible=e}}},[a("div",{staticClass:"tip"},[a("p",[t._v(" 仅支持TXT文件 ")]),a("p",[t._v(" 格式：小姐姐(屏蔽的字、词)|xxx(替换的字、词、符号) ")]),a("p",[t._v(" 多个关键字请换行处理！ ")])]),a("el-form",{ref:"form_import",attrs:{model:t.form_import,"status-icon":"",rules:t.rules_import,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"敏感词",prop:"file"}},[a("el-upload",{attrs:{action:"","auto-upload":!1,"show-file-list":!1,"on-change":t.readData}},[a("el-button",{attrs:{plain:"",size:"mini"}},[t._v("上传txt")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onImport("form_import")}}},[t._v("导入")])],1)],1)],1):t._e()],1)},w=[],x=a("b85c"),k=(a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("b775")),$=a("d722");function C(t){return Object(k["a"])({url:$["a"].badwordList,method:"get",params:t})}function I(t){return Object(k["a"])({url:$["a"].badwordAdd,method:"post",data:t})}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(k["a"])({url:$["a"].badwordEdit,method:e,data:t}):Object(k["a"])({url:$["a"].badwordEdit,method:e,params:t})}function S(t){return Object(k["a"])({url:$["a"].badwordDelete,method:"post",data:t})}function z(t){return Object(k["a"])({url:$["a"].badwordImport,method:"post",data:t})}var L={data:function(){return{dialogImportVisible:!1,dialogFormVisible:!1,dialogTitle:"",form:{id:"",name:"",replace_text:""},rules:{name:[{required:!0,message:"请填写敏感词",trigger:"blur"}],replace_text:[{required:!0,message:"请填写替换词",trigger:"blur"}]},tableIdarr:[],list:null,listLoading:!0,total:0,currentPage:1,pagesize:10,keyword:"",form_import:{file:""},rules_import:{file:[{required:!0,message:"请上传txt文件",trigger:"blur"}]},importList:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0;var e={keyword:this.keyword,page:this.currentPage,pagesize:this.pagesize};C(e).then((function(e){t.list=e.data.items,t.listLoading=!1,t.total=e.data.total,t.currentPage=e.data.current_page,t.pagesize=e.data.pagesize}))},handleSizeChange:function(t){this.pagesize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},funSearchKeyword:function(){this.currentPage=1,this.fetchData()},funEdit:function(t){this.form=t,this.dialogFormVisible=!0,this.dialogTitle="修改敏感词"},funAdd:function(){this.form={},this.dialogFormVisible=!0,this.dialogTitle="添加敏感词"},funAddSave:function(t){var e=this;I(t).then((function(t){return e.$message.success(t.message),e.dialogFormVisible=!1,e.fetchData(),!0})).catch((function(){}))},funEditSave:function(t){var e=this;j(t).then((function(t){return e.$message.success(t.message),e.dialogFormVisible=!1,e.fetchData(),!0})).catch((function(){}))},onSubmit:function(t){var e=this,a=Object(c["a"])({},e.form);this.$refs[t].validate((function(t){if(!t)return!1;""==e.form.id||void 0===e.form.id?e.funAddSave(a):e.funEditSave(a)}))},funDelete:function(t,e){var a=this;a.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:e.id};S(t).then((function(t){return a.$message.success(t.message),a.fetchData(),!0}))})).catch((function(){}))},funDeleteBatch:function(){var t=this;if(0==t.tableIdarr.length)return t.$message.error("请选择要删除的数据"),!1;t.$confirm("此操作将永久删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={id:t.tableIdarr};S(e).then((function(e){return t.$message.success(e.message),t.fetchData(),!0}))})).catch((function(){}))},handleSelectionChange:function(t){if(this.tableIdarr=[],t.length>0){var e,a=Object(x["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;this.tableIdarr.push(r.id)}}catch(i){a.e(i)}finally{a.f()}}},onImport:function(t){var e=this,a=this;this.$refs[t].validate((function(t){if(!t)return!1;z(a.importList).then((function(t){return e.$message.success(t.message),e.dialogImportVisible=!1,e.fetchData(),!0})).catch((function(){}))}))},funUploadImport:function(){this.importList=[],this.dialogImportVisible=!0},readData:function(t){var e=this;if("text/plain"===t.raw.type){var a=new FileReader;a.readAsText(t.raw,"UTF-8"),a.onerror=function(t){e.$message.error("读取文件错误")},a.onload=function(a){var r=a.target.result.split("\n"),i=[];r.forEach((function(t){var e=t.split("|");i.push({name:e[0],replace_text:e[1]})})),0!=i.length?(e.importList=i,e.form_import.file=t,e.$message.success("上传成功")):e.$message.error("没有读取到文件信息")}}else e.$message.error("请上传txt文件")}}},O=L,D=Object(u["a"])(O,y,w,!1,null,null,null),E=D.exports,V={components:{captcha:m,ip:g,badword:E}},T=V,N=Object(u["a"])(T,r,i,!1,null,null,null);e["default"]=N.exports}}]);