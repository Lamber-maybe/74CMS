(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c86b278"],{"23b2":function(e,t,i){},"5fa1":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("个人备份资料")])]),i("div",{staticClass:"list-search"},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"440px",float:"left"},attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.funSearchKeyword.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[i("el-select",{staticClass:"input-sel",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.key_type,callback:function(t){e.key_type=t},expression:"key_type"}},[i("el-option",{attrs:{label:"简历名称",value:"1"}})],1),i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.funSearchKeyword},slot:"append"})],1)],1),i("div",{staticClass:"spaceline"}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{data:e.list,border:"",stripe:"","element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"sort-change":e.sortTable,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{fixed:"",type:"selection",width:"42"}}),e._l(e.fieldData,(function(t){return 1==t.is_locking&&1==t.select?i("el-table-column",{attrs:{width:t.width,fixed:"",prop:t.field,sortable:t.is_sortable},scopedSlots:e._u([{key:"header",fn:function(a){return[i("div",{class:"custom"==t.is_sortable?"sotrTime":"",on:{mouseenter:function(i){return e.locks(t.field)},mouseleave:function(i){return e.locks(t.field)}}},[i("span",[e._v(e._s(t.name))]),1==t.is_lock_display?i("div",{staticClass:"unlock_display",attrs:{slot:"reference"},on:{click:function(i){return e.locking(t.field)}},slot:"reference"}):e._e(),0==t.is_lock_display?i("div",{staticClass:"unlock",attrs:{slot:"reference"},on:{click:function(i){return e.locking(t.field)}},slot:"reference"}):e._e()])]}},{key:"default",fn:function(a){return["rid"==t.field?i("div",[""==a.row.rid?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.rid))])]):e._e(),"fullname"==t.field?i("div",[""==a.row.fullname?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.fullname))])]):e._e(),"contact_mobile"==t.field?i("div",[""==a.row.contact_mobile?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.contact_mobile))])]):e._e(),"mobile"==t.field?i("div",[""==a.row.mobile?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.mobile))])]):e._e(),"delivery_num"==t.field?i("div",[""==a.row.delivery_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.delivery_num))])]):e._e(),"download_num"==t.field?i("div",[""==a.row.download_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.download_num))])]):e._e(),"viewed_num"==t.field?i("div",[""==a.row.viewed_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.viewed_num))])]):e._e(),"invitation_num"==t.field?i("div",[""==a.row.invitation_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.invitation_num))])]):e._e(),"reg_time"==t.field?i("div",[""==a.row.reg_time?i("span",[e._v("-")]):i("span",[e._v(e._s(e._f("timeFilter")(a.row.reg_time)))])]):e._e(),"cancel_apply_time"==t.field?i("div",[""==a.row.cancel_apply_time?i("span",[e._v("-")]):i("span",[e._v(e._s(e._f("timeFilter")(a.row.cancel_apply_time)))])]):e._e()]}}],null,!0)}):e._e()})),e._l(e.fieldData,(function(t){return 0==t.is_locking&&1==t.select?i("el-table-column",{attrs:{width:t.width,prop:t.field,sortable:t.is_sortable},scopedSlots:e._u([{key:"header",fn:function(a){return[i("div",{class:"custom"==t.is_sortable?"sotrTime":"",on:{mouseenter:function(i){return e.locks(t.field)},mouseleave:function(i){return e.locks(t.field)}}},[i("span",[e._v(e._s(t.name))]),1==t.is_lock_display?i("div",{staticClass:"lock_display",attrs:{slot:"reference"},on:{click:function(i){return e.locking(t.field)}},slot:"reference"}):e._e(),0==t.is_lock_display?i("div",{staticClass:"lock",attrs:{slot:"reference"},on:{click:function(i){return e.locking(t.field)}},slot:"reference"}):e._e()])]}},{key:"default",fn:function(a){return["rid"==t.field?i("div",[""==a.row.rid?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.rid))])]):e._e(),"fullname"==t.field?i("div",[""==a.row.fullname?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.fullname))])]):e._e(),"contact_mobile"==t.field?i("div",[""==a.row.contact_mobile?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.contact_mobile))])]):e._e(),"mobile"==t.field?i("div",[""==a.row.mobile?i("span",[e._v("-")]):i("span",[e._v(e._s(a.row.mobile))])]):e._e(),"delivery_num"==t.field?i("div",[""==a.row.delivery_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.delivery_num))])]):e._e(),"download_num"==t.field?i("div",[""==a.row.download_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.download_num))])]):e._e(),"viewed_num"==t.field?i("div",[""==a.row.viewed_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.viewed_num))])]):e._e(),"invitation_num"==t.field?i("div",[""==a.row.invitation_num?i("span",[e._v("0")]):i("span",[e._v(e._s(a.row.invitation_num))])]):e._e(),"reg_time"==t.field?i("div",[""==a.row.reg_time?i("span",[e._v("-")]):i("span",[e._v(e._s(e._f("timeFilter")(a.row.reg_time)))])]):e._e(),"cancel_apply_time"==t.field?i("div",[""==a.row.cancel_apply_time?i("span",[e._v("-")]):i("span",[e._v(e._s(e._f("timeFilter")(a.row.cancel_apply_time)))])]):e._e()]}}],null,!0)}):e._e()}))],2),i("div",{staticClass:"spaceline"}),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:10}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.choose}},[e._v(" 全选/反选 ")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.funExport}},[e._v(" 导出 ")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.funDeleteBatch()}}},[e._v(" 删除 ")])],1),i("el-col",{attrs:{span:8}}),i("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:8,span:16}},[i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,15,20,30,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},n=[],s=i("b85c"),l=(i("e9c4"),i("4e82"),i("a15b"),i("d81d"),i("d3b7"),i("159b"),i("f8b5")),o=i("ed08"),r=i("f09a"),c={name:"PersonCancelBackup",filters:{timeFilter:function(e){return Object(o["b"])(e,"{y}-{m}-{d} {h}:{i}")}},data:function(){return{list:null,listLoading:!0,total:0,currentPage:1,pagesize:10,key_type:"1",keyword:"",tableData:[],tableIdarr:[],fieldData:[{name:"简历id",field:"rid",select:!0,is_locking:!1,is_lock_display:!1,width:100,is_sortable:!1},{name:"简历名称",field:"fullname",select:!0,is_locking:!1,is_lock_display:!1,width:201,is_sortable:!1},{name:"联系方式",field:"contact_mobile",select:!0,is_locking:!1,is_lock_display:!1,width:200,is_sortable:!1},{name:"注册手机号",field:"mobile",select:!0,is_locking:!1,is_lock_display:!1,width:200,is_sortable:!1},{name:"投递数",field:"delivery_num",select:!0,is_locking:!1,is_lock_display:!1,width:174,is_sortable:!1},{name:"被下载数",field:"download_num",select:!0,is_locking:!1,is_lock_display:!1,width:174,is_sortable:!1},{name:"被查看数",field:"viewed_num",select:!0,is_locking:!1,is_lock_display:!1,width:174,is_sortable:!1},{name:"被邀请数",field:"invitation_num",select:!0,is_locking:!1,is_lock_display:!1,width:174,is_sortable:!1},{name:"注册时间",field:"reg_time",select:!0,is_locking:!1,is_lock_display:!1,width:200,is_sortable:"custom"},{name:"申请时间",field:"cancel_apply_time",select:!0,is_locking:!1,is_lock_display:!1,width:200,is_sortable:"custom"}],mealScreenData:[],setmeal:"",setmealName:"",sort_type:"",sort:""}},created:function(){this.fetchData(),this.getField()},methods:{locking:function(e){for(var t=0;t<=this.fieldData.length-1;t++)this.fieldData[t].field==e&&(1==this.fieldData[t].is_locking?(this.fieldData[t].is_locking=!1,this.fieldData[t].is_lock_display=!1,this.fieldData[t].icon="el-icon-lock"):(this.fieldData[t].icon="el-icon-unlock",this.fieldData[t].is_lock_display=!1,this.fieldData[t].is_locking=!0));this.setFieldConfirm()},getField:function(){var e=this;Object(r["c"])({name:"personCancelBackup"}).then((function(t){""!=t.data&&(e.fieldData=JSON.parse(t.data))})).catch((function(){}))},setFieldConfirm:function(){var e=this;Object(r["d"])({name:"personCancelBackup",value:JSON.stringify(this.fieldData)}).then((function(t){200==t.code?e.$message.success(t.message):e.$message.error(t.message),e.visiblepop=!1,e.menu_icon="menu"})).catch((function(){}))},locks:function(e){for(var t=0;t<=this.fieldData.length-1;t++)this.fieldData[t].field==e&&(1==this.fieldData[t].is_lock_display?this.fieldData[t].is_lock_display=!1:this.fieldData[t].is_lock_display=!0)},sortTable:function(e){var t=e.column,i=e.order;this.sortType="ascending"==i?"asc":"descending"==i?"desc":"",this.sort_type=t.property,this.sort=this.sortType,this.backupsList()},goto:function(e){this.$router.push(e)},funExport:function(){var e=this;if(0==e.$store.state.user.access_export)return e.$message.error("当前管理员没有导出权限"),!1;if(0==e.tableIdarr.length)return e.$message.error("请选择要导出的数据"),!1;var t={utype:2,id:e.tableIdarr.join(",")};Object(l["d"])(t).then((function(t){return 200==t.code?e.exportExcel(t.data):(e.$message.error(t.message),e.waiting=!1),!0}))},exportExcel:function(e){var t=this;Promise.all([i.e("chunk-519483dc"),i.e("chunk-6114e0a1"),i.e("chunk-91140928")]).then(function(){var a=i("39a0"),n=a.export_json_to_excel,s=["简历ID","姓名","性别","年龄","现居住地","身高","婚姻状况","学历","工作经验","户籍","专业","身份证号","求职状态","意向行业","意向职位","意向薪资","意向工作地区","意向工作性质","联系手机","联系微信","联系qq","联系邮箱","注册时间","刷新时间"],l=["id","fullname","sex","age","residence","height","marriage","education","experience","householdaddress","major","idcard","current","intention_trade","intention_jobs","intention_wage","intention_district","intention_nature","mobile","weixin","qq","email","addtime","refreshtime"],o=t.formatJson(l,e);n(s,o,"个人注销备份导出")}.bind(null,i)).catch(i.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},handleSelectionChange:function(e){if(this.tableIdarr=[],e.length>0){var t,i=Object(s["a"])(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.tableIdarr.push(a.id)}}catch(n){i.e(n)}finally{i.f()}}},funDeleteBatch:function(){if(0==this.tableIdarr.length)return this.$message.error("请选择要删除的数据"),!1;var e=this;e.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:e.tableIdarr,utype:2};Object(l["a"])(t).then((function(t){return e.$message.success(t.message),e.fetchData(),!0}))})).catch((function(){}))},choose:function(){var e=this;this.tableData.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)}))},fetchData:function(){var e=this;this.listLoading=!0;var t={key_type:this.key_type,keyword:this.keyword,page:this.currentPage,pagesize:this.pagesize,utype:2};Object(l["b"])(t).then((function(t){e.tableData=t.data.items,e.list=t.data.items,e.listLoading=!1,e.total=t.data.total,e.currentPage=t.data.current_page,e.pagesize=t.data.pagesize}))},backupsList:function(){var e=this;this.loading=!0,localStorage.getItem("resume_audit")&&"1"==localStorage.getItem("resume_audit")&&(this.setmeal="0",localStorage.setItem("resume_audit","")),Object(l["b"])({key_type:this.key_type,keyword:this.keyword,page:this.currentPage,pagesize:this.pagesize,utype:2,setmeal_id:this.setmeal,sort_type:this.sort_type,sort:this.sort}).then((function(t){e.tableData=t.data.items,e.list=t.data.items,e.listLoading=!1,e.total=t.data.total,e.currentPage=t.data.current_page,e.pagesize=t.data.pagesize})).catch((function(){e.loading=!1}))},handleSizeChange:function(e){this.pagesize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},funSearch:function(){this.fetchData()},funSearchKeyword:function(){this.currentPage=1,this.fetchData()}}},d=c,_=(i("f8b1"),i("2877")),u=Object(_["a"])(d,a,n,!1,null,"37712f61",null);t["default"]=u.exports},f8b1:function(e,t,i){"use strict";i("23b2")}}]);